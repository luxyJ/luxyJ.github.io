<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>luyaJ的小博客</title>
  <subtitle>talk is cheap,show me the code</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-05-25T09:48:38.756Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>luyaJ</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>《图解HTTP》</title>
    <link href="http://yoursite.com/2018/05/24/%E3%80%8A%E5%9B%BE%E8%A7%A3HTTP%E3%80%8B/"/>
    <id>http://yoursite.com/2018/05/24/《图解HTTP》/</id>
    <published>2018-05-24T07:41:37.000Z</published>
    <updated>2018-05-25T09:48:38.756Z</updated>
    
    <content type="html"><![CDATA[<p>学习《图解HTTP》笔记。</p>
<a id="more"></a>
<p>通过发送请求获取服务器资源的Web浏览器等，称为<strong>客户端</strong>。</p>
<p><img src="http://p983im8gr.bkt.clouddn.com/client-server.png" alt="client-server"></p>
<h1 id="TCP-IP"><a href="#TCP-IP" class="headerlink" title="TCP/IP"></a>TCP/IP</h1><p>把互联网相关联的协议集合起来总成为 <code>TCP/IP</code>。</p>
<p>TCP/IP 协议族里最重要的一点就是<strong>分层</strong>。按层次分为4层：<strong>应用层、传输层、网络层和数据链路层</strong>。</p>
<p>而这样的分层是有好处的。如果一个互联网只由一个协议统筹，某个地方需要改变设计时，就必须把所有部分整体替换掉。而分层后，只需要把变动的层替换掉就好。</p>
<h2 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h2><p>应用层决定了向用户提供应用服务时通信的活动。</p>
<p>TCP/IP 协议族内预存了各类通用的应用服务。比如，<code>FTP</code> (File Transfer Protocol，文件传输协议)和 <code>DNS</code> (Domain Name System，域名系统)服务就是其中的两类。<code>HTTP</code> 协议也处于该层。</p>
<h2 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h2><p>传输层对上层应用层，提供处于网络连接中的两台计算机之间的数据传输。</p>
<p>在传输层有两个性质不同的协议：<code>TCP</code> (Transmission Control Protocal, 传输控制协议)和 <code>UDP</code> (User Data Protocal, 用户数据报协议)。</p>
<h2 id="网络层（网络互连层）"><a href="#网络层（网络互连层）" class="headerlink" title="网络层（网络互连层）"></a>网络层（网络互连层）</h2><p>网络层用来处理在网络上流动的数据包。数据包是网络传输的最小数据单位。</p>
<p>该层规定了通过怎样的路径（所谓的传输路线）到达对方计算机，并把数据包传送给对方。</p>
<p>与对象计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输路线。</p>
<h2 id="链路层（又名数据链路层，网络接口层）"><a href="#链路层（又名数据链路层，网络接口层）" class="headerlink" title="链路层（又名数据链路层，网络接口层）"></a>链路层（又名数据链路层，网络接口层）</h2><p>用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等物理可见部分。</p>
<h2 id="TCP-IP-通信传输流"><a href="#TCP-IP-通信传输流" class="headerlink" title="TCP/IP 通信传输流"></a>TCP/IP 通信传输流</h2><p><img src="http://p983im8gr.bkt.clouddn.com/trans.png" alt="通信传输过程"></p>
<p>利用 <code>TCP/IP</code>协议族进行网络通信时，会通过分层顺序与对方进行通信。发送端从应用层往下走，接收端则往应用层方向走。</p>
<p>我们使用 <code>HTTP</code> 举例来说明：</p>
<ul>
<li>首先作为发送端的客户端在应用层（HTTP协议）发出一个想看某个Web页面的 HTTP 请求。</li>
<li>接着，为了传输方便，在传输层（TCP协议）把从应用层处收到的数据（HTTP请求报文）进行分割，并在各个报文上打上标记序号及端口号后转发给网络层。</li>
<li>在网络层（IP协议），增加作为通信目的地的 MAC 地址后转发给链路层。这样网络的通信请求就准备齐全了。</li>
<li>接收端的服务器在链路层接收到数据，按序往上层发送，一直到应用层。当传输到应用层，才能算真正接收到由客户端发送过来的 HTTP 请求。</li>
</ul>
<h1 id="与HTTP关系密切的协议"><a href="#与HTTP关系密切的协议" class="headerlink" title="与HTTP关系密切的协议"></a>与HTTP关系密切的协议</h1><h2 id="负责传输的IP协议"><a href="#负责传输的IP协议" class="headerlink" title="负责传输的IP协议"></a>负责传输的IP协议</h2><p>按层次分，IP（Internet Protocal）网络协议位于网络层。</p>
<p>IP 协议的作用是把各种数据包传送给对方。而要保证确实传送到对方那里，就需要满足两个重要条件：IP 地址和 MAC（Media Access Control Address）地址。</p>
<p>IP 地址指明了节点被分配到的地址，MAC 地址是指网卡所属的固定地址。IP地址和MAC地址进行配对，IP地址可变换，但MAC地址基本上不会更改。</p>
<h2 id="确保可靠性的TCP协议"><a href="#确保可靠性的TCP协议" class="headerlink" title="确保可靠性的TCP协议"></a>确保可靠性的TCP协议</h2><p>按层次分，TCP 位于传输层，提供可靠的字节流服务。</p>
<p>所谓<strong>字节流服务</strong>（Byte Stream Service）是指，为了方便传输，将大块数据分割成以报文段（segment）为单位的数据包进行管理。而可靠的传输服务是指，能够把数据准确可靠地传给对方。</p>
<p>为了准确无误地将数据送达目标处，TCP 协议采用<strong>三次握手</strong>（three-way handshaking）策略。用 TCP 协议把数据包送出后，它会向对方确认是否成功送达。握手过程中使用了 TCP 的标志—— SYN 和 ACK。</p>
<p><img src="http://p983im8gr.bkt.clouddn.com/three-handshaking.png" alt="三次握手策略"></p>
<p>解析上图：发送端首先发送一个带SYN标志的数据包给对方。接收端收到后，回传一个SYN/ACK标志的数据包以示传达确认信息。最后，发送端再传一个带有ACK标志的数据包，代表“握手”结束。</p>
<h1 id="负责域名解析的DNS服务"><a href="#负责域名解析的DNS服务" class="headerlink" title="负责域名解析的DNS服务"></a>负责域名解析的DNS服务</h1><p>DNS 服务是和 HTTP 协议一样位于应用层的协议。它提供域名到 IP 地址之间的解析服务。</p>
<p>用户名通常使用主机名或域名来访问对方的计算机，而不是直接通过IP地址访问。DNS协议提供通过域名查找IP地址，或逆向从IP地址反查域名的服务。</p>
<p><img src="http://p983im8gr.bkt.clouddn.com/dns.png" alt="DNS协议"></p>
<h1 id="URI和URL"><a href="#URI和URL" class="headerlink" title="URI和URL"></a>URI和URL</h1><p>URI（Uniform Resourse Identifier），统一资源标识符。</p>
<p><strong>Uniform</strong></p>
<p>规定统一的格式可方便处理多种不同类型的资源，而不用根据上下文环境来识别资源指定的访问方式。另外，加入新增的协议方案（如http:或ftp:）也更容易。</p>
<p>URI就是由某个协议方案表示的资源的定位标识符。协议方案是指访问资源所使用的协议类型名称。</p>
<p>采用HTTP协议时，协议方案就是http。除此之外还有ftp、mailto、telnet、file等。</p>
<p>URI用字符串标识某一互联网资源，而URL表示资源的地点（互联网上所处的位置）。可见URL是URI的子集。</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;学习《图解HTTP》笔记。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>美图前端笔试题</title>
    <link href="http://yoursite.com/2018/04/03/%E7%BE%8E%E5%9B%BE%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AF%95%E9%A2%98/"/>
    <id>http://yoursite.com/2018/04/03/美图前端笔试题/</id>
    <published>2018-04-03T12:28:26.000Z</published>
    <updated>2018-04-05T13:30:32.932Z</updated>
    
    <content type="html"><![CDATA[<p>今天晚上刚做完美图的前端笔试题，题目算是很基础了，但是还是有没有接触到的点，编程题也不太会下手，所以赶紧整理一下！</p>
<a id="more"></a>
<h1 id="spa的优缺点"><a href="#spa的优缺点" class="headerlink" title="spa的优缺点"></a>spa的优缺点</h1><p>spa 全名是 single page application，中文名是单页应用程序。在 wiki 中是这样解释的:</p>
<blockquote>
<p>A single-page application (SPA) is a web application or web site that interacts with the user by dynamically rewriting the current page rather than loading entire new pages from a server. </p>
</blockquote>
<p>SPA是一种 Web 应用程序或网站，它通过<strong>动态的重写当前页面</strong>而不是从服务器加载整个新页面来与用户进行交互。</p>
<p><strong>优点：</strong></p>
<ol>
<li>分离前后端，前端负责界面显示，后端负责数据存储和计算，不需要把前后端逻辑混杂在一起。</li>
<li>可以缓存较多的数据，减少服务器压力。</li>
<li>同一套后端程序代码，不用修改就可以用于 Web 界面、手机、平板等客户端。</li>
<li>用户体验好、快，内容的改变不需要重新加载整个页面，避免了不必要的跳转和重复渲染。</li>
</ol>
<p><strong>缺点：</strong></p>
<ol>
<li>不利于 SEO。</li>
<li>初次加载耗时相对增多。</li>
<li>导航不可用，前进、后退、地址栏等需要程序进行管理。</li>
<li>对开发人员技术水平、开发成本高。</li>
</ol>
<h1 id="前端跨域通信"><a href="#前端跨域通信" class="headerlink" title="前端跨域通信"></a>前端跨域通信</h1><p>关于前端通信类的问题，主要包括以下几点：</p>
<ul>
<li>什么是同源策略及具体限制</li>
<li>前后端如何通信</li>
<li>如何创建 Ajax</li>
<li>什么是跨域、跨域有什么限制、跨域有哪些方式</li>
</ul>
<h2 id="同源策略及具体限制"><a href="#同源策略及具体限制" class="headerlink" title="同源策略及具体限制"></a>同源策略及具体限制</h2><p>同源策略中的的‘源’指的是 – 协议（protocols）、域名（domains）和端口（ports）（http协议默认的端口是80）。只要有一个地方不相同，那‘源’就不相同，那就是跨域了。</p>
<p>而<strong>限制</strong>就是 – 这个源的文档没有权利去操作另一个源的文档。这个限制体现在：</p>
<ul>
<li>cookie、LocalStorage 和 IndexDB 无法获取</li>
<li>无法获取和操作 DOM</li>
<li>不能发送 Ajax 请求（Ajax 只适用于同源的通信）</li>
</ul>
<h2 id="前后端通信"><a href="#前后端通信" class="headerlink" title="前后端通信"></a>前后端通信</h2><p>有这么几种方式：</p>
<ul>
<li>Ajax：不支持跨域</li>
<li>WebSocket：不受同源策略的限制，可跨域</li>
<li>CORS：不受同源策略的限制，可跨域。一种新的通信协议标准。（可以这样理解：同时支持同源和跨域的 Ajax）</li>
</ul>
<h2 id="如何创建-Ajax"><a href="#如何创建-Ajax" class="headerlink" title="如何创建 Ajax"></a>如何创建 Ajax</h2><p>注意！XMLHttpRequest有兼容性问题，只在高级浏览器中才支持。</p>
<h3 id="XMLHttpRequest工作原理（Ajax请求的五个步骤）"><a href="#XMLHttpRequest工作原理（Ajax请求的五个步骤）" class="headerlink" title="XMLHttpRequest工作原理（Ajax请求的五个步骤）"></a>XMLHttpRequest工作原理（Ajax请求的五个步骤）</h3><p>(1) 创建 XMLHttpRequest 对象。<br>(2) 使用 open方法设置请求参数。open(method, url, 是否异步)。<br>(3) 发送请求。<br>(4) 注册事件。状态改变时调用。<br>(5) 获取返回的数据，更新UI。</p>
<p><code>get</code> 请求举例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"发送get请求"</span> id=<span class="string">"btn"</span>&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">document.querySelector(<span class="string">'#btn'</span>).onclick = <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">  var xhr = new XMLHttpRequest();           // (1)</div><div class="line">  xhr.open(<span class="string">'get'</span>, <span class="string">'xxx.php'</span>);               // (2)</div><div class="line">  xhr.send();                               // (3)</div><div class="line">  xhr.onreadystatechange = <span class="function"><span class="title">function</span></span>() &#123;     // (4)</div><div class="line">    <span class="keyword">if</span> (xhr.status == 200 &amp;&amp; xhr.readyState == 4) &#123;</div><div class="line">      console.log(xhr.responseText);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">      // ...</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p><code>post</code> 请求举例：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;input <span class="built_in">type</span>=<span class="string">"button"</span> value=<span class="string">"发送post请求"</span> id=<span class="string">"btn"</span>&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">document.querySelector(<span class="string">'#btn'</span>).onclick = <span class="function"><span class="title">function</span></span> () &#123;</div><div class="line">  var xhr = new XMLHttpRequest();           // (1)</div><div class="line">  xhr.open(<span class="string">'post'</span>, <span class="string">'xxx.php'</span>);              // (2)</div><div class="line">  // 如果想要使用post提交数据,必须添加此行</div><div class="line">  xhr.setRequestHeader(<span class="string">"Content-type"</span>, <span class="string">"application/x-www-form-urlencoded"</span>);</div><div class="line">  xhr.send(<span class="string">'name=fox&amp;age=18'</span>);              // (3)</div><div class="line">  xhr.onreadystatechange = <span class="function"><span class="title">function</span></span>() &#123;     // (4)</div><div class="line">    <span class="keyword">if</span> (xhr.status == 200 &amp;&amp; xhr.readyState == 4) &#123;</div><div class="line">      console.log(xhr.responseText);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="onreadystatechange-事件"><a href="#onreadystatechange-事件" class="headerlink" title="onreadystatechange 事件"></a>onreadystatechange 事件</h3><p>readyState有5个状态，分别为：</p>
<ul>
<li>0：请求未建立</li>
<li>1：服务器连接已建立</li>
<li>2：请求已接收</li>
<li>3：请求处理中</li>
<li>4：请求已完成，且响应已就绪</li>
</ul>
<h2 id="跨域通信的几种方式"><a href="#跨域通信的几种方式" class="headerlink" title="跨域通信的几种方式"></a>跨域通信的几种方式</h2><h3 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h3><p>JSONP的<strong>原理</strong>：通过 <code>&lt;script&gt;</code> 标签的异步加载来实现的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;head&gt;</div><div class="line">  &lt;script src=<span class="string">"xx.xx"</span>&gt;&lt;/script&gt;</div><div class="line">  &lt;script src=<span class="string">"2xx.xx"</span>&gt;&lt;/script&gt;</div><div class="line">&lt;/head&gt;</div></pre></td></tr></table></figure>
<p>像上面这样，我们在 <code>head</code> 标签中，通过 <code>script</code> 标签的 <code>src</code>，里面放url，加载很多的在线插件，就是用到了JSONP。</p>
<p>JSONP的<strong>实现：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script src=<span class="string">"http://www.smyhvae.com/?data=name&amp;callback=myjsonp"</span>&gt;&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>上面的src中，<code>data=name</code> 是 <code>get</code> 请求的参数，myjsonp是和后台约定好的函数名。服务器端这样写：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"> myjsonp(&#123;</div><div class="line">  data: &#123;&#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><p>我们可以把 CORS 理解成是<strong>既可以同步、也可以异步</strong>的Ajax。</p>
<p><code>fetch</code> 是用来实现 CORS 通信的，我们这样使用（有点像es6中的promise）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">fetch(<span class="string">'/api/seller/'</span>, &#123;</div><div class="line">  method: <span class="string">'get'</span>,</div><div class="line">&#125;).then(res =&gt; console.log(res))</div><div class="line">  .catch(err =&gt; console.log(err))</div></pre></td></tr></table></figure></p>
<p>那么 CORS 为什么支持跨域的通信呢？</p>
<p>因为跨域时，浏览器会拦截 Ajax 请求，并在 http 头中加 Origin</p>
<h3 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h3><h3 id="postMessage"><a href="#postMessage" class="headerlink" title="postMessage"></a>postMessage</h3><p>这个方法是 H5 中新增的方法，可以用来做跨域通信。</p>
<blockquote>
<p>场景：窗口A <code>http:A.com</code> 像跨域的窗口B <code>http:B.com</code> 发送信息，步骤如下：</p>
</blockquote>
<p>(1) 在A窗口中这样操作：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 窗口A(http://A.com)向跨域的窗口B(http://B.com)发送信息</span></div><div class="line">Bwindow.postMessage(<span class="string">'data'</span>, <span class="string">'http://B.com'</span>)</div></pre></td></tr></table></figure></p>
<p>(2) 在B窗口中这样操作：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Awindow.addEventListener(<span class="string">'message'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(e.origin);  <span class="comment">// 获取url，这里指 http://A.com</span></div><div class="line">  <span class="built_in">console</span>.log(e.source);  <span class="comment">// 获取A window 对象</span></div><div class="line">  <span class="built_in">console</span>.log(e.data);  <span class="comment">// 获取传过来的数据</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="nginx反向代理"><a href="#nginx反向代理" class="headerlink" title="nginx反向代理"></a>nginx反向代理</h3><hr>
<p>参考资料：</p>
<ul>
<li><a href="http://www.ruanyifeng.com/blog/2016/04/cors.html" target="_blank" rel="external">跨域资源共享CORS详解</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2017/05/websocket.html" target="_blank" rel="external">WebSocket 教程</a></li>
<li><a href="https://www.cnblogs.com/smyhvae/p/8523576.html" target="_blank" rel="external">前端跨域通信的几种方式</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天晚上刚做完美图的前端笔试题，题目算是很基础了，但是还是有没有接触到的点，编程题也不太会下手，所以赶紧整理一下！&lt;/p&gt;
    
    </summary>
    
      <category term="面试" scheme="http://yoursite.com/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://yoursite.com/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>面试题(html+css)</title>
    <link href="http://yoursite.com/2018/03/22/%E9%9D%A2%E8%AF%95%E9%A2%98%E6%95%B4%E7%90%86/"/>
    <id>http://yoursite.com/2018/03/22/面试题整理/</id>
    <published>2018-03-22T14:44:19.000Z</published>
    <updated>2018-03-25T06:51:01.784Z</updated>
    
    <content type="html"><![CDATA[<p>最近准备面试，整理下笔记，让自己记得更牢。</p>
<a id="more"></a>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>DOM描绘了一个层次化的节点树。</p>
<h3 id="如何修改页面内容"><a href="#如何修改页面内容" class="headerlink" title="如何修改页面内容"></a>如何修改页面内容</h3><blockquote>
<p>在掘金上看到了这样一道题：页面上有个空的无序列表节点，用<code>&lt;ul&gt;&lt;/ul&gt;</code>表示，要往列表中插入3个<code>&lt;li&gt;</code>，每个列表项的文本内容是列表项的插入顺序，取值1,2,3，怎么用原生的JS实现这个需求？同时约定，为方便获取节点引用，可以根据需要为<code>&lt;ul&gt;</code>节点加上<code>id</code>或者<code>class</code>属性。以及添加点击事件。</p>
</blockquote>
<p>我的解决方法是这样的：<a href="https://github.com/luyaJ/booket/blob/master/DOM%20operator/Node%E7%B1%BB%E5%9E%8B.html" target="_blank" rel="external">DOM操纵–Node类型</a></p>
<h3 id="当数据量变大了之后？"><a href="#当数据量变大了之后？" class="headerlink" title="当数据量变大了之后？"></a>当数据量变大了之后？</h3><p>当我们需要插入的<code>&lt;li&gt;</code>加到几百个时，显然我们用上面方法效果就不那么好了，那么我们可以使用<strong>事件委托</strong>更好的解决问题。</p>
<p>使用事件委托能有效的减少事件注册的数量，并且在子节点动态增减是无需修改代码，使用事件委托的代码如下：</p>
<p><a href="https://github.com/luyaJ/booket/blob/master/DOM%20operator/event%20delegation.html" target="_blank" rel="external">事件委托处理本题</a></p>
<h3 id="DOM树的遍历"><a href="#DOM树的遍历" class="headerlink" title="DOM树的遍历"></a>DOM树的遍历</h3><p>我们希望给出一段HTML片段你能使用<strong>广度优先遍历(BFS)</strong>代码实现，遍历到每个节点时，打印出当前节点的类型及类名。</p>
<p><a href="">广度优先遍历 Dom Tree Traversal</a></p>
<h3 id="标准DOM事件的发生流程"><a href="#标准DOM事件的发生流程" class="headerlink" title="标准DOM事件的发生流程"></a>标准DOM事件的发生流程</h3><p>“DOM2级事件”规定的事件流包括三个阶段：<strong>事件捕获阶段</strong>, <strong>处于目标阶段</strong>, <strong>事件冒泡阶段</strong>。</p>
<blockquote>
<p>事件冒泡:从事件开始的具体元素，一级一级往上传播到较为不具体的节点。</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>事件冒泡<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>你点击我了！<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>当我们点击<code>p</code>元素时，事件是这样传播的：</p>
<ol>
<li>p</li>
<li>div</li>
<li>body</li>
<li>html</li>
<li>document</li>
</ol>
<blockquote>
<p>事件捕获:原理与事件冒泡相反，它的用意在于在事件到达预定目标之前捕获它，而最具体的节点应该是最后才接收到的事件的。</p>
</blockquote>
<p>所以，当点击<code>p</code>元素时，事件的传播方向就是这样的了：</p>
<ol>
<li>document</li>
<li>html</li>
<li>body</li>
<li>div</li>
<li>p</li>
</ol>
<p>那么事件处理程序到底是怎样的呢? 我们看看下面的代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"parElement"</span>&gt;</span>我是父元素    </div><div class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"sonElement"</span>&gt;</span>我是子元素<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="keyword">let</span> sonElement = <span class="built_in">document</span>.getElementById(<span class="string">'sonElement'</span>);</div><div class="line">  <span class="keyword">let</span> parElement = <span class="built_in">document</span>.getElementById(<span class="string">'parElement'</span>);</div><div class="line"></div><div class="line">  <span class="comment">// true 为事件捕获阶段调用事件处理程序；</span></div><div class="line">  <span class="comment">// false 为事件冒泡阶段调用事件处理程序</span></div><div class="line">  parElement.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    alert(<span class="string">'父级 冒泡'</span>);</div><div class="line">  &#125;, <span class="literal">false</span>);</div><div class="line">  parElement.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    alert(<span class="string">'父级 捕获'</span>);</div><div class="line">  &#125;, <span class="literal">true</span>);</div><div class="line"></div><div class="line">  sonElement.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    alert(<span class="string">'子级冒泡'</span>);</div><div class="line">  &#125;, <span class="literal">false</span>);</div><div class="line">  sonElement.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    alert(<span class="string">'子级捕获'</span>);</div><div class="line">  &#125;, <span class="literal">true</span>);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>当点击”我是子元素”时，弹出的顺序是：父级捕获 –&gt; 子级冒泡 –&gt; 子级捕 –&gt; 父集冒泡；</p>
<h4 id="addEventListener-amp-onclick"><a href="#addEventListener-amp-onclick" class="headerlink" title="addEventListener &amp; onclick"></a>addEventListener &amp; onclick</h4><p>写上面的代码过程中，发现了一个问题，就是使用<code>addEventListener</code>和<code>onclick</code>运行结果有所不同。</p>
<p>当我使用<code>onclick</code>时，我发现第一次click事件会被第二次覆盖；而<code>addEventListener</code>却会先后运行，这说明，<strong>它允许一个事件注册多个监听器</strong></p>
<p><a href="https://github.com/luyaJ/booket/blob/master/DOM%20operator/addEventListenerANDonclick.html" target="_blank" rel="external">具体代码见</a></p>
<p>参考资料：</p>
<ul>
<li><a href="https://juejin.im/post/58f558efac502e006c3e5c97" target="_blank" rel="external">破解前端面试（80% 应聘者不及格系列）：从 DOM 说起</a></li>
<li><a href="http://www.cnblogs.com/xianyulaodi/p/5544312.html" target="_blank" rel="external">javascript事件流</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近准备面试，整理下笔记，让自己记得更牢。&lt;/p&gt;
    
    </summary>
    
      <category term="面试" scheme="http://yoursite.com/categories/%E9%9D%A2%E8%AF%95/"/>
    
    
      <category term="面试" scheme="http://yoursite.com/tags/%E9%9D%A2%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>nuxt.js-Vue的通用应用框架</title>
    <link href="http://yoursite.com/2018/03/19/nuxt-js-Vue%E7%9A%84%E9%80%9A%E7%94%A8%E5%BA%94%E7%94%A8%E6%A1%86%E6%9E%B6/"/>
    <id>http://yoursite.com/2018/03/19/nuxt-js-Vue的通用应用框架/</id>
    <published>2018-03-19T07:38:02.000Z</published>
    <updated>2018-03-20T07:33:42.122Z</updated>
    
    <content type="html"><![CDATA[<p><code>Nuxt.js</code>是一个基于<code>Vue.js</code>的通用应用框架，主要关注的是应用的<strong>UI渲染</strong>。</p>
<a id="more"></a>
<h2 id="安装nuxt-js"><a href="#安装nuxt-js" class="headerlink" title="安装nuxt.js"></a>安装nuxt.js</h2><p>这里我们使用github上的 <a href="https://github.com/nuxt-community/create-nuxt-app" target="_blank" rel="external">create-nuxt-app</a> 来搭建我们的第一个项目，因为他它易于我们的操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm i -g create-nuxt-app</div><div class="line">create-nuxt-app first-nuxt-app</div></pre></td></tr></table></figure>
<p>这样我们就创建好了我们的第一个项目。</p>
<p>如果你想从头开始新建项目，可以看官网<a href="https://zh.nuxtjs.org/guide/installation" target="_blank" rel="external">nuxt 安装</a></p>
<h2 id="关于路由"><a href="#关于路由" class="headerlink" title="关于路由"></a>关于路由</h2><h3 id="基础路由"><a href="#基础路由" class="headerlink" title="基础路由"></a>基础路由</h3><p>如果<code>pages</code>目录结构如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">pages/</div><div class="line">  --| users/</div><div class="line">  -----| index.vue</div><div class="line">  --| index.vue</div></pre></td></tr></table></figure></p>
<p>使用<code>localhost:3000</code>是会显示<code>index.vue</code>的内容的；<code>localhost:3000/users/user</code>会显示我们在<code>users/index.vue</code>中写的内容。</p>
<h3 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h3><p>我们新增一个<code>_id.vue</code>文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">pages/</div><div class="line">  --| users/</div><div class="line">  -----| _id.vue</div><div class="line">  -----| index.vue</div><div class="line">  --| index.vue</div></pre></td></tr></table></figure></p>
<p>在<code>_id.vue</code>中写入以下内容：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">  &lt;h1&gt;这个页面是:&#123;&#123;<span class="variable">$route</span>.params.id&#125;&#125;&lt;/h1&gt;</div><div class="line">&lt;/template&gt;</div></pre></td></tr></table></figure></p>
<p>在这里，我们的文件名要以<code>下划线_</code>作为前缀，<code>$route.params.x</code>,<code>x</code>就是文件名<code>_</code>之后的内容。</p>
<p>假如我们写的地址是<code>localhost:3000/users/luyaj</code>，那么在页面中显示的内容就会是<code>这个页面是：luyaj</code>。</p>
<p>其实，<code>Nuxt.js</code> 会生成对应的路由配置表如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">router: &#123;</div><div class="line">  routes: [</div><div class="line">    &#123;</div><div class="line">      name: <span class="string">'index'</span>,</div><div class="line">      path: <span class="string">'/'</span>,</div><div class="line">      component: <span class="string">'pages/index.vue'</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      name: <span class="string">'users-id'</span>,</div><div class="line">      path: <span class="string">'/users/:id?'</span></div><div class="line">      component: <span class="string">'pages/users/_id.vue'</span></div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">      name: <span class="string">'users-index'</span>,</div><div class="line">      path: <span class="string">'/users/index'</span>,</div><div class="line">      compontent: <span class="string">'pages/users/index.vue'</span></div><div class="line">    &#125;</div><div class="line">  ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;code&gt;Nuxt.js&lt;/code&gt;是一个基于&lt;code&gt;Vue.js&lt;/code&gt;的通用应用框架，主要关注的是应用的&lt;strong&gt;UI渲染&lt;/strong&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="Vuejs" scheme="http://yoursite.com/categories/Vuejs/"/>
    
    
      <category term="nuxt.js" scheme="http://yoursite.com/tags/nuxt-js/"/>
    
  </entry>
  
  <entry>
    <title>Grid布局</title>
    <link href="http://yoursite.com/2018/03/04/Grid%E5%B8%83%E5%B1%80/"/>
    <id>http://yoursite.com/2018/03/04/Grid布局/</id>
    <published>2018-03-04T11:53:12.000Z</published>
    <updated>2018-03-04T12:20:09.409Z</updated>
    
    <content type="html"><![CDATA[<p>Grid布局是第一个专门为解决布局问题而创建的CSS模块。用来解决复杂的二维布局。</p>
<a id="more"></a>
<h2 id="grid-template-areas"><a href="#grid-template-areas" class="headerlink" title="grid-template-areas"></a>grid-template-areas</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"item item4"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span>&#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">50px</span> <span class="number">150px</span> <span class="number">300px</span>;</div><div class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">60px</span> <span class="number">200px</span> <span class="number">100px</span>;</div><div class="line">  <span class="attribute">grid-gap</span>: <span class="number">10px</span>;</div><div class="line">  <span class="attribute">grid-template-areas</span>: <span class="string">"header header header"</span></div><div class="line">                        <span class="string">"sidebar main main"</span></div><div class="line">                        <span class="string">"footer footer footer"</span></div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item</span>&#123;</div><div class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid black;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item1</span>&#123;</div><div class="line">  <span class="attribute">grid-area</span>: header;</div><div class="line">  <span class="attribute">background</span>: salmon;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item2</span>&#123;</div><div class="line">  <span class="attribute">grid-area</span>: sidebar;</div><div class="line">  <span class="attribute">background</span>: gold;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item3</span>&#123;</div><div class="line">  <span class="attribute">grid-area</span>: main;</div><div class="line">  <span class="attribute">background</span>: fuchsia;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.item4</span>&#123;</div><div class="line">  <span class="attribute">grid-area</span>: footer;</div><div class="line">  <span class="attribute">background</span>: dodgerblue;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><img src="http://otf35fo4u.bkt.clouddn.com/grid-area.png" alt="grid-area"></p>
<p><a href="https://www.jianshu.com/p/d183265a8dad" target="_blank" rel="external">grid布局参考</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Grid布局是第一个专门为解决布局问题而创建的CSS模块。用来解决复杂的二维布局。&lt;/p&gt;
    
    </summary>
    
      <category term="Web前端" scheme="http://yoursite.com/categories/Web%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="CSS" scheme="http://yoursite.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>正则表达式（二）</title>
    <link href="http://yoursite.com/2018/02/22/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
    <id>http://yoursite.com/2018/02/22/正则表达式（二）/</id>
    <published>2018-02-22T13:31:34.000Z</published>
    <updated>2018-02-23T04:54:06.288Z</updated>
    
    <content type="html"><![CDATA[<p>学习正则表达式三十分钟入门~</p>
<a id="more"></a>
<h2 id="常用元字符"><a href="#常用元字符" class="headerlink" title="常用元字符"></a>常用元字符</h2><table>
<thead>
<tr>
<th>代码</th>
<th>说明</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>匹配除换行符以外的任意字符</td>
<td></td>
</tr>
<tr>
<td>\b</td>
<td>匹配单词的开始或结束</td>
<td>匹配一个位置</td>
</tr>
<tr>
<td>\d</td>
<td>匹配一位数字</td>
<td>代表数量</td>
</tr>
<tr>
<td>\w</td>
<td>匹配字母或数字或下划线或汉字</td>
<td></td>
</tr>
<tr>
<td>\s</td>
<td>匹配任意的空白符</td>
<td></td>
</tr>
<tr>
<td>^</td>
<td>匹配字符串的开始</td>
<td>匹配一个位置</td>
</tr>
</tbody>
</table>
<ul>
<li><code>\bhi\b</code> : 精确查找hi这个单词</li>
<li><code>\bhi\b.*\bLucy\b</code> : 先是一个单词hi，然后是任意个任意字符(但不能是换行)，最后是Lucy这个单词</li>
<li><code>0\d\d-\d\d\d\d\d\d\d\d</code> = <code>0\d{2}-\d{8}</code> : 以0开头，然后是两个数字，然后是一个连字号“-”，最后是8个数字</li>
<li><code>\ba\w*\b</code> : 以字母a开头的单词（先是某个单词开始处(\b)，然后是字母a,然后是任意数量的字母或数字(\w*)，最后是单词结束处(\b)）</li>
<li><code>\d+</code> : 匹配1个或更多连续的数字</li>
<li><code>\b\w{6}\b</code> : 匹配刚好6个字符的单词</li>
<li><code>^\d{5,12}$</code> : 必须是5到12个数字（网站如果要求你填写的QQ号必须为5位到12位数字时）</li>
</ul>
<h2 id="常用限定符"><a href="#常用限定符" class="headerlink" title="常用限定符"></a>常用限定符</h2><table>
<thead>
<tr>
<th>代码/语法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>重复0次或更多次</td>
</tr>
<tr>
<td>+</td>
<td>重复1次或更多次</td>
</tr>
<tr>
<td>?</td>
<td>重复0次或1次</td>
</tr>
<tr>
<td>{n}</td>
<td>重复n次</td>
</tr>
<tr>
<td>{n,}</td>
<td>重复n次或更多次</td>
</tr>
<tr>
<td>{n,m}</td>
<td>重复n到m次</td>
</tr>
</tbody>
</table>
<ul>
<li><code>Windows\d+</code>: 匹配Windows后面跟1个或更多数字</li>
<li><code>^\w+</code> : 匹配一行的第一个单词(或整个字符串的第一个单词，具体匹配哪个意思得看选项设置)</li>
<li><code>[aeiou]</code> : 匹配任意一个英文元音字母</li>
<li><code>[.?!]</code> : 匹配标点符号（.或?或!）</li>
<li><code>[0-9]</code> = <code>\d</code> : 一位数字</li>
<li><code>[a-z0-9A-Z]</code> = <code>\w</code> : （如果只考虑英文的话）</li>
</ul>
<h2 id="常用的反义代码"><a href="#常用的反义代码" class="headerlink" title="常用的反义代码"></a>常用的反义代码</h2><table>
<thead>
<tr>
<th>代码/语法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>\W</td>
<td>匹配任意不是字母,数字,下划线,汉字的字符</td>
</tr>
<tr>
<td>\S</td>
<td>匹配任意不是空白符的字符</td>
</tr>
<tr>
<td>\D</td>
<td>匹配任意非数字的字符</td>
</tr>
<tr>
<td>\B</td>
<td>匹配不是单词开头或结束的位置</td>
</tr>
<tr>
<td>[^x]</td>
<td>匹配除了x以外的任意字符</td>
</tr>
<tr>
<td>[^aeiou]</td>
<td>匹配除了aeiou这几个字母以外的任意字符</td>
</tr>
</tbody>
</table>
<h2 id="常用分组语法"><a href="#常用分组语法" class="headerlink" title="常用分组语法"></a>常用分组语法</h2><table>
<thead>
<tr>
<th>分类</th>
<th>代码/语法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>捕获</td>
<td>(exp)</td>
<td>匹配exp,并捕获文本到自动命名的组里</td>
</tr>
<tr>
<td></td>
<td>(?\<name\>exp)</name\></td>
<td>匹配exp,并捕获文本到名称为name的组里,也可以写成(?’name’exp)</td>
</tr>
<tr>
<td></td>
<td>(?:exp)</td>
<td>匹配exp,不捕获匹配的文本,也不给此分组分配组号</td>
</tr>
<tr>
<td>零宽断言</td>
<td>(?=exp)</td>
<td>匹配exp前面的位置</td>
</tr>
<tr>
<td></td>
<td>(?&lt;=exp)</td>
<td>匹配exp后面的位置</td>
</tr>
<tr>
<td></td>
<td>(?!exp)</td>
<td>匹配后面跟的不是exp的位置</td>
</tr>
<tr>
<td></td>
<td><code>(?&lt;!exp)</code></td>
<td>匹配前面不是exp的位置</td>
</tr>
<tr>
<td>注释</td>
<td>(?#comment)</td>
<td>提供注释让人阅读</td>
</tr>
</tbody>
</table>
<h3 id="零宽断言"><a href="#零宽断言" class="headerlink" title="零宽断言"></a>零宽断言</h3><p><code>(?=exp)</code> 也叫做<strong>零宽度正预测先行断言</strong>：<br>比如<code>\b\w+(?=ing\b)</code>，匹配以ing结尾的单词的<strong>前面</strong>部分(除了ing以外的部分)，如查找I’m singing while you’re dancing.时，它会匹配sing和danc。</p>
<p><code>(?&lt;=exp)</code> 也叫做<strong>零宽度正回顾后发断言</strong>：<br>比如<code>(?&lt;=\bre)\w+\b</code>会匹配以re开头的单词的<strong>后半</strong>部分(除了re以外的部分)，例如在查找reading a book时，它匹配ading。</p>
<h3 id="负向零宽断言"><a href="#负向零宽断言" class="headerlink" title="负向零宽断言"></a>负向零宽断言</h3><p><code>(?!exp)</code> 也叫做<strong>零宽度负预测先行断言</strong>：<br><code>\d{3}(?!\d)</code>匹配三位数字，而且这三位数字的后面不能是数字；<code>\b((?!abc)\w)+\b</code>匹配不包含连续字符串abc的单词。</p>
<p><code>(?&lt;!exp)</code> 也叫做<strong>零宽度负回顾后发断言</strong>：<br><code>(?&lt;![a-z])\d{7}</code>匹配前面不是小写字母的七位数字</p>
<h2 id="懒惰限定符"><a href="#懒惰限定符" class="headerlink" title="懒惰限定符"></a>懒惰限定符</h2><table>
<thead>
<tr>
<th>代码/语法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>*?</td>
<td>重复任意次，但尽可能少重复</td>
</tr>
<tr>
<td>+?</td>
<td>重复1次或更多次，但尽可能少重复</td>
</tr>
<tr>
<td>??</td>
<td>重复0次或1次，但尽可能少重复</td>
</tr>
<tr>
<td>{n,m}?</td>
<td>重复n到m次，但尽可能少重复</td>
</tr>
<tr>
<td>{n,}?</td>
<td>重复n次以上，但尽可能少重复</td>
</tr>
</tbody>
</table>
<ul>
<li>贪婪匹配：<code>a.*b</code>，它将会匹配最长的以a开始，以b结束的字符串。如果用它来搜索aabab的话，它会匹配整个字符串aabab。</li>
<li>懒惰匹配：<code>a.*?b</code>，匹配最短的，以a开始，以b结束的字符串。如果把它应用于aabab的话，它会匹配aab（第一到第三个字符）和ab（第四到第五个字符）。</li>
</ul>
<h2 id="字符转义"><a href="#字符转义" class="headerlink" title="字符转义"></a>字符转义</h2><ul>
<li><code>deerchao\.net</code> : 匹配deerchao.net</li>
<li><code>C:\\Windows</code> : 匹配C:\Windows</li>
</ul>
<p><a href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="external">正则表达式三十分钟入门教程</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;学习正则表达式三十分钟入门~&lt;/p&gt;
    
    </summary>
    
      <category term="Web前端" scheme="http://yoursite.com/categories/Web%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="正则表达式" scheme="http://yoursite.com/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>学习Mongoose</title>
    <link href="http://yoursite.com/2018/01/18/%E5%AD%A6%E4%B9%A0Mongoose/"/>
    <id>http://yoursite.com/2018/01/18/学习Mongoose/</id>
    <published>2018-01-18T15:09:13.000Z</published>
    <updated>2018-02-22T13:28:10.068Z</updated>
    
    <content type="html"><![CDATA[<p>Mongoose是在node.js异步环境下对mongodb进行便捷操作的对象模型工具。</p>
<a id="more"></a>
<h2 id="mongoose入门"><a href="#mongoose入门" class="headerlink" title="mongoose入门"></a>mongoose入门</h2><h3 id="安装与连接"><a href="#安装与连接" class="headerlink" title="安装与连接"></a>安装与连接</h3><p>安装mongoose:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install mongoose --save</div></pre></td></tr></table></figure></p>
<p>创建一个db.js:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">var mongoose = require(<span class="string">'mongoose'</span>);</div><div class="line">var dbUrl = <span class="string">'mongodb://101.132.128.72:27017/myblog'</span>;</div><div class="line"></div><div class="line">mongoose.connect(dbUrl, &#123;</div><div class="line">  useMongoClient: <span class="literal">true</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">// 连接成功</div><div class="line">mongoose.connection.on(<span class="string">'connected'</span>, <span class="function"><span class="title">function</span></span> () &#123;    </div><div class="line">  console.log(<span class="string">'数据库连接成功'</span>);  </div><div class="line">&#125;);    </div><div class="line"></div><div class="line">// 连接异常</div><div class="line">mongoose.connection.on(<span class="string">'error'</span>,<span class="keyword">function</span> (err) &#123;    </div><div class="line">  console.log(<span class="string">'数据库连接异常'</span> + err);  </div><div class="line">&#125;);    </div><div class="line"> </div><div class="line">// 连接断开</div><div class="line">mongoose.connection.on(<span class="string">'disconnected'</span>, <span class="function"><span class="title">function</span></span> () &#123;    </div><div class="line">  console.log(<span class="string">'数据库断开了'</span>);  </div><div class="line">&#125;);    </div><div class="line"></div><div class="line">module.exports = mongoose;</div></pre></td></tr></table></figure></p>
<h3 id="Schema"><a href="#Schema" class="headerlink" title="Schema"></a>Schema</h3><p>Schema是mongoose里会用到的一种数据模式，可以理解为表结构的定义。每个Schema会映射到mongodb中的一个Connection，他不具备操作数据库的能力。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 在db.js中增加以下代码：</span></div><div class="line">module.exports = mongoose;</div></pre></td></tr></table></figure>
<p>下面定义一个user的Schema，命名user.js:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var mongoose = require(<span class="string">'./db.js'</span>);</div><div class="line">var Schema = mongoose.Schema;</div><div class="line"></div><div class="line">var UserSchema = new Schema(&#123;</div><div class="line">  username: &#123; <span class="built_in">type</span>: String &#125;,</div><div class="line">  password: &#123; <span class="built_in">type</span>: String &#125;,</div><div class="line">  age: &#123; <span class="built_in">type</span>: Number &#125;,</div><div class="line">  logindata: &#123; <span class="built_in">type</span>: Date &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><p>定义好了Schema，接下来就是生成Model。model是由Schema生成的模型，可以对数据库进行操作。</p>
<p>我们对上面的定义的user的schema生成一个User的model并导出，在user.js中增加以下代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">module.exports = mongoose.model(<span class="string">'User'</span>, UserSchema);</div></pre></td></tr></table></figure></p>
<h3 id="常用数据库操作"><a href="#常用数据库操作" class="headerlink" title="常用数据库操作"></a>常用数据库操作</h3><h4 id="插入-save"><a href="#插入-save" class="headerlink" title="插入(save)"></a>插入(save)</h4>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Mongoose是在node.js异步环境下对mongodb进行便捷操作的对象模型工具。&lt;/p&gt;
    
    </summary>
    
      <category term="数据库" scheme="http://yoursite.com/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
    
      <category term="mongoose" scheme="http://yoursite.com/tags/mongoose/"/>
    
  </entry>
  
  <entry>
    <title>Linux下MongoDB的安装和启动</title>
    <link href="http://yoursite.com/2018/01/05/Linux%E4%B8%8BMongoDB%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%90%AF%E5%8A%A8/"/>
    <id>http://yoursite.com/2018/01/05/Linux下MongoDB的安装和启动/</id>
    <published>2018-01-05T02:01:27.000Z</published>
    <updated>2018-01-05T02:36:31.855Z</updated>
    
    <content type="html"><![CDATA[<p>MongoDB是一个基于分布式文件存储的数据库。由C++语言编写。旨在为WEB应用提供可扩展的高性能数据存储解决方案。MongoDB是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。</p>
<a id="more"></a>
<h2 id="MongoDB的安装"><a href="#MongoDB的安装" class="headerlink" title="MongoDB的安装"></a>MongoDB的安装</h2><h3 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 下载</span></div><div class="line">curl -O https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-3.2.9.tgz</div><div class="line"><span class="comment"># 解压缩</span></div><div class="line">tar zxvf mongodb-linux-x86_64-3.2.9.tgz</div></pre></td></tr></table></figure>
<h3 id="创建数据库文件夹、日志文件和配置文件"><a href="#创建数据库文件夹、日志文件和配置文件" class="headerlink" title="创建数据库文件夹、日志文件和配置文件"></a>创建数据库文件夹、日志文件和配置文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir -p  /usr/<span class="built_in">local</span>/server/mongodb/data</div><div class="line">touch /usr/<span class="built_in">local</span>/server/mongodb/mongod.log</div><div class="line">touch /usr/<span class="built_in">local</span>/server/mongodb/mongodb.conf</div></pre></td></tr></table></figure>
<p>将下载好的mongodb移动到新建的文件夹下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mv mongodb-linux-x86_64-3.2.9/* /usr/<span class="built_in">local</span>/server/mongodb/</div></pre></td></tr></table></figure></p>
<h3 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz /]<span class="comment"># cd /usr/local/server/mongodb</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz mongodb]<span class="comment"># ls</span></div><div class="line">bin   GNU-AGPL-3.0  mongodb.conf  mongod.log  README</div><div class="line">data  mongod        mongodb.log   MPL-2       THIRD-PARTY-NOTICES</div><div class="line"></div><div class="line">[root@izuf6alst6rugagpxl8wizz mongodb]<span class="comment"># cd  bin</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz bin]<span class="comment"># ls</span></div><div class="line">bsondump  mongod     mongoexport  mongoimport  mongoperf     mongos     mongotop</div><div class="line">mongo     mongodump  mongofiles   mongooplog   mongorestore  mongostat</div></pre></td></tr></table></figure>
<p>bin下的mongod就是MongoDB的服务进程，mongo就是其客户端。</p>
<h3 id="启动MongoDB"><a href="#启动MongoDB" class="headerlink" title="启动MongoDB"></a>启动MongoDB</h3><p>在MongoDB安装目录下的bin下使用mongod启动MongoDB:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz bin]<span class="comment"># ./mongod --dbpath=/usr/local/server/mongodb/data --logpath=/usrerver/mongodb/mongod.log --logappend&amp;</span></div><div class="line">[1] 1090</div></pre></td></tr></table></figure></p>
<p>之后，我们通过查看端口号看MongoDB是否启动了(下面这样就说明启动成功)：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz bin]<span class="comment"># cd ../data</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz data]<span class="comment"># netstat -lanp | grep "27017"</span></div><div class="line">tcp        0      0 0.0.0.0:27017           0.0.0.0:*               LISTEN      1090/./mongod      </div><div class="line">unix  2      [ ACC ]     STREAM     LISTENING     15433    1090/./mongod        /tmp/mongodb-27017</div></pre></td></tr></table></figure></p>
<p>成功之后，我们使用mongo客户端访问一下该数据库:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz bin]<span class="comment"># ./mongo</span></div><div class="line">MongoDB shell version: 3.2.9</div><div class="line">connecting to: <span class="built_in">test</span></div><div class="line">........</div><div class="line">&gt;</div></pre></td></tr></table></figure></p>
<p>这样就说明我已经安装成功了！</p>
<h3 id="开机自启"><a href="#开机自启" class="headerlink" title="开机自启"></a>开机自启</h3><p>上面的操作是我们手动启动MongoDB，为了让他每次开机自启，我们需要编辑<code>/etc/rc.local</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz bin]<span class="comment"># vim /etc/rc.local</span></div><div class="line"><span class="comment">#add mongonDB service   </span></div><div class="line">rm -rf /usr/<span class="built_in">local</span>/server/mongodb/data/* &amp;&amp; /usr/<span class="built_in">local</span>/server/mongodb/bin/mongod --dbpath=/usr/<span class="built_in">local</span>/server/mongodb/data/ --logpath=/usr/<span class="built_in">local</span>/server/mongodb/mongod.log --logappend&amp;</div></pre></td></tr></table></figure></p>
<p>到这里之后我们重启计算机，再次使用mongo命令，发现他是可以成功的。</p>
<p>但是每次使用mongo命令登录MongDB还要转到目录<code>/usr/local/server/mongodb/bin</code>下再执行<code>./mongo</code>实在是太麻烦了，所以执行以下命令，在任何目录下都可以使用命令mongo了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz bin]<span class="comment"># cp mongo /usr/bin/</span></div><div class="line">cp: overwrite ‘/usr/bin/mongo’? yes</div><div class="line">[root@izuf6alst6rugagpxl8wizz bin]<span class="comment"># cd /</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz /]<span class="comment"># mongo</span></div><div class="line">MongoDB shell version: 3.2.9</div><div class="line">connecting to: <span class="built_in">test</span></div><div class="line">........</div><div class="line">&gt;</div></pre></td></tr></table></figure>
<p>帮助：</p>
<ul>
<li>(linux公社)[<a href="http://www.linuxidc.com/Linux/2011-05/36309.htm" target="_blank" rel="external">http://www.linuxidc.com/Linux/2011-05/36309.htm</a>]</li>
<li>(CSDN)[<a href="http://blog.csdn.net/wlzx120/article/details/52301799" target="_blank" rel="external">http://blog.csdn.net/wlzx120/article/details/52301799</a>]</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;MongoDB是一个基于分布式文件存储的数据库。由C++语言编写。旨在为WEB应用提供可扩展的高性能数据存储解决方案。MongoDB是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>学习linux之Docker</title>
    <link href="http://yoursite.com/2017/12/07/%E5%AD%A6%E4%B9%A0linux%E4%B9%8BDocker/"/>
    <id>http://yoursite.com/2017/12/07/学习linux之Docker/</id>
    <published>2017-12-07T06:43:19.000Z</published>
    <updated>2017-12-23T13:30:24.345Z</updated>
    
    <content type="html"><![CDATA[<p>Docker是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的Linux机器上，也可以实现虚拟化，容器是完全使用沙箱机制，相互之间不会有任何接口。<br><a id="more"></a></p>
<h1 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>我这里学习的docker，是在ubuntu下使用的，对于ubuntu安装中的一些问题记录在这里。</p>
<p><a href="https://www.ubuntu.com/download/desktop" target="_blank" rel="external">ubuntu镜像文件下载地址</a></p>
<p>安装时，选择其他选项（即可以自己创建、调整分区）；继而出现安装类型，自己进行分区：</p>
<p><img src="http://oxv4lmd01.bkt.clouddn.com/ubuntu-install.png" alt="分区1"></p>
<p><img src="http://oxv4lmd01.bkt.clouddn.com/ubuntu-install2.png" alt="分区2"></p>
<p><img src="http://oxv4lmd01.bkt.clouddn.com/ubuntu-install3.png" alt="安装类型"></p>
<p>在这个过程中，我发现自己的界面不能完全显示（有一部分挡在下面，怎么拉都看不到），解决办法很简单：按键<code>Alt+F7</code>就可以拖动看到下面的内容。</p>
<h2 id="自适应客户机"><a href="#自适应客户机" class="headerlink" title="自适应客户机"></a>自适应客户机</h2><p>操作方法见网址：<a href="https://jingyan.baidu.com/article/fc07f98977b60f12ffe5199b.html" target="_blank" rel="external">解决屏幕太小问题</a></p>
<p>安装好后，点击最上方– 查看 –&gt; 立即适应客户机</p>
<h1 id="安装和使用docker"><a href="#安装和使用docker" class="headerlink" title="安装和使用docker"></a>安装和使用docker</h1><p>安装之前，我们首先确保自己的linux系统内核版本高于3.10，并且系统是64位:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># uname -ir</span></div><div class="line">3.10.0-514.26.2.el7.x86_64 x86_64</div></pre></td></tr></table></figure></p>
<p>在root下安装docker，使用命令(下面的运行结果是我第二次运行的结果，docker安装完成):<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># sudo yum -y install docker</span></div><div class="line">Loaded plugins: fastestmirror</div><div class="line">Loading mirror speeds from cached hostfile</div><div class="line">Package 2:docker-1.12.6-68.gitec8512b.el7.centos.x86_64 already installed and latest version</div><div class="line">Nothing to <span class="keyword">do</span></div></pre></td></tr></table></figure></p>
<p>接下来，启动Docker后台服务：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># sudo service docker start</span></div><div class="line">Redirecting to /bin/systemctl start  docker.service</div></pre></td></tr></table></figure></p>
<p>下一步，测试运行hello-world,如果本地没有hello-world这个镜像，就会下载一个hello-world的镜像，并在容器内运行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># sudo docker run hello-world</span></div></pre></td></tr></table></figure></p>
<h2 id="交互式容器"><a href="#交互式容器" class="headerlink" title="交互式容器"></a>交互式容器</h2><p>进入交互式容器，使用命令<code>docker run -i -t ubuntu /bin/bash</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 启动容器</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker run -i -t ubuntu /bin/bash</span></div><div class="line">root@1ed36419aeb9:/<span class="comment"># ps -ef</span></div><div class="line">UID        PID  PPID  C STIME TTY          TIME CMD</div><div class="line">root         1     0  0 01:23 ?        00:00:00 /bin/bash</div><div class="line">root         9     1  0 01:25 ?        00:00:00 ps -ef</div><div class="line">root@1ed36419aeb9:/<span class="comment"># exit</span></div><div class="line"><span class="built_in">exit</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment">#</span></div></pre></td></tr></table></figure></p>
<h3 id="查看容器"><a href="#查看容器" class="headerlink" title="查看容器:"></a>查看容器:</h3><p><code>docker ps [-a][-l]</code>  &amp;&amp; <code>docker inspect [id]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 显示进程</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps -a</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                          PORTS               NAMES</div><div class="line">1ed36419aeb9        ubuntu              <span class="string">"/bin/bash"</span>         3 minutes ago       Exited (0) About a minute ago                       practical_swanson</div><div class="line">b934d23e6789        ubuntu              <span class="string">"echo luya"</span>         11 minutes ago      Exited (0) 11 minutes ago                           kind_hawking</div><div class="line">9e7de9e1f31b        ubuntu              <span class="string">"echo hello"</span>        13 minutes ago      Exited (0) 13 minutes ago                           peaceful_kowalevski</div><div class="line"></div><div class="line"><span class="comment"># 显示配置信息</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker inspect 9e7de9e1f31b </span></div><div class="line">[</div><div class="line">    &#123;</div><div class="line">        <span class="string">"Id"</span>: <span class="string">"9e7de9e1f31b4d63573b5dd962c23914085566a3c24fc55550027dd459d82036"</span>,</div><div class="line">        <span class="string">"Created"</span>: <span class="string">"2017-12-12T01:13:35.811132019Z"</span>,</div><div class="line">        <span class="string">"Path"</span>: <span class="string">"echo"</span>,</div><div class="line">        <span class="string">"Args"</span>: [</div><div class="line">            <span class="string">"hello"</span></div><div class="line">        ],</div><div class="line">        <span class="string">"State"</span>: &#123;</div><div class="line">            <span class="string">"Status"</span>: <span class="string">"exited"</span>,</div><div class="line">            <span class="string">"Running"</span>: <span class="literal">false</span>,</div><div class="line">            <span class="string">"Paused"</span>: <span class="literal">false</span>,</div><div class="line">            <span class="string">"Restarting"</span>: <span class="literal">false</span>,</div><div class="line">            <span class="string">"OOMKilled"</span>: <span class="literal">false</span>,</div><div class="line">            <span class="string">"Dead"</span>: <span class="literal">false</span>,</div><div class="line">            <span class="string">"Pid"</span>: 0,</div><div class="line">            <span class="string">"ExitCode"</span>: 0,</div><div class="line">            <span class="string">"Error"</span>: <span class="string">""</span>,</div><div class="line">            <span class="string">"StartedAt"</span>: <span class="string">"2017-12-12T01:13:38.847825304Z"</span>,</div><div class="line">            <span class="string">"FinishedAt"</span>: <span class="string">"2017-12-12T01:13:38.893957073Z"</span></div><div class="line">        &#125;     </div><div class="line">    &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<h3 id="自定义容器名"><a href="#自定义容器名" class="headerlink" title="自定义容器名"></a>自定义容器名</h3><p><code>docker run --name=自定义名 -i -t IMAGE /bin/bash</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 自定义容器名</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker run --name=container2 -i -t ubuntu /bin/bash</span></div><div class="line">root@9ec00bfc984d:/<span class="comment"># exit</span></div><div class="line"><span class="built_in">exit</span></div><div class="line"></div><div class="line"><span class="comment"># 查看当前容器进程</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps -a</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                     PORTS               NAMES</div><div class="line">9ec00bfc984d        ubuntu              <span class="string">"/bin/bash"</span>         25 seconds ago      Exited (0) 9 seconds ago                       container2</div><div class="line">1ed36419aeb9        ubuntu              <span class="string">"/bin/bash"</span>         10 hours ago        Exited (0) 10 hours ago                        practical_swanson</div><div class="line">b934d23e6789        ubuntu              <span class="string">"echo luya"</span>         10 hours ago        Exited (0) 10 hours ago                        kind_hawking</div><div class="line">9e7de9e1f31b        ubuntu              <span class="string">"echo hello"</span>        10 hours ago        Exited (0) 10 hours ago                        peaceful_kowalevski</div><div class="line"></div><div class="line"><span class="comment"># 显示配置信息</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker inspect container2</span></div></pre></td></tr></table></figure>
<h3 id="重新启动停止的容器"><a href="#重新启动停止的容器" class="headerlink" title="重新启动停止的容器"></a>重新启动停止的容器</h3><p><code>docker start [-i] 容器名</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 重新启动容器</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker start -i container2</span></div><div class="line">root@9ec00bfc984d:/<span class="comment"># exit</span></div><div class="line"><span class="built_in">exit</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps -a</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                      PORTS               NAMES</div><div class="line">9ec00bfc984d        ubuntu              <span class="string">"/bin/bash"</span>         5 minutes ago       Exited (0) 10 seconds ago                       container2</div><div class="line">1ed36419aeb9        ubuntu              <span class="string">"/bin/bash"</span>         10 hours ago        Exited (0) 10 hours ago                         practical_swanson</div><div class="line">b934d23e6789        ubuntu              <span class="string">"echo luya"</span>         10 hours ago        Exited (0) 10 hours ago                         kind_hawking</div><div class="line">9e7de9e1f31b        ubuntu              <span class="string">"echo hello"</span>        10 hours ago        Exited (0) 10 hours ago                         peaceful_kowalevski</div></pre></td></tr></table></figure>
<h3 id="删除停止的容器"><a href="#删除停止的容器" class="headerlink" title="删除停止的容器"></a>删除停止的容器</h3><p>删除停止的容器：<code>docker rm 容器名</code>。（只能删除已经停止的容器，不能删除运行中的容器）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker rm container2</span></div><div class="line">container2</div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps -a</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                    PORTS               NAMES</div><div class="line">1ed36419aeb9        ubuntu              <span class="string">"/bin/bash"</span>         10 hours ago        Exited (0) 10 hours ago                       practical_swanson</div><div class="line">b934d23e6789        ubuntu              <span class="string">"echo luya"</span>         10 hours ago        Exited (0) 10 hours ago                       kind_hawking</div><div class="line">9e7de9e1f31b        ubuntu              <span class="string">"echo hello"</span>        10 hours ago        Exited (0) 10 hours ago                       peaceful_kowalevski</div></pre></td></tr></table></figure>
<h2 id="守护式容器"><a href="#守护式容器" class="headerlink" title="守护式容器"></a>守护式容器</h2><h3 id="以守护形式运行容器"><a href="#以守护形式运行容器" class="headerlink" title="以守护形式运行容器"></a>以守护形式运行容器</h3><p>命令：<code>docker run -i -t IMAGE /bin/bash</code>，接下来使用<code>Ctrl+P, Ctrl+Q</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker run -i -t ubuntu /bin/bash</span></div><div class="line"></div><div class="line"><span class="comment"># Ctrl+P、Ctrl+Q（转到后台）, 换行</span></div><div class="line">root@d7f3a54f0db4:/<span class="comment"># root@luyaj-virtual-machine:/home/luyaj# </span></div><div class="line"></div><div class="line"><span class="comment"># 可以查看到这几个容器当前还在运行</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS               NAMES</div><div class="line">d7f3a54f0db4        ubuntu              <span class="string">"/bin/bash"</span>         About a minute ago   Up About a minute                       affectionate_beaver</div><div class="line">5e724ab47af5        ubuntu              <span class="string">"/bin/bash"</span>         4 minutes ago        Up 4 minutes                            amazing_franklin</div></pre></td></tr></table></figure>
<h3 id="附加到运行中的容器"><a href="#附加到运行中的容器" class="headerlink" title="附加到运行中的容器"></a>附加到运行中的容器</h3><p>命令：<code>docker attach 容器名</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker attach d7f3a54f0db4 </span></div><div class="line">root@d7f3a54f0db4:/<span class="comment"># root@luyaj-virtual-machine:/home/luyaj# </span></div><div class="line"></div><div class="line"><span class="comment"># 可以看到有两个容器在运行</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class="line">d7f3a54f0db4        ubuntu              <span class="string">"/bin/bash"</span>         6 minutes ago       Up 6 minutes                            affectionate_beaver</div><div class="line">5e724ab47af5        ubuntu              <span class="string">"/bin/bash"</span>         10 minutes ago      Up 10 minutes                           amazing_franklin</div><div class="line"></div><div class="line"><span class="comment"># 进入此命令</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker attach d7f3a54f0db4 </span></div><div class="line"></div><div class="line"><span class="comment"># 退出</span></div><div class="line">root@d7f3a54f0db4:/<span class="comment"># exit</span></div><div class="line"><span class="built_in">exit</span></div><div class="line"></div><div class="line"><span class="comment"># 可以看到上面的容器停止了</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES</div><div class="line">5e724ab47af5        ubuntu              <span class="string">"/bin/bash"</span>         11 minutes ago      Up 11 minutes                           amazing_franklin</div></pre></td></tr></table></figure>
<h3 id="停止守护式容器"><a href="#停止守护式容器" class="headerlink" title="停止守护式容器"></a>停止守护式容器</h3><p>发送一个信号，等待停止：<code>docker stop 容器名</code><br>直接杀死：<code>docker kill 容器名</code></p>
<h1 id="在容器中使用Nginx部署静态网站"><a href="#在容器中使用Nginx部署静态网站" class="headerlink" title="在容器中使用Nginx部署静态网站"></a>在容器中使用Nginx部署静态网站</h1><p>Nginx部署流程如下：</p>
<ul>
<li>创建映射80端口的交互式容器</li>
<li>安装Nginx</li>
<li>安装文本编辑器vim</li>
<li>创建静态页面</li>
<li>修改Nginx配置文件</li>
<li>运行Nginx</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 创建带端口映射的交互容器，命名为"web"，使用ubuntu为系统。</span></div><div class="line">root@luyaj-virtual-machine:/home/luyaj<span class="comment"># docker run -p 80 --name web1 -i -t ubuntu  /bin/bash</span></div><div class="line"></div><div class="line"><span class="comment"># 更新包</span></div><div class="line">root@416f6aee01e7:/<span class="comment"># apt-get update</span></div><div class="line"></div><div class="line"><span class="comment"># 安装Nginx</span></div><div class="line">root@416f6aee01e7:/<span class="comment"># apt install -y nginx</span></div><div class="line"></div><div class="line"><span class="comment"># 安装vim</span></div><div class="line">root@416f6aee01e7:/<span class="comment"># apt intall -y vim</span></div><div class="line"></div><div class="line"><span class="comment"># 创建静态页面（在index.html中填写前端代码）</span></div><div class="line">root@fa38c10136a0:/<span class="comment"># mkdir -p /var/www/html</span></div><div class="line">root@fa38c10136a0:/<span class="comment"># cd /var/www/html</span></div><div class="line">root@fa38c10136a0:/var/www/html<span class="comment"># vim index.html</span></div><div class="line"></div><div class="line"><span class="comment"># 使用whereis查看nginx在哪</span></div><div class="line">root@f3cfa277a97e:/var/www/html<span class="comment"># whereis nginx</span></div><div class="line">nginx: /usr/sbin/nginx /etc/nginx /usr/share/nginx</div><div class="line"></div><div class="line"><span class="comment"># 打开文件default</span></div><div class="line">root@f3cfa277a97e:/var/www/html<span class="comment"># ls /etc/nginx</span></div><div class="line">conf.d        fastcgi_params  koi-win     nginx.conf    scgi_params      sites-enabled  uwsgi_params</div><div class="line">fastcgi.conf  koi-utf         mime.types  proxy_params  sites-available  snippets       win-utf</div><div class="line">root@f3cfa277a97e:/var/www/html<span class="comment"># ls /etc/nginx/sites-enabled </span></div><div class="line">default</div><div class="line">root@f3cfa277a97e:/var/www/html<span class="comment"># vim /etc/nginx/sites-enabled/default</span></div></pre></td></tr></table></figure>
<p>在default文件，将root值修改为我们创建的静态网站的位置（/var/www/html）,操作如图:</p>
<p><img src="http://oxv4lmd01.bkt.clouddn.com/docker_default_root.png" alt="修改root"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 切换到根目录，运行nginx，使用ps命令在容器查中看当前的进程</span></div><div class="line">root@f3cfa277a97e:/var/www/html<span class="comment"># cd /</span></div><div class="line">root@f3cfa277a97e:/<span class="comment"># nginx</span></div><div class="line">root@f3cfa277a97e:/<span class="comment"># ps -ef</span></div><div class="line">UID        PID  PPID  C STIME TTY          TIME CMD</div><div class="line">root         1     0  0 12:53 ?        00:00:00 bash</div><div class="line">root        18     1  0 13:08 ?        00:00:00 nginx: master process nginx</div><div class="line">www-data    19    18  0 13:08 ?        00:00:00 nginx: worker process</div><div class="line">root        20     1  0 13:09 ?        00:00:00 ps -ef</div><div class="line"></div><div class="line"><span class="comment"># Ctrl+P,Ctrl+Q. “docker ps”或“docker port 容器名”可以看到容器映射的端口</span></div><div class="line">root@f3cfa277a97e:/<span class="comment"># [root@izuf6alst6rugagpxl8wizz ~]# </span></div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker ps</span></div><div class="line">CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                   NAMES</div><div class="line">0e10487869ea        ubuntu              <span class="string">"/bin/bash"</span>         30 minutes ago      Up 30 minutes                               silly_bose</div><div class="line">f3cfa277a97e        ubuntu              <span class="string">"bash"</span>              35 hours ago        Up 17 minutes       0.0.0.0:32769-&gt;80/tcp   web1</div><div class="line">8f8c5c20e073        ubuntu              <span class="string">"bash"</span>              35 hours ago        Up 35 hours                                 nostalgic_davinci</div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker port web1</span></div><div class="line">80/tcp -&gt; 0.0.0.0:32769</div><div class="line"></div><div class="line"><span class="comment"># 运行</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># curl http://127.0.0.1:32769</span></div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;title&gt;nginx <span class="keyword">in</span> docker&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;h1&gt;hello, first website <span class="keyword">in</span> docker!&lt;/h1&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
<p>可以看到，出现了我们编辑的页面。我们也可以在浏览器中访问页面。由于我这里是在云服务器上开启的容器，所以使用云服务器的ip地址+端口号，即可成功访问页面。</p>
<p>上面我们是用宿主机的ip地址来查看的网页，这里我们还可以用容器的ip地址查看页面：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker inspect web1</span></div></pre></td></tr></table></figure></p>
<p>运行结果如下，找到ip地址（不需要指定端口号，默认为80端口）：</p>
<p><img src="http://oxv4lmd01.bkt.clouddn.com/docker_curl.png" alt="代码"></p>
<p>到这里我们就完成了一个静态页面！下面来看看怎么运行nginx。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 停用容器</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker stop web1</span></div><div class="line">web1</div><div class="line"></div><div class="line"><span class="comment"># 开启容器</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker start -i web1</span></div><div class="line"></div><div class="line"><span class="comment"># 可以看到nginx没有开启</span></div><div class="line">root@f3cfa277a97e:/<span class="comment"># ps -ef</span></div><div class="line">UID        PID  PPID  C STIME TTY          TIME CMD</div><div class="line">root         1     0  0 14:19 ?        00:00:00 bash</div><div class="line">root         9     1  0 14:20 ?        00:00:00 ps -ef</div><div class="line"></div><div class="line"><span class="comment"># exec命令启动nginx，查看</span></div><div class="line">root@f3cfa277a97e:/<span class="comment"># [root@izuf6alst6rugagpxl8wizz ~]# </span></div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker exec web1 nginx</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker top web1</span></div><div class="line">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</div><div class="line">root                12250               12227               0                   22:19               pts/2               00:00:00            bash</div><div class="line">root                12370               1                   0                   22:20               ?                   00:00:00            nginx: master process nginx</div><div class="line">33                  12371               12370               0                   22:20               ?                   00:00:00            nginx: worker process</div><div class="line"></div><div class="line"><span class="comment"># 运行网站（会发现有问题），使用inspect查看容器，重新输入地址，就成功了。</span></div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># http://172.17.0.3</span></div><div class="line">-bash: http://172.17.0.3: No such file or directory</div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker inspect</span></div><div class="line">/usr/bin/docker-current: <span class="string">"inspect"</span> requires a minimum of 1 argument.</div><div class="line">See <span class="string">'/usr/bin/docker-current inspect --help'</span>.</div><div class="line"></div><div class="line">Usage:  docker inspect [OPTIONS] CONTAINER|IMAGE|TASK [CONTAINER|IMAGE|TASK...]</div><div class="line"></div><div class="line">Return low-level information on a container, image or task</div><div class="line">[root@izuf6alst6rugagpxl8wizz ~]<span class="comment"># docker inspect web1</span></div></pre></td></tr></table></figure>
<p>友情链接：<a href="https://segmentfault.com/a/1190000012161773" target="_blank" rel="external">docker上手并部署Ngnix</a></p>
<h1 id="构建镜像"><a href="#构建镜像" class="headerlink" title="构建镜像"></a>构建镜像</h1>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Docker是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中，然后发布到任何流行的Linux机器上，也可以实现虚拟化，容器是完全使用沙箱机制，相互之间不会有任何接口。&lt;br&gt;
    
    </summary>
    
      <category term="工具" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>《指尖上行》移动前端开发之路</title>
    <link href="http://yoursite.com/2017/11/29/%E3%80%8A%E6%8C%87%E5%B0%96%E4%B8%8A%E8%A1%8C%E3%80%8B%E7%A7%BB%E5%8A%A8%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E4%B9%8B%E8%B7%AF/"/>
    <id>http://yoursite.com/2017/11/29/《指尖上行》移动前端开发之路/</id>
    <published>2017-11-29T12:50:43.000Z</published>
    <updated>2017-12-04T07:28:09.023Z</updated>
    
    <content type="html"><![CDATA[<p>本书从基础的移动页面布局和常见前端框架，到进阶的移动页面动画技术、Web API及性能优化，再到各类实战案例剖析等，讲解了技术层面的各类知识和心得。另外，书中还介绍了常用的数据分析方法，以验证项目效果。<br><a id="more"></a></p>
<h2 id="移动页面开发"><a href="#移动页面开发" class="headerlink" title="移动页面开发"></a>移动页面开发</h2><h3 id="设备像素"><a href="#设备像素" class="headerlink" title="设备像素"></a>设备像素</h3><p>设备像素有两个：</p>
<ol>
<li>物理像素：指设备显示屏中使用的最小显示单元，即<strong>屏幕分辨率</strong>（如：iphone5的屏幕分辨率是640像素*1136像素）</li>
<li>独立像素：指Web编程中的逻辑像素，即<strong>CSS像素</strong>（如：iphone5的CSS像素是320像素*568像素）</li>
</ol>
<h3 id="像素密度-PPI"><a href="#像素密度-PPI" class="headerlink" title="像素密度(PPI)"></a>像素密度(PPI)</h3><p>PPI(Pixels Per Inch)是用来表示设备每英寸所拥有的物理像素数目。这个数值越高，屏幕越清晰。公式如下：<br>PPI = (sqrt(屏幕分辨率宽^2+屏幕分辨率高^2))/4;</p>
<p>当显示屏的PPI超过了某一数值时，人的肉眼就无法分辨其中的单独像素，这就是<strong>Retina显示屏</strong>。</p>
<h3 id="设备像素比-DPR"><a href="#设备像素比-DPR" class="headerlink" title="设备像素比(DPR)"></a>设备像素比(DPR)</h3><p>DPR(Device Pixel Ratio)是指物理像素和CSS像素的比例。</p>
<p>对于常规屏来说，物理像素和CSS像素的比值是1:1，但是在Retina屏幕设备中，一个CSS像素可能等于多个物理像素。（iphone从4代开始DPR基本为2，plus除外）</p>
<h3 id="设置Viewport"><a href="#设置Viewport" class="headerlink" title="设置Viewport"></a>设置Viewport</h3><p>Viewport有三种：Layout Viewport, Visual Viewport, Ideal Viewport(理想的).</p>
<p>为了将浏览器默认的Layout Viewport宽度设置为Ideal Viewport的宽度，在开发移动页面时一般都会在head标签中写入以下代码：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>总结：</p>
<ul>
<li><a href="http://screensiz.es" target="_blank" rel="external">关于设备像素、设备密度及设备像素比</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本书从基础的移动页面布局和常见前端框架，到进阶的移动页面动画技术、Web API及性能优化，再到各类实战案例剖析等，讲解了技术层面的各类知识和心得。另外，书中还介绍了常用的数据分析方法，以验证项目效果。&lt;br&gt;
    
    </summary>
    
      <category term="阅读笔记" scheme="http://yoursite.com/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="书籍" scheme="http://yoursite.com/tags/%E4%B9%A6%E7%B1%8D/"/>
    
  </entry>
  
  <entry>
    <title>学习linux之第二篇</title>
    <link href="http://yoursite.com/2017/11/02/%E5%AD%A6%E4%B9%A0linux%E4%B9%8B%E7%AC%AC%E4%BA%8C%E7%AF%87/"/>
    <id>http://yoursite.com/2017/11/02/学习linux之第二篇/</id>
    <published>2017-11-02T10:35:28.000Z</published>
    <updated>2017-12-23T11:10:36.066Z</updated>
    
    <content type="html"><![CDATA[<p>这是linux后半部分的学习，记录RPM包以及shell，正则表达式等内容。</p>
<a id="more"></a>
<h1 id="安装rpm包及源码包"><a href="#安装rpm包及源码包" class="headerlink" title="安装rpm包及源码包"></a>安装rpm包及源码包</h1><h2 id="RPM-RedHat-Package-Manager-工具"><a href="#RPM-RedHat-Package-Manager-工具" class="headerlink" title="RPM(RedHat Package Manager)工具"></a>RPM(RedHat Package Manager)工具</h2><p>RPM是以一种数据库记录的方式来将我们需要的套件安装到linux主机的一套管理程序。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># mount /dev/cdrom /mnt/</span></div><div class="line">mount: /dev/sr0 写保护，将以只读方式挂载</div><div class="line">[root@localhost jly]<span class="comment"># ls /mnt/</span></div><div class="line">CentOS_BuildTag  GPL       LiveOS    RPM-GPG-KEY-CentOS-7</div><div class="line">EFI              images    Packages  RPM-GPG-KEY-CentOS-Testing-7</div><div class="line">EULA             isolinux  repodata  TRANS.TBL</div><div class="line">[root@localhost jly]<span class="comment"># ls /mnt/Packages/|head</span></div><div class="line">389-ds-base-1.3.5.10-11.el7.x86_64.rpm</div><div class="line">389-ds-base-libs-1.3.5.10-11.el7.x86_64.rpm</div><div class="line">abattis-cantarell-fonts-0.0.16-3.el7.noarch.rpm</div><div class="line">abrt-2.1.11-45.el7.centos.x86_64.rpm</div><div class="line">abrt-addon-ccpp-2.1.11-45.el7.centos.x86_64.rpm</div><div class="line">abrt-addon-kerneloops-2.1.11-45.el7.centos.x86_64.rpm</div><div class="line">abrt-addon-pstoreoops-2.1.11-45.el7.centos.x86_64.rpm</div><div class="line">abrt-addon-python-2.1.11-45.el7.centos.x86_64.rpm</div><div class="line">abrt-addon-vmcore-2.1.11-45.el7.centos.x86_64.rpm</div><div class="line">abrt-addon-xorg-2.1.11-45.el7.centos.x86_64.rpm</div></pre></td></tr></table></figure>
<h3 id="安装和升级一个rpm包"><a href="#安装和升级一个rpm包" class="headerlink" title="安装和升级一个rpm包"></a>安装和升级一个rpm包</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># rpm -ivh /mnt/Packages/abattis-cantarell-fonts-0.0.16-3.el7.noarch.rpm </span></div><div class="line">准备中...                          <span class="comment">################################# [100%]</span></div><div class="line">    软件包 abattis-cantarell-fonts-0.0.16-3.el7.noarch 已经安装</div><div class="line"></div><div class="line"><span class="comment"># 升级包(-U表示升级)</span></div><div class="line">[root@localhost jly]<span class="comment"># rpm -Uvh /mnt/Packages/abattis-cantarell-fonts-0.0.16-3.el7.noarch.rpm </span></div><div class="line"></div><div class="line"><span class="comment"># 卸载包</span></div><div class="line">[root@localhost jly]<span class="comment"># rpm -e /mnt/Packages/</span></div><div class="line"></div><div class="line"><span class="comment"># 查询一个包是否已安装</span></div><div class="line">[root@localhost jly]<span class="comment"># rpm -q abattis-cantarell-fonts</span></div><div class="line">abattis-cantarell-fonts-0.0.16-3.el7.noarch</div><div class="line"></div><div class="line"><span class="comment"># 查询当前系统已安装的rpm包</span></div><div class="line">root@localhost jly]<span class="comment"># rpm -qa</span></div><div class="line"></div><div class="line"><span class="comment"># 得到一个已安装的rpm包的相关信息</span></div><div class="line">[root@localhost jly]<span class="comment"># rpm -qi abattis-cantarell-fonts</span></div></pre></td></tr></table></figure>
<ul>
<li><code>-i</code>:表示安装</li>
<li><code>-v</code>:表示可视化</li>
<li><code>-h</code>:表示显示安装进度</li>
</ul>
<p>另外在安装rpm包时，常用的附带参数还包括：<br><code>--force</code>:表示强制安装，即使覆盖属于其他包的文件也要安装。<br><code>--nodeps</code>:表示当要安装的rpm包依赖于其他包时，即使其他包没有安装，也要安装这个包。</p>
<h2 id="yum工具"><a href="#yum工具" class="headerlink" title="yum工具"></a>yum工具</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 列出所有可用rpm包</span></div><div class="line">[root@localhost jly]<span class="comment"># yum list</span></div><div class="line"></div><div class="line"><span class="comment"># 搜索一个包</span></div><div class="line">[root@localhost jly]<span class="comment"># yum search vim</span></div><div class="line">已加载插件：fastestmirror, langpacks</div><div class="line">Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast</div><div class="line">Loading mirror speeds from cached hostfile</div><div class="line"> * base: centos.ustc.edu.cn</div><div class="line"> * extras: centos.ustc.edu.cn</div><div class="line"> * updates: centos.ustc.edu.cn</div><div class="line">================================================================================================ N/S matched: vim =================================================================================================</div><div class="line">protobuf-vim.x86_64 : Vim syntax highlighting <span class="keyword">for</span> Google Protocol Buffers descriptions</div><div class="line">vim-X11.x86_64 : The VIM version of the vi editor <span class="keyword">for</span> the X Window System</div><div class="line">vim-common.x86_64 : The common files needed by any version of the VIM editor</div><div class="line">vim-enhanced.x86_64 : A version of the VIM editor <span class="built_in">which</span> includes recent enhancements</div><div class="line">vim-filesystem.x86_64 : VIM filesystem layout</div><div class="line">vim-minimal.x86_64 : A minimal version of the VIM editor</div><div class="line"></div><div class="line">  名称和简介匹配 only，使用“search all”试试。</div><div class="line"></div><div class="line"><span class="comment"># 安装一个rpm包（不加-y选项会以与用户交互的方式安装）</span></div><div class="line">[root@localhost jly]<span class="comment"># yum install [-y] [rpm包名]</span></div><div class="line"></div><div class="line"><span class="comment"># 卸载一个rpm包</span></div><div class="line">[root@localhost jly]<span class="comment"># yum remove [-y] [rpm包名]</span></div><div class="line"></div><div class="line"><span class="comment"># 升级一个rpm包</span></div><div class="line">[root@localhost jly]<span class="comment"># yum update [-y] [rpm包名]</span></div></pre></td></tr></table></figure>
<h1 id="Shell基础知识"><a href="#Shell基础知识" class="headerlink" title="Shell基础知识"></a>Shell基础知识</h1><p>shell是系统跟计算机硬件交互时使用的中间介质，它只是系统的一个工具。如果把计算机硬件比作一个人的躯体，那系统内核就是人的大脑，shell称为人的五官更为贴切。</p>
<h2 id="一些命令"><a href="#一些命令" class="headerlink" title="一些命令"></a>一些命令</h2><h3 id="记录历史命令"><a href="#记录历史命令" class="headerlink" title="记录历史命令"></a>记录历史命令</h3><ul>
<li><code>!!</code>:表示执行上一条指令。</li>
<li><code>!n</code>:表示执行命令历史中的第n条指令。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># pwd</span></div><div class="line">/home/jly</div><div class="line">[root@localhost jly]<span class="comment"># !!</span></div><div class="line"><span class="built_in">pwd</span></div><div class="line">/home/jly</div><div class="line"></div><div class="line">[root@localhost jly]<span class="comment"># history |grep 25</span></div><div class="line">   25  <span class="built_in">exit</span></div><div class="line">   34  <span class="built_in">history</span> |grep 25</div><div class="line">[root@localhost jly]<span class="comment"># !25</span></div><div class="line"><span class="built_in">exit</span></div><div class="line"><span class="built_in">exit</span></div></pre></td></tr></table></figure>
<h3 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h3><p>使用alias命令把一个常用的且很长的指令别名为一个简单易记得指令；unalias解除别名功能。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># alias</span></div><div class="line"><span class="built_in">alias</span> cp=<span class="string">'cp -i'</span></div><div class="line"><span class="built_in">alias</span> egrep=<span class="string">'egrep --color=auto'</span></div><div class="line"><span class="built_in">alias</span> fgrep=<span class="string">'fgrep --color=auto'</span></div><div class="line"><span class="built_in">alias</span> grep=<span class="string">'grep --color=auto'</span></div><div class="line"><span class="built_in">alias</span> l.=<span class="string">'ls -d .* --color=auto'</span></div><div class="line"><span class="built_in">alias</span> ll=<span class="string">'ls -l --color=auto'</span></div><div class="line"><span class="built_in">alias</span> ls=<span class="string">'ls --color=auto'</span></div><div class="line"><span class="built_in">alias</span> mv=<span class="string">'mv -i'</span></div><div class="line"><span class="built_in">alias</span> rm=<span class="string">'rm -i'</span></div><div class="line"><span class="built_in">alias</span> <span class="built_in">which</span>=<span class="string">'alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde'</span></div><div class="line">[root@localhost jly]<span class="comment"># alias aming='pwd'</span></div><div class="line">[root@localhost jly]<span class="comment"># aming</span></div><div class="line">/home/jly</div><div class="line">[root@localhost jly]<span class="comment"># unalias aming   </span></div><div class="line">[root@localhost jly]<span class="comment"># aming</span></div><div class="line">bash: aming: 未找到命令...</div></pre></td></tr></table></figure></p>
<h3 id="通配符"><a href="#通配符" class="headerlink" title="通配符"></a>通配符</h3><p>使用“*”来匹配0个或多个字符，用“？”匹配一个字符。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ls -d test*</span></div><div class="line"><span class="comment"># test1.txt test2 test3 test.pl</span></div><div class="line"><span class="comment"># ls -d test?</span></div><div class="line"><span class="comment"># test2 test3</span></div></pre></td></tr></table></figure></p>
<h3 id="作业控制"><a href="#作业控制" class="headerlink" title="作业控制"></a>作业控制</h3><p>使用vi命令编辑test.txt:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ vi test.txt</div><div class="line">testtesttest</div></pre></td></tr></table></figure></p>
<p>按ESC键后使用Ctrl+z暂停任务，如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ vi test.txt</div><div class="line"></div><div class="line">[1]+  已停止               vim test.txt</div></pre></td></tr></table></figure></p>
<p>上面提示“vi test.txt” 已经停止了，使用fg命令可以恢复它，然后又会进入刚才的vi窗口。再次使其暂停，然后输入jobs，可以看到被暂停或者在后台运行的任务：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ <span class="built_in">jobs</span></div><div class="line">[1]+  已停止               vim test.txt</div></pre></td></tr></table></figure></p>
<p>如果想把暂停的任务放到后台重新运行，就是用bg命令(但是vi似乎不支持在后台运行)：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ <span class="built_in">bg</span></div><div class="line">[1]+ vim test.txt &amp;</div><div class="line"></div><div class="line">[1]+  已停止               vim test.txt</div></pre></td></tr></table></figure></p>
<h2 id="linux-shell中的特殊符号"><a href="#linux-shell中的特殊符号" class="headerlink" title="linux shell中的特殊符号"></a>linux shell中的特殊符号</h2><ul>
<li>注释符号<code>#</code>：在<code>#</code>后面的内容都会被忽略。</li>
<li><p>脱义字符<code>\</code>：会将后面的特殊符号（如”*”）还原为普通字符。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ ls <span class="_">-d</span> <span class="built_in">test</span>\*</div><div class="line">ls: 无法访问<span class="built_in">test</span>*: 没有那个文件或目录</div></pre></td></tr></table></figure>
</li>
<li><p>管道符<code>|</code>：将前面命令的输出作为后面命令的输入。</p>
</li>
<li><code>wc</code>命令用于统计文档的行数、字符数或词数。</li>
<li><p>符号”$”用于作变量前面的标志符。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ ls test.txt</div><div class="line">test.txt</div><div class="line">[jly@localhost ~]$ ls !$</div><div class="line">ls test.txt</div><div class="line">test.txt</div></pre></td></tr></table></figure>
</li>
<li><p>符号”~”表示用户的家目录，root用户的家目录是<code>/root</code>,普通用户则是<code>/home/username</code></p>
</li>
</ul>
<h3 id="重定向符号"><a href="#重定向符号" class="headerlink" title="重定向符号"></a>重定向符号</h3><ul>
<li>‘&gt;’ 和 ‘&gt;&gt;’:分别表示取代和追加。</li>
<li>当我们运行一个命令报错时，报错信息会输出到当前屏幕，如果想重定向到一个文本里，则要用重定向符号“2&gt;”或者“2&gt;&gt;”,分别表示错误重定向和错误追加重定向。</li>
</ul>
<h1 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h1><h2 id="grep工具的使用"><a href="#grep工具的使用" class="headerlink" title="grep工具的使用"></a>grep工具的使用</h2><p>命令格式：<code>grep [-cinvABC] &#39;word&#39; filename</code>。</p>
<ul>
<li>-c: 表示打印符合要求的行数</li>
<li>-i: 表示忽略大小写</li>
<li>-n: 表示输出符合要求的行及行号</li>
<li>-v: 表示打印不符合要求的行号grep</li>
<li>-A: 后面跟一个数字（有无空格都可以）；-A2：表示打印符合要求的行以及下面两行</li>
<li>-B: 后面跟一个数字；-B2：表示打印符合要求的行以及上面两行</li>
<li>-C: 后面跟一个数字；-C2：表示打印符合要求的行以及上下各两行</li>
</ul>
<h3 id="过滤-不-带有某个关键词的行并输出行号"><a href="#过滤-不-带有某个关键词的行并输出行号" class="headerlink" title="过滤(不)带有某个关键词的行并输出行号"></a>过滤(不)带有某个关键词的行并输出行号</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ grep -n <span class="string">'root'</span> /etc/passwd</div><div class="line">1:root:x:0:0:root:/root:/bin/bash</div><div class="line">10:operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">43:dockerroot:x:989:984:Docker User:/var/lib/docker:/sbin/nologin</div></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ grep -nv <span class="string">'nologin'</span> /etc/passwd</div><div class="line">1:root:x:0:0:root:/root:/bin/bash</div><div class="line">6:sync:x:5:0:sync:/sbin:/bin/sync</div><div class="line">7:shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</div><div class="line">8:halt:x:7:0:halt:/sbin:/sbin/halt</div><div class="line">42:jly:x:1000:1000:jly:/home/jly:/bin/bash</div></pre></td></tr></table></figure>
<h3 id="过滤所有包含数字的行"><a href="#过滤所有包含数字的行" class="headerlink" title="过滤所有包含数字的行"></a>过滤所有包含数字的行</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ grep <span class="string">'[0-9]'</span> /etc/passwd</div><div class="line">root:x:0:0:root:/root:/bin/bash</div><div class="line">bin:x:1:1:bin:/bin:/sbin/nologin</div><div class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</div></pre></td></tr></table></figure>
<p>在正则表达式中，<code>^</code>表示行的开始，<code>$</code>表示行的结尾，空行则用<code>^$</code>表示。</p>
<p><code>[^字符]</code>,表示除[]内字符之外的字符。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ cat test.txt</div><div class="line">123</div><div class="line">abc</div><div class="line">456</div><div class="line">abc2323</div><div class="line"><span class="comment">#lsadfg</span></div><div class="line">alllll</div><div class="line">[jly@localhost ~]$ grep <span class="string">'^[^a-zA-Z]'</span> test.txt</div><div class="line">123</div><div class="line">456</div><div class="line"><span class="comment">#lsadfg</span></div><div class="line">[jly@localhost ~]$ grep <span class="string">'[^a-zA-Z]'</span> test.txt</div><div class="line">123</div><div class="line">456</div><div class="line">abc2323</div><div class="line"><span class="comment">#lsadfg</span></div></pre></td></tr></table></figure></p>
<h3 id="指定要过滤的字符的出现次数"><a href="#指定要过滤的字符的出现次数" class="headerlink" title="指定要过滤的字符的出现次数"></a>指定要过滤的字符的出现次数</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ grep <span class="string">'o\&#123;2\&#125;'</span> /etc/passwd</div><div class="line">root:x:0:0:root:/root:/bin/bash</div><div class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</div><div class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">setroubleshoot:x:991:988::/var/lib/setroubleshoot:/sbin/nologin</div><div class="line">postfix:x:89:89::/var/spool/postfix:/sbin/nologin</div><div class="line">dockerroot:x:989:984:Docker User:/var/lib/docker:/sbin/nologin</div></pre></td></tr></table></figure>
<h2 id="egrep工具的使用"><a href="#egrep工具的使用" class="headerlink" title="egrep工具的使用"></a>egrep工具的使用</h2><h3 id="筛选一个或多个前面的字符"><a href="#筛选一个或多个前面的字符" class="headerlink" title="筛选一个或多个前面的字符"></a>筛选一个或多个前面的字符</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ egrep <span class="string">'o+'</span> test.txt</div><div class="line">rot:x:0:0:/rot:/bin/bash</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">[jly@localhost ~]$ egrep <span class="string">'oo+'</span> test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div></pre></td></tr></table></figure>
<h3 id="筛选零个或一个前面的字符"><a href="#筛选零个或一个前面的字符" class="headerlink" title="筛选零个或一个前面的字符"></a>筛选零个或一个前面的字符</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ egrep <span class="string">'o?'</span> test.txt</div><div class="line">rot:x:0:0:/rot:/bin/bash</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div></pre></td></tr></table></figure>
<h3 id="筛选字符串1或字符串2"><a href="#筛选字符串1或字符串2" class="headerlink" title="筛选字符串1或字符串2"></a>筛选字符串1或字符串2</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ egrep <span class="string">'aaa|111|oo'</span> test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">1111111111111111111111111111111111</div><div class="line">aaaaaaaaaaaaaaaaaaaaaaaaaaaa</div></pre></td></tr></table></figure>
<h3 id="的应用"><a href="#的应用" class="headerlink" title="()的应用"></a>()的应用</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ egrep <span class="string">'r(oo)|at(o)'</span> test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">[jly@localhost ~]$ egrep <span class="string">'(oo)+'</span> test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div></pre></td></tr></table></figure>
<h2 id="sed工具的使用"><a href="#sed工具的使用" class="headerlink" title="sed工具的使用"></a>sed工具的使用</h2><p>grep工具的功能还不够强大，它实现的只是查找功能，而不能把查找的内容替换。</p>
<h3 id="打印某行"><a href="#打印某行" class="headerlink" title="打印某行"></a>打印某行</h3><p>命令格式：<code>sed -n &#39;n&#39;p filename</code>。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ sed -n <span class="string">'2'</span>p test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">[jly@localhost ~]$ sed -n <span class="string">'1,$'</span>p test.txt</div><div class="line">rot:x:0:0:/rot:/bin/bash</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">1111111111111111111111111111111111</div><div class="line">aaaaaaaaaaaaaaaaaaaaaaaaaaaa</div><div class="line">[jly@localhost ~]$ sed -n <span class="string">'1,3'</span>p test.txt</div><div class="line">rot:x:0:0:/rot:/bin/bash</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">1111111111111111111111111111111111</div></pre></td></tr></table></figure></p>
<p>第一个是打印指定的第二行，第二个是打印所有行，第三个是打印1到3行。</p>
<h3 id="打印包含某个字符串的行"><a href="#打印包含某个字符串的行" class="headerlink" title="打印包含某个字符串的行"></a>打印包含某个字符串的行</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ sed -n <span class="string">'/root/'</span>p test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">[jly@localhost ~]$ sed -n <span class="string">'/^1/'</span>p test.txt</div><div class="line">1111111111111111111111111111111111</div><div class="line">[jly@localhost ~]$ sed -n <span class="string">'/in$/'</span>p test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div></pre></td></tr></table></figure>
<p>sed命令加上-e选项可以实现多个行为：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ sed <span class="_">-e</span> <span class="string">'1'</span>p <span class="_">-e</span> <span class="string">'/111/'</span>p -n test.txt</div><div class="line">rot:x:0:0:/rot:/bin/bash</div><div class="line">1111111111111111111111111111111111</div></pre></td></tr></table></figure></p>
<h3 id="删除某行或者多行"><a href="#删除某行或者多行" class="headerlink" title="删除某行或者多行"></a>删除某行或者多行</h3><p>参数“d”表示删除的动作，可以删除指定的单行以及多行，可以删除匹配某个字符的行，可以删除从某一行开始到文档最后一行的所有行。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ sed <span class="string">'1'</span>d test.txt</div><div class="line">operator:x:11:0:operator:/root:/sbin/nologin</div><div class="line">1111111111111111111111111111111111</div><div class="line">aaaaaaaaaaaaaaaaaaaaaaaaaaaa</div></pre></td></tr></table></figure></p>
<h3 id="替换字符或者字符串"><a href="#替换字符或者字符串" class="headerlink" title="替换字符或者字符串"></a>替换字符或者字符串</h3><p>“s”就是替换的动作，“g”表示本行全局替换，不加g则只替换本行出现的第一个。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ sed  <span class="string">'1,2s/ot/to/g'</span> test.txt</div><div class="line">rto:x:0:0:/rto:/bin/bash</div><div class="line">operator:x:11:0:operator:/roto:/sbin/nologin</div><div class="line">1111111111111111111111111111111111</div><div class="line">aaaaaaaaaaaaaaaaaaaaaaaaaaaa</div><div class="line">[jly@localhost ~]$ sed  <span class="string">'s#ot#to#g'</span> test.txt</div></pre></td></tr></table></figure></p>
<p>上面两种格式都可以。</p>
<h3 id="直接修改文件的内容"><a href="#直接修改文件的内容" class="headerlink" title="直接修改文件的内容"></a>直接修改文件的内容</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ sed -i <span class="string">'s/ot/to/g'</span> test.txt</div><div class="line">[jly@localhost ~]$ cat test.txt</div><div class="line">rto:x:0:0:/rto:/bin/bash</div><div class="line">operator:x:11:0:operator:/roto:/sbin/nologin</div><div class="line">1111111111111111111111111111111111</div><div class="line">aaaaaaaaaaaaaaaaaaaaaaaaaaaa</div></pre></td></tr></table></figure>
<h1 id="shell脚本"><a href="#shell脚本" class="headerlink" title="shell脚本"></a>shell脚本</h1><h2 id="什么是shell？"><a href="#什么是shell？" class="headerlink" title="什么是shell？"></a>什么是shell？</h2><h3 id="shell脚本的创建和执行"><a href="#shell脚本的创建和执行" class="headerlink" title="shell脚本的创建和执行"></a>shell脚本的创建和执行</h3><p>编写我的第一个shell脚本（vim进入时是一般模式，按i键，进入编辑模式，按esc键退出编辑模式，然后“:wq”保存并退出vim）：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># cd /usr/local/sbin/</span></div><div class="line">[root@localhost sbin]<span class="comment"># vim first.sh</span></div><div class="line"><span class="meta">#! /bin/bash</span></div><div class="line"><span class="comment">## this is my first shell script</span></div><div class="line"><span class="comment">## writen by luyaj 2017-11-18</span></div><div class="line"></div><div class="line">date</div><div class="line"><span class="built_in">echo</span> <span class="string">"hello world!"</span></div></pre></td></tr></table></figure></p>
<p>shell脚本通常是以.sh为后缀名的。本例中，脚本文件first.sh的第一行是以“#! /bin/bash”开头，表示该文件使用的是bash语法。下面执行脚本：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">2017年 11月 18日 星期六 20:31:16 CST</div><div class="line">hello world!</div></pre></td></tr></table></figure></p>
<p>使用-x选项来查看脚本的执行过程：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># sh -x first.sh</span></div><div class="line">+ date</div><div class="line">2017年 11月 18日 星期六 20:41:38 CST</div><div class="line">+ <span class="built_in">echo</span> <span class="string">'hello world!'</span></div><div class="line">hello world!</div></pre></td></tr></table></figure></p>
<h3 id="命令date"><a href="#命令date" class="headerlink" title="命令date"></a>命令date</h3><ul>
<li>date +%Y : 以四位数字格式打印年份</li>
<li>date +%y : 以两位数字格式打印年份</li>
<li>date +%m : 月份</li>
<li>date +%d : 日期</li>
<li>date +%H : 小时</li>
<li>date +%M : 分钟</li>
<li>date +%S : 秒</li>
<li>date +%w : 日期（0表示周日）</li>
</ul>
<p>写此命令时是：2017年11月18日 20:43<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># date +"%Y-%m-%d %H:%M:%S"</span></div><div class="line">2017-11-18 20:42:27</div><div class="line">[root@localhost sbin]<span class="comment"># date -d "-1 day" +%d</span></div><div class="line">17</div><div class="line">[root@localhost sbin]<span class="comment"># date -d "-1 hour" +%H</span></div><div class="line">19</div><div class="line">[root@localhost sbin]<span class="comment"># date -d "-1 min" +%M</span></div><div class="line">42</div></pre></td></tr></table></figure></p>
<h2 id="shell脚本中的变量"><a href="#shell脚本中的变量" class="headerlink" title="shell脚本中的变量"></a>shell脚本中的变量</h2><h3 id="数学运算"><a href="#数学运算" class="headerlink" title="数学运算"></a>数学运算</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">a=1</div><div class="line">b=2</div><div class="line">sum=$[<span class="variable">$a</span>+<span class="variable">$b</span>]</div><div class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$a</span>+<span class="variable">$b</span>=<span class="variable">$sum</span>"</span></div><div class="line"></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">1+2=3</div></pre></td></tr></table></figure>
<h3 id="和用户交互-read"><a href="#和用户交互-read" class="headerlink" title="和用户交互(read)"></a>和用户交互(read)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">read</span> -p <span class="string">"please input a number:"</span> x</div><div class="line"><span class="built_in">read</span> -p <span class="string">"please input another number:"</span> y</div><div class="line">sum=$[<span class="variable">$x</span>+<span class="variable">$y</span>]</div><div class="line"><span class="built_in">echo</span> <span class="string">"the sum of the two num is: <span class="variable">$sum</span>"</span></div><div class="line"></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">please input a number:2</div><div class="line">please input another number:4</div><div class="line">the sum of the two num is: 6</div></pre></td></tr></table></figure>
<h3 id="shell脚本预设变量"><a href="#shell脚本预设变量" class="headerlink" title="shell脚本预设变量"></a>shell脚本预设变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># vim first.sh</span></div><div class="line">sum=$[<span class="variable">$1</span>+<span class="variable">$2</span>]</div><div class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$sum</span>"</span></div><div class="line">[root@localhost sbin]<span class="comment"># sh -x first.sh 1 2</span></div><div class="line">+ sum=3</div><div class="line">+ <span class="built_in">echo</span> 3</div><div class="line">3</div></pre></td></tr></table></figure>
<p>脚本中的$1和$2就是shell脚本的预设变量。另外还有$0,表示脚本本身的名字：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$1</span> <span class="variable">$2</span> <span class="variable">$0</span>"</span></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh 1 2</span></div><div class="line">1 2 first.sh</div></pre></td></tr></table></figure></p>
<h2 id="shell脚本中的逻辑判断"><a href="#shell脚本中的逻辑判断" class="headerlink" title="shell脚本中的逻辑判断"></a>shell脚本中的逻辑判断</h2><h3 id="不带else"><a href="#不带else" class="headerlink" title="不带else"></a>不带else</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># cat first.sh</span></div><div class="line"><span class="meta">#! /bin/bash</span></div><div class="line"><span class="built_in">read</span></div><div class="line"><span class="built_in">read</span> -p <span class="string">"please input you score:"</span> a</div><div class="line"><span class="keyword">if</span>((a&lt;60)); <span class="keyword">then</span></div><div class="line">    <span class="built_in">echo</span> <span class="string">"you fail"</span></div><div class="line"><span class="keyword">fi</span></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">please input you score:34</div><div class="line">you fail</div></pre></td></tr></table></figure>
<p>“((a&lt;60))”是shell脚本中特有的格式，只用一个小括号或者不用都会报错。</p>
<h3 id="带有else"><a href="#带有else" class="headerlink" title="带有else"></a>带有else</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># cat first.sh</span></div><div class="line"><span class="meta">#! /bin/bash</span></div><div class="line"></div><div class="line"><span class="built_in">read</span> -p <span class="string">"please input you score:"</span> a</div><div class="line"><span class="keyword">if</span>((a&lt;60)); <span class="keyword">then</span></div><div class="line"> <span class="built_in">echo</span> <span class="string">"you fail."</span></div><div class="line"><span class="keyword">else</span></div><div class="line"> <span class="built_in">echo</span> <span class="string">"good!pass it."</span></div><div class="line"><span class="keyword">fi</span></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">please input you score:45</div><div class="line">you fail.</div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">please input you score:90</div><div class="line">good!pass it.</div></pre></td></tr></table></figure>
<h3 id="带有elif"><a href="#带有elif" class="headerlink" title="带有elif"></a>带有elif</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># cat first.sh</span></div><div class="line"><span class="meta">#! /bin/bash</span></div><div class="line"></div><div class="line"><span class="built_in">read</span> -p <span class="string">"please input you score:"</span> a</div><div class="line"><span class="keyword">if</span>((a&lt;60)); <span class="keyword">then</span></div><div class="line"> <span class="built_in">echo</span> <span class="string">"you fail."</span></div><div class="line"><span class="keyword">elif</span> ((a&gt;=60)) &amp;&amp; ((a&lt;85)); <span class="keyword">then</span></div><div class="line"> <span class="built_in">echo</span> <span class="string">"good!pass it."</span></div><div class="line"><span class="keyword">else</span></div><div class="line"> <span class="built_in">echo</span> <span class="string">"very good!is so high."</span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure>
<p>判断数值大小除了可以用(())的形式外，还可以使用[]，但是不能使用&gt;、&lt;、=这样的符号了，要使用-lt(小于)、-gt(大于)、-le(小于或等于)、-ge(大于或等于)，-eq(等于)，-ne(不等于)。</p>
<h3 id="case逻辑判断"><a href="#case逻辑判断" class="headerlink" title="case逻辑判断"></a>case逻辑判断</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">read</span> -p <span class="string">"input a number:"</span> n</div><div class="line">a=$[<span class="variable">$n</span>%2]</div><div class="line"><span class="keyword">case</span> <span class="variable">$a</span> <span class="keyword">in</span></div><div class="line">1)</div><div class="line"> <span class="built_in">echo</span> <span class="string">"the num is odd"</span></div><div class="line"> ;;</div><div class="line">0)</div><div class="line"> <span class="built_in">echo</span> <span class="string">"the num is even"</span></div><div class="line"> ;;</div><div class="line">*)</div><div class="line"> <span class="built_in">echo</span> <span class="string">"it's not a num"</span></div><div class="line"> ;;</div><div class="line"><span class="keyword">esac</span></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">input a number:20</div><div class="line">the num is even</div></pre></td></tr></table></figure>
<h2 id="shell脚本的循环"><a href="#shell脚本的循环" class="headerlink" title="shell脚本的循环"></a>shell脚本的循环</h2><h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><p>“seq 1 5”表示从1到5的一个序列：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> `seq 1 5`; <span class="keyword">do</span></div><div class="line"> <span class="built_in">echo</span> <span class="variable">$i</span></div><div class="line"><span class="keyword">done</span></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh</span></div><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td></tr></table></figure></p>
<p>循环条件也可以是一组字符串或者数字：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost sbin]<span class="comment"># for i in 1 a b;do echo $i;done</span></div><div class="line">1</div><div class="line">a</div><div class="line">b</div></pre></td></tr></table></figure></p>
<h2 id="shell脚本中的函数"><a href="#shell脚本中的函数" class="headerlink" title="shell脚本中的函数"></a>shell脚本中的函数</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">sum</span></span>()&#123;</div><div class="line"> sum=$[<span class="variable">$1</span>+<span class="variable">$2</span>]</div><div class="line"> <span class="built_in">echo</span> <span class="variable">$sum</span></div><div class="line">&#125;</div><div class="line">sum <span class="variable">$1</span> <span class="variable">$2</span></div><div class="line">[root@localhost sbin]<span class="comment"># sh first.sh 1 2</span></div><div class="line">3</div></pre></td></tr></table></figure>
<p>注意，在shell脚本中，函数一定要写在最前面，因为函数是要被调用的，如果还没有出现就被调用，肯定会出错的。</p>
<h1 id="linux系统日常管理"><a href="#linux系统日常管理" class="headerlink" title="linux系统日常管理"></a>linux系统日常管理</h1><h2 id="监控系统的状态"><a href="#监控系统的状态" class="headerlink" title="监控系统的状态"></a>监控系统的状态</h2><h3 id="w查看当前系统的负载"><a href="#w查看当前系统的负载" class="headerlink" title="w查看当前系统的负载"></a>w查看当前系统的负载</h3><p>主要关注load average后的三个值，表示单位时间段内CPU的活动进程数，这个值越大就说明服务器压力越大，一般情况下，这个值只要不超过服务器的CPU数量就没有关系。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ w</div><div class="line"> 21:40:29 up 2 min,  2 users,  load average: 1.68, 0.99, 0.39</div><div class="line">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</div><div class="line">jly      :0       :0               21:39   ?xdm?  24.29s  0.42s gdm-session-worker [pa</div><div class="line">jly      pts/0    :0               21:39    5.00s  0.11s  0.04s w</div></pre></td></tr></table></figure></p>
<p>查看服务器有几个CPU的方法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ cat /proc/cpuinfo</div><div class="line">processor   : 0</div><div class="line">vendor_id   : GenuineIntel</div><div class="line">cpu family  : 6</div><div class="line">model       : 61</div><div class="line">model name  : Intel(R) Core(TM) i5-5200U CPU @ 2.20GHz</div><div class="line">stepping    : 4</div><div class="line">microcode   : 0x1f</div><div class="line">cpu MHz     : 2200.448</div><div class="line">cache size  : 3072 KB</div><div class="line">physical id : 0</div><div class="line">siblings    : 1</div><div class="line">core id     : 0</div><div class="line">cpu cores   : 1</div><div class="line">apicid      : 0</div><div class="line">initial apicid  : 0</div><div class="line">fpu     : yes</div><div class="line">fpu_exception   : yes</div><div class="line">cpuid level : 20</div><div class="line">wp      : yes</div><div class="line">flags       : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts mmx fxsr sse sse2 ss syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts nopl xtopology tsc_reliable nonstop_tsc aperfmperf eagerfpu pni pclmulqdq ssse3 fma cx16 pcid sse4_1 sse4_2 x2apic movbe popcnt tsc_deadline_timer aes xsave avx f16c rdrand hypervisor lahf_lm abm 3dnowprefetch ida arat epb pln pts dtherm fsgsbase tsc_adjust bmi1 avx2 smep bmi2 invpcid rdseed adx smap xsaveopt</div><div class="line">bogomips    : 4402.00</div><div class="line">clflush size    : 64</div><div class="line">cache_alignment : 64</div><div class="line">address sizes   : 42 bits physical, 48 bits virtual</div><div class="line">power management:</div></pre></td></tr></table></figure></p>
<h3 id="vmstat监控系统的状态"><a href="#vmstat监控系统的状态" class="headerlink" title="vmstat监控系统的状态"></a>vmstat监控系统的状态</h3><p>命令w查看系统整体上的负载，可以查看系统有没有压力，但无法判断具体是哪里（CPU、内存、磁盘等）有压力，所以就用vmstat。vmstat命令打印有以下6部分(列举常用的)：</p>
<ul>
<li>procs显示进程的相关信息<ul>
<li>r：表示运行和等待CPU时间片的进程数，该数值如果长期大于服务器CPU的个数，则说明CPU不够用了。</li>
<li>b：表示等待资源的进程数，比如等待I/O、内存等。</li>
</ul>
</li>
<li>memory显示内存的相关信息</li>
<li>swap显示内存的交换情况<ul>
<li>si：表示由交换区写入到内存的数据量</li>
<li>so：表示由内存写入到交换区的数据量</li>
</ul>
</li>
<li>io显示磁盘的使用情况<ul>
<li>bi：表示从块设备读取数据的量（读磁盘）</li>
<li>bo：表示从块设备写入数据的量（写磁盘）</li>
</ul>
</li>
<li>system显示采集间隔内发生的中段次数</li>
<li>cpu显示CPU的使用状态<ul>
<li>wa：表示I/O等待所占用CPU的时间百分比 </li>
</ul>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ vmstat</div><div class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</div><div class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   <span class="keyword">in</span>   cs us sy id wa st</div><div class="line"> 3  0   3156  66000     36 436188    0    2   894    78  125  213  3  2 92  3  0</div></pre></td></tr></table></figure>
<p>也可以使用命令<code>vmstat 1 5</code>或者<code>vmstat 1</code>，前一条命令表示每隔1秒输出一次状态，共输出5次；后一条命令表示每隔1秒输出一次状态且一直输出。</p>
<h3 id="top显示进程占有的系统资源"><a href="#top显示进程占有的系统资源" class="headerlink" title="top显示进程占有的系统资源"></a>top显示进程占有的系统资源</h3><h3 id="free查看内存使用的状态"><a href="#free查看内存使用的状态" class="headerlink" title="free查看内存使用的状态"></a>free查看内存使用的状态</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ free</div><div class="line">              total        used        free      shared  buff/cache   available</div><div class="line">Mem:         999936      574212       90404        4844      335320      224880</div><div class="line">Swap:       2097148        7244     2089904</div></pre></td></tr></table></figure>
<h3 id="ps查看系统进程"><a href="#ps查看系统进程" class="headerlink" title="ps查看系统进程"></a>ps查看系统进程</h3><h2 id="网络相关"><a href="#网络相关" class="headerlink" title="网络相关"></a>网络相关</h2><ul>
<li>ifconfig：查看网卡IP</li>
<li>service network restart：重启网卡</li>
<li>hostname：查看（修改）主机名<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ hostname</div><div class="line">localhost.localdomain</div><div class="line">[root@localhost jly]<span class="comment"># hostname jiangluya   //修改主机名</span></div><div class="line">[root@localhost jly]<span class="comment"># hostname</span></div><div class="line">jiangluya</div></pre></td></tr></table></figure>
</li>
</ul>
<p>下次登录时，命令提示符[root@localhost ~]中的localhost就会改为jiangluya。但是这样的修改只是保存在内存在，如果重启，主机名还会变成未改之前的名称。所以更改主机名的同时还需要更改相关配置文件/etc/sysconfig/network。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">vim /etc/sysconfig/network</div><div class="line">NETWORKING=yes</div><div class="line">HOSTNAME=jiangluya.localdomain</div></pre></td></tr></table></figure></p>
<p># </p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是linux后半部分的学习，记录RPM包以及shell，正则表达式等内容。&lt;/p&gt;
    
    </summary>
    
      <category term="工具" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>一些工具使用</title>
    <link href="http://yoursite.com/2017/10/27/%E4%B8%80%E4%BA%9B%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/"/>
    <id>http://yoursite.com/2017/10/27/一些工具使用/</id>
    <published>2017-10-27T14:32:16.000Z</published>
    <updated>2017-12-22T10:59:14.759Z</updated>
    
    <content type="html"><![CDATA[<p>兴致来了，记录下自己喜欢的小工具，不定期更新。</p>
<a id="more"></a>
<h2 id="第一个工具-——-使用Emoji"><a href="#第一个工具-——-使用Emoji" class="headerlink" title="第一个工具 —— 使用Emoji"></a>第一个工具 —— 使用Emoji</h2><p>嗯，Emoji，在github里使用的emoji，好可爱的~ 看到这个好东西是来自前端早读课的第1083期文章，附上文章地址<a href="http://mp.weixin.qq.com/s/xaHAb_C1Vtih9mrIv379ew" target="_blank" rel="external">【第1083期】git commit时使用 Emoji</a>。</p>
<p>使用起来很简单,直接在在emoji名字的前后各加上一个冒号：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git commit -m <span class="string">":sparkles:腾讯课堂NEXT学位"</span></div></pre></td></tr></table></figure></p>
<p>效果展示：<br><img src="http://oxligjg1w.bkt.clouddn.com/gitmoji.png" alt="alt"></p>
<ul>
<li><a href="https://github.com/luyaJ/gitmoji" target="_blank" rel="external">github上的源码–gitmoji</a></li>
<li><a href="https://gitmoji.carloscuesta.me/" target="_blank" rel="external">An emoji guide for your commit messages</a>在这里看图标的名称。</li>
</ul>
<h2 id="webstorm"><a href="#webstorm" class="headerlink" title="webstorm"></a>webstorm</h2><p>本人常用快捷键记录:</p>
<ul>
<li>Alt: 选择多处</li>
<li>Ctrl+d: 复制并粘贴一行</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;兴致来了，记录下自己喜欢的小工具，不定期更新。&lt;/p&gt;
    
    </summary>
    
      <category term="工具" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="工具" scheme="http://yoursite.com/tags/%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>归并排序实现的三种方式</title>
    <link href="http://yoursite.com/2017/10/23/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E5%AE%9E%E7%8E%B0%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F/"/>
    <id>http://yoursite.com/2017/10/23/归并排序实现的三种方式/</id>
    <published>2017-10-23T08:31:18.000Z</published>
    <updated>2017-10-23T09:55:21.543Z</updated>
    
    <content type="html"><![CDATA[<p>算法课上老师布置的第一次上机实验。归并排序，一个<strong>分治</strong>的策略，先进行划分，再进行合并。空间复杂度：nlogn</p>
<a id="more"></a>
<h2 id="递归实现的归并排序"><a href="#递归实现的归并排序" class="headerlink" title="递归实现的归并排序"></a>递归实现的归并排序</h2><h3 id="基本思想："><a href="#基本思想：" class="headerlink" title="基本思想："></a>基本思想：</h3><p>将待排的元素分成大小大致相同的2个子集，分别对这两个子集进行排序，最终将排好序的子集合并，就会得到一个排好序的集合。</p>
<p>设当前归并排序的区间是[left..right],分治法的三个步骤是：</p>
<ul>
<li>1.<strong>分解</strong>：将当前区间一分为二，即求分裂点</li>
<li>2.<strong>求解</strong>：递归的对两个子区间[left..mid]和[mid+1..right]进行归并排序</li>
<li>3.<strong>组合</strong>：将已排序的两个子区间[left..mid]和[mid+1..right]归并为一个有序的区间[left..right]。</li>
</ul>
<h3 id="实现过程如图："><a href="#实现过程如图：" class="headerlink" title="实现过程如图："></a>实现过程如图：</h3><p><img src="http://oy9sf0i32.bkt.clouddn.com/%E9%80%92%E5%BD%92%E7%9A%84%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F.png" alt="递归的归并排序"></p>
<h3 id="代码实现："><a href="#代码实现：" class="headerlink" title="代码实现："></a>代码实现：</h3>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;算法课上老师布置的第一次上机实验。归并排序，一个&lt;strong&gt;分治&lt;/strong&gt;的策略，先进行划分，再进行合并。空间复杂度：nlogn&lt;/p&gt;
    
    </summary>
    
      <category term="Web前端" scheme="http://yoursite.com/categories/Web%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="算法" scheme="http://yoursite.com/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>学习linux</title>
    <link href="http://yoursite.com/2017/10/15/%E5%AD%A6%E4%B9%A0linux/"/>
    <id>http://yoursite.com/2017/10/15/学习linux/</id>
    <published>2017-10-15T12:02:49.000Z</published>
    <updated>2017-12-23T11:24:09.309Z</updated>
    
    <content type="html"><![CDATA[<p>简介：使用虚拟机安装linux以及linux学习。</p>
<a id="more"></a>
<ul>
<li>VMware Workstation Pro：<a href="https://www.vmware.com/cn/products/workstation-pro.html" target="_blank" rel="external">下载地址</a></li>
<li>CentOS：<a href="http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-1708.iso" target="_blank" rel="external">下载地址</a></li>
<li>书籍推荐：《跟阿铭学Linux》2014年10月第1版</li>
<li>实验楼：<a href="https://www.shiyanlou.com/courses/1" target="_blank" rel="external">学习地址</a></li>
</ul>
<h1 id="虚拟机安装Linux"><a href="#虚拟机安装Linux" class="headerlink" title="虚拟机安装Linux"></a>虚拟机安装Linux</h1><p>《跟阿铭学Linux》这里面也有详细的安装过程，这里我就记录两点：</p>
<ol>
<li><img src="http://oxv4lmd01.bkt.clouddn.com/%E9%80%89%E6%8B%A9gui.png" alt="图形界面"></li>
</ol>
<p>习惯于用图形界面的同学一定要记得选择这项，不然之后安装有点麻烦。</p>
<ol>
<li>刚点击<code>install CentOS 7</code> ，就发现界面黑屏，怎么弄都没有反应，这个时候就要注意，是不是电脑禁止了虚拟机功能。解决办法：重启电脑进入BIOS，找到<code>virtualization</code>的一项,我的BIOS中在<code>Advanced-cpu setup-virtualization</code>，现为<code>Disabled</code>状态，改为<code>Enable</code>，再开机安装这个问题应该解决了！</li>
</ol>
<p>其他的可以参考这篇文章，讲的很详细。（<a href="https://zm10.sm-tc.cn/?src=l4uLj8XQ0IiIiNGcl5qRmIeKhoqekYzRnJCS0KqRlofQx8zLysvRl4uSkw%3D%3D&amp;uid=ce6674418dc941a250cb1bbb92abaff3&amp;hid=2e837fc7c03ffc154a4bd83c8d2925af&amp;pos=1&amp;cid=9&amp;time=1507991385827&amp;from=click&amp;restype=1&amp;pagetype=0000004000000402&amp;bu=structure_web_info&amp;query=centos7%E5%88%86%E5%8C%BA%E6%96%B9%E6%A1%88&amp;mode=&amp;v=1&amp;uc_param_str=dnntnwvepffrgibijbprsvdsdichei" target="_blank" rel="external">CentOs安装教程等</a>）</p>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><h2 id="小笔记"><a href="#小笔记" class="headerlink" title="小笔记"></a>小笔记</h2><ul>
<li>切换用户：<code>su 用户名</code> (<code>su root</code>)</li>
<li>新建目录：<code>mkdir 目录名</code></li>
<li>新建文件：<code>touch 文件名</code></li>
<li>切换路径：<code>cd 路径地址</code></li>
<li>关机命令：<code>init 0</code></li>
</ul>
<h2 id="重要快捷键"><a href="#重要快捷键" class="headerlink" title="重要快捷键"></a>重要快捷键</h2><ul>
<li>tab键:写命令时，命令不记得，那就用Tab补全</li>
<li>Ctrl+c:强行终止当前程序 </li>
</ul>
<table>
<thead>
<tr>
<th>按键</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ctrl+d</td>
<td>键盘输入结束或退出终端</td>
</tr>
<tr>
<td>Ctrl+s</td>
<td>暂停当前程序，暂停后按下任意键恢复运行</td>
</tr>
<tr>
<td>Ctrl+z</td>
<td>将当前程序放到后台运行，恢复到前台为命令fg</td>
</tr>
<tr>
<td>Ctrl+a</td>
<td>将光标移至输入行头，相当于Home键</td>
</tr>
<tr>
<td>Ctrl+e</td>
<td>将光标移至输入行末，相当于End键</td>
</tr>
<tr>
<td>Ctrl+k</td>
<td>删除从光标所在位置到行末</td>
</tr>
<tr>
<td>Alt+Backspace</td>
<td>向前删除一个单词</td>
</tr>
<tr>
<td>Shift+PgUp</td>
<td>将终端显示向上滚动</td>
</tr>
<tr>
<td>Shift+PgDn</td>
<td>将终端显示向下滚动</td>
</tr>
</tbody>
</table>
<ul>
<li>方向键↑:恢复之前输入过的命令</li>
</ul>
<h2 id="Shell常用通配符"><a href="#Shell常用通配符" class="headerlink" title="Shell常用通配符"></a>Shell常用通配符</h2><table>
<thead>
<tr>
<th>字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>*</td>
<td>匹配0或多个字符</td>
</tr>
<tr>
<td>?</td>
<td>匹配任意一个字符</td>
</tr>
<tr>
<td>[list]</td>
<td>匹配list中的任意单一字符</td>
</tr>
<tr>
<td>[!list]</td>
<td>匹配除list中的任意单一字符以外的字符</td>
</tr>
<tr>
<td>[c1-c2]</td>
<td>匹配c1-c2中的任意单一字符,如：[0-9] [a-z]</td>
</tr>
<tr>
<td>{string1,string2,…}</td>
<td>匹配string1或string2(或更多)其一字符串</td>
</tr>
<tr>
<td>{c1…c2}</td>
<td>匹配c1-c2中全部字符，如{1..10}</td>
</tr>
</tbody>
</table>
<p>一次性创建多个文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost <span class="built_in">test</span>]$ touch hello&#123;1..3&#125;.html</div><div class="line">[luyaj@localhost <span class="built_in">test</span>]$ ls *.html</div><div class="line">hello1.html  hello2.html  hello3.html</div></pre></td></tr></table></figure></p>
<h2 id="在命令行中获取帮助"><a href="#在命令行中获取帮助" class="headerlink" title="在命令行中获取帮助"></a>在命令行中获取帮助</h2><p>你可以使用如下方式来获得某个命令的说明和使用方式的详细介绍:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ man &lt;command_name&gt;</div></pre></td></tr></table></figure></p>
<p>由于<code>man</code>的命令很多，所以手册进行了分区段处理，通常被分为以下8个区段：</p>
<table>
<thead>
<tr>
<th>区段</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>一般命令</td>
</tr>
<tr>
<td>2</td>
<td>系统调用</td>
</tr>
<tr>
<td>3</td>
<td>库函数，涵盖了C标准函数库</td>
</tr>
<tr>
<td>4</td>
<td>特殊文件（通常是/dev中的设备）和驱动程序</td>
</tr>
<tr>
<td>5</td>
<td>文件格式和约定</td>
</tr>
<tr>
<td>6</td>
<td>游戏和屏保</td>
</tr>
<tr>
<td>7</td>
<td>杂项</td>
</tr>
<tr>
<td>8</td>
<td>系统管理命令和守护进程</td>
</tr>
</tbody>
</table>
<p>例如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ man 1 ls</div></pre></td></tr></table></figure></p>
<p>如果你知道某个命令的作用，只是想快速查看一些它的某个具体参数的作用，那么你可以使用–help参数，大部分命令都会带有这个参数，如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ls --help</div></pre></td></tr></table></figure></p>
<h1 id="Linux文件和目录管理"><a href="#Linux文件和目录管理" class="headerlink" title="Linux文件和目录管理"></a>Linux文件和目录管理</h1><h2 id="跟文件和目录有关的命令"><a href="#跟文件和目录有关的命令" class="headerlink" title="跟文件和目录有关的命令"></a>跟文件和目录有关的命令</h2><h3 id="命令cd"><a href="#命令cd" class="headerlink" title="命令cd"></a>命令cd</h3><p>命令cd是用来变更用户所在目录的，后面只能跟目录名，跟了文件名会报错；命令pwd是用来打印当前所在目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ <span class="built_in">cd</span> home</div><div class="line">bash: <span class="built_in">cd</span>: home: 没有那个文件或目录</div><div class="line">[luyaj@localhost ~]$ <span class="built_in">cd</span> /home</div><div class="line">[luyaj@localhost home]$ <span class="built_in">pwd</span></div><div class="line">/home</div></pre></td></tr></table></figure></p>
<p>在linux文件系统中，有两个特殊的符号也可以表示目录。”.”表示当前目录，”..”表示当前目录的上一级目录：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost <span class="built_in">test</span>]$ <span class="built_in">cd</span> .</div><div class="line">[luyaj@localhost <span class="built_in">test</span>]$ <span class="built_in">pwd</span></div><div class="line">/home/luyaj/<span class="built_in">test</span></div><div class="line">[luyaj@localhost <span class="built_in">test</span>]$ <span class="built_in">cd</span> ..</div><div class="line">[luyaj@localhost ~]$ <span class="built_in">pwd</span></div><div class="line">/home/luyaj</div></pre></td></tr></table></figure></p>
<h3 id="命令mkdir"><a href="#命令mkdir" class="headerlink" title="命令mkdir"></a>命令mkdir</h3><p><code>mkdir</code>是<em>make directory</em>的缩写。命令格式是：<code>mkdir [-mp][目录名称]</code>。-m选项用于指定要创建目录的权限（不常用）；-p选项很有用处，我们先来看看：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ mkdir luya/<span class="built_in">test</span>/123</div><div class="line">mkdir: 无法创建目录<span class="string">"luya/test/123"</span>: 没有那个文件或目录</div><div class="line">[luyaj@localhost ~]$ mkdir -p luya/<span class="built_in">test</span>/123</div><div class="line">[luyaj@localhost ~]$ ls luya/<span class="built_in">test</span></div><div class="line">123</div></pre></td></tr></table></figure>
<p>我们发现当我们想创建目录<code>luya/test/123</code>时，提示无法创建、<code>/luya/test</code>文件不存在。这是因为在linux中，如果发现要创建的目录的上一级目录不存在就会报错。所以-p这个选项就是帮我们创建一大串级联目录，并且当创建一个已经存在的目录时不会报错。</p>
<p>相应的，<code>rmdir</code>用于删除空目录。</p>
<h3 id="命令rm"><a href="#命令rm" class="headerlink" title="命令rm"></a>命令rm</h3><p><code>rm</code>命令既可以删除目录，也可以删除文件。一般使用命令<code>rm -rf 目录名</code>来删除。</p>
<h3 id="命令cp"><a href="#命令cp" class="headerlink" title="命令cp"></a>命令cp</h3><p><code>cp</code>是copy的简写，命令格式：<code>cp [选项][来源文件][目的文件]</code>。</p>
<ul>
<li>-r :如果要复制一个目录，必须加这个选项，否则不能复制目录，类似于rm命令。 </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ mkdir 123</div><div class="line">[luyaj@localhost ~]$ cp 123 456</div><div class="line">cp: 略过目录<span class="string">"123"</span></div><div class="line">[luyaj@localhost ~]$ cp -r 123 456</div><div class="line">[luyaj@localhost ~]$ ls <span class="_">-l</span></div><div class="line">总用量 0</div><div class="line">drwxrwxr-x. 2 luyaj luyaj  6 10月 16 19:42 123</div><div class="line">drwxrwxr-x. 2 luyaj luyaj  6 10月 16 19:42 456</div></pre></td></tr></table></figure>
<ul>
<li>-i :如果遇到一个已经存在的文件，会询问是否覆盖。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ <span class="built_in">cd</span> 123</div><div class="line">[luyaj@localhost 123]$ ls</div><div class="line">[luyaj@localhost 123]$ touch 111</div><div class="line">[luyaj@localhost 123]$ touch 222</div><div class="line">[luyaj@localhost 123]$ cp -i 111 222</div><div class="line">cp：是否覆盖<span class="string">"222"</span>？ n</div><div class="line">[luyaj@localhost 123]$ <span class="built_in">echo</span> <span class="string">'acb'</span> &gt; 111</div><div class="line">[luyaj@localhost 123]$ <span class="built_in">echo</span> <span class="string">'def'</span> &gt; 222</div><div class="line">[luyaj@localhost 123]$ cat 111 222</div><div class="line">acb</div><div class="line">def</div><div class="line">[luyaj@localhost 123]$ /bin/cp 111 222</div><div class="line">[luyaj@localhost 123]$ cat 111</div><div class="line">acb</div></pre></td></tr></table></figure>
<p>上例中，<code>echo</code>用于打印，将’abc’和’def’分别写入文件”111”和”222”中，起写入符号的就是符号”&gt;”(在linux中叫做重定向)。<code>cat</code>命令用于读一个文件，并把读出的文件打印在当前屏幕上。</p>
<h3 id="命令mv"><a href="#命令mv" class="headerlink" title="命令mv"></a>命令mv</h3><p><code>mv</code>是move的简写，命令格式为：<code>mv [选项][源文件或目录][目标文件或目录]</code>。</p>
<p>有几种情况，先看示例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ mkdir dira  dirb</div><div class="line">[luyaj@localhost ~]$ ls</div><div class="line">dira  公共  视频  文档  音乐</div><div class="line">dirb  模板  图片  下载  桌面</div><div class="line">[luyaj@localhost ~]$ mv dira dirc</div><div class="line">[luyaj@localhost ~]$ ls</div><div class="line">dirb  公共  视频  文档  音乐</div><div class="line">dirc  模板  图片  下载  桌面</div></pre></td></tr></table></figure>
<p>这里，目标文件是目录dirc，并且dirc不存在，所以相当于把目录dira重命名为dirc。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ mv dirc dirb</div><div class="line">[luyaj@localhost ~]$ ls</div><div class="line">dirb  公共  模板  视频  图片  文档  下载  音乐  桌面</div><div class="line">[luyaj@localhost ~]$ ls dirb</div><div class="line">dirc</div></pre></td></tr></table></figure>
<p>这里，目标文件是目录dirb，并且dirb存在，所以会把目录dirc移动到目录dirb里。</p>
<p>同理，文件的移动也是和上面目录的移动是一样的。</p>
<h2 id="几个与文档相关的命令"><a href="#几个与文档相关的命令" class="headerlink" title="几个与文档相关的命令"></a>几个与文档相关的命令</h2><h3 id="命令cat-tac"><a href="#命令cat-tac" class="headerlink" title="命令cat/tac"></a>命令cat/tac</h3><p><code>cat</code>命令用来查看一个文件的内容并显示在屏幕上；而<code>tac</code>命令是反序输出。</p>
<ul>
<li>-n ：查看文件时，把行号也显示在屏幕上</li>
<li>-A ：显示所有内容，包括特殊字符</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ mkdir dirb</div><div class="line">[luyaj@localhost ~]$ <span class="built_in">cd</span> dirb</div><div class="line">[luyaj@localhost dirb]$ touch filee</div><div class="line">[luyaj@localhost dirb]$ <span class="built_in">echo</span> <span class="string">'111111'</span> &gt; filee</div><div class="line">[luyaj@localhost dirb]$ <span class="built_in">echo</span> <span class="string">'222222'</span> &gt;&gt;filee</div><div class="line">[luyaj@localhost dirb]$ <span class="built_in">cd</span></div><div class="line">[luyaj@localhost ~]$ cat dirb/filee</div><div class="line">111111</div><div class="line">222222</div><div class="line">[luyaj@localhost ~]$ cat -n dirb/filee</div><div class="line">     1  111111</div><div class="line">     2  222222</div><div class="line">[luyaj@localhost ~]$ cat -A dirb/filee</div><div class="line">111111$</div><div class="line">222222$</div></pre></td></tr></table></figure>
<p>这里’&gt;&gt;’也是重定向，是<strong>追加</strong>的意思。只是使用’&gt;’符号时，如果文件中有内容会删除文件中原来的内容，而使用’&gt;&gt;’符号不会删除原有内容。</p>
<h3 id="命令more-less-head-tail"><a href="#命令more-less-head-tail" class="headerlink" title="命令more/less/head/tail"></a>命令more/less/head/tail</h3><ul>
<li>当文件内容太多时，一屏不能全部显示时，用<code>cat</code>肯定是看不了前面的内容，而使用<code>more</code>可以解决这个问题。当看完一屏后，按空格键可以继续看下一屏。如果想提前退出，按”q”键即可。</li>
<li><code>less</code>和more命令一样，但是命令less可以实现上翻和下翻。</li>
<li>命令<code>head</code>用于显示文件的前10行，如果加-n选项则显示文件的前几行。</li>
<li>命令<code>tail</code>用于显示文件的最后10行，如果加-n选项则显示文件的后几行。</li>
</ul>
<h2 id="linux文件属性"><a href="#linux文件属性" class="headerlink" title="linux文件属性"></a>linux文件属性</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ ls <span class="_">-l</span></div><div class="line">总用量 0</div><div class="line">drwxrwxr-x. 2 luyaj luyaj 19 10月 16 22:16 dirb</div><div class="line">drwxr-xr-x. 2 luyaj luyaj  6 10月 16 01:43 公共</div></pre></td></tr></table></figure>
<p>使用命令<code>ls -l</code>共显示了9列内容，那么他们都代表什么含义呢？</p>
<ul>
<li>第1列：包含该文件的类型、所属主、所属组以及其他用户对该文件的权限。第1位用来描述该文件的类型。<ul>
<li>d表示该文件为目录</li>
<li>-表示该文件为普通文件</li>
<li>l表示该文件为链接文件</li>
<li>b表示该文件为块设备，比如/dev/sda就是这样的文件</li>
<li>c表示该文件为串行端口设备文件（又称字符设备文件），比如键盘、鼠标、打印机、tty终端等</li>
<li>s表示该文件为套接字文件，用于进程之间的通信</li>
<li>文件类型后面9位，每3个一组，前3位为所属主（user）的权限，中间3位为所属组（group）的权限，最后3位为其他非本群组用户（others）的权限。”r”表示可读，”w”表示可写，”x”表示可执行。</li>
</ul>
</li>
<li>第2列：表示链接占用的节点（inode），如果是目录，那么与该目录下是子目录数量有关</li>
<li>第3列：表示文件的所属主</li>
<li>第4列：表示文件的所属组</li>
<li>第5列：表示该文件的大小</li>
<li>第6列、第7列和第8列：表示文件最后一次被修改的时间，依次为月份、日期、时间</li>
<li>第9列：表示文件名</li>
</ul>
<h2 id="更改文件的权限"><a href="#更改文件的权限" class="headerlink" title="更改文件的权限"></a>更改文件的权限</h2><h3 id="命令chgrp"><a href="#命令chgrp" class="headerlink" title="命令chgrp"></a>命令chgrp</h3><p>更改文件和目录的所属组，命令格式：<code>chgrp [组名] [文件名]</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@localhost ~]<span class="comment"># groupadd testgroup</span></div><div class="line">[root@localhost ~]<span class="comment"># touch test1</span></div><div class="line">[root@localhost ~]<span class="comment"># ls -l test1</span></div><div class="line">-rw-r--r--. 1 root root 0 10月 16 23:17 <span class="built_in">test</span>1</div><div class="line">[root@localhost ~]<span class="comment"># chgrp testgroup test1</span></div><div class="line">[root@localhost ~]<span class="comment"># ls -l test1</span></div><div class="line">-rw-r--r--. 1 root testgroup 0 10月 16 23:17 <span class="built_in">test</span>1</div></pre></td></tr></table></figure>
<p><code>groupadd</code>命令的含义为增加一个用户组。</p>
<h3 id="命令chown"><a href="#命令chown" class="headerlink" title="命令chown"></a>命令chown</h3><p>更改文件和目录的所属主，命令格式：<code>chown [-R] 账户名 文件名</code> 或者 <code>chown [-R] 账户名：组名 文件名</code>。这里的-R选项只适用于目录，作用是级联更改，即不仅更改当前目录，连目录里的目录或者文件也全部更改。</p>
<h3 id="命令chmod"><a href="#命令chmod" class="headerlink" title="命令chmod"></a>命令chmod</h3><p><code>chmod</code>命令用于改变用户对文件的读写执行权限，其格式为：“chmod [-R] xyz 文件名”。其中-R表示级联更改；xyz表示数字，即在linux中为了方便更改文件的权限，使用数字代替“rwx”，规则为：r等于4，w等于2，x等于1，-等于0。例如，“-rwxrwx—”用数字表示就是770。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ ls -ld <span class="built_in">test</span></div><div class="line">drwxrwxr-x. 2 luyaj luyaj 19 10月 17 03:25 <span class="built_in">test</span></div><div class="line">[luyaj@localhost ~]$ chmod 750 <span class="built_in">test</span></div><div class="line">[luyaj@localhost ~]$ ls -ld <span class="built_in">test</span></div><div class="line">drwxr-x---. 2 luyaj luyaj 19 10月 17 03:25 <span class="built_in">test</span></div></pre></td></tr></table></figure>
<p>在linux系统中，一个目录的默认权限为755，而一个文件的默认权限为644。</p>
<h2 id="在linux下搜索文件"><a href="#在linux下搜索文件" class="headerlink" title="在linux下搜索文件"></a>在linux下搜索文件</h2><h3 id="命令which"><a href="#命令which" class="headerlink" title="命令which"></a>命令which</h3><p>用which命令查找PATH环境变量中的可执行文件的绝对路径。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ <span class="built_in">which</span> vi</div><div class="line"><span class="built_in">alias</span> vi=<span class="string">'vim'</span></div><div class="line">    /usr/bin/vim</div></pre></td></tr></table></figure>
<h3 id="命令whereis"><a href="#命令whereis" class="headerlink" title="命令whereis"></a>命令whereis</h3><p>which命令是通过预先生成的一个文件列表库去查找与给出的文件名相关的文件，格式：<code>whereis [-bmsu] [文件名称]</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ whereis ls</div><div class="line">ls: /usr/bin/ls /usr/share/man/man1/ls.1.gz /usr/share/man/man1p/ls.1p.gz</div></pre></td></tr></table></figure>
<p>这里，我们有3个文件被找到了，类似于模糊查询。</p>
<h3 id="命令find"><a href="#命令find" class="headerlink" title="命令find"></a>命令find</h3><p>使用find命令搜索文件，命令格式：<code>find [路径] [参数]</code>。</p>
<ul>
<li>-atime +n/-n:表示访问或执行时间大于或小于n天的文件。</li>
<li>ctime +n/-n:表示写入、更改inode属性（如更改所有者、权限或者链接）时间大于或小于n天的文件。</li>
<li>-mtime +n/-n:表示写入时间大于或小于n天的文件。</li>
<li>-name filename:表示直接查找该文件名的文件。<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># mkdir test</span></div><div class="line">[root@localhost luyaj]<span class="comment"># mkdir test/test2</span></div><div class="line">[root@localhost luyaj]<span class="comment"># find . -name test2</span></div><div class="line">./<span class="built_in">test</span>/<span class="built_in">test</span>2</div><div class="line">[root@localhost luyaj]<span class="comment"># find -name test2</span></div><div class="line">./<span class="built_in">test</span>/<span class="built_in">test</span>2</div></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="linux系统用户与用户组管理"><a href="#linux系统用户与用户组管理" class="headerlink" title="linux系统用户与用户组管理"></a>linux系统用户与用户组管理</h1><h2 id="用户和用户组管理"><a href="#用户和用户组管理" class="headerlink" title="用户和用户组管理"></a>用户和用户组管理</h2><h3 id="新增组的命令groupadd"><a href="#新增组的命令groupadd" class="headerlink" title="新增组的命令groupadd"></a>新增组的命令groupadd</h3><p>命令格式：<code>groupadd [-g GID] groupname</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># groupadd grptest1</span></div><div class="line">[root@localhost luyaj]<span class="comment"># tail -n1 /etc/group</span></div><div class="line">grptest1:x:1003:</div></pre></td></tr></table></figure>
<p>如果不加“-g”选项则按照系统默认的gid创建组。跟uid一样，gid也是从500开始，我们也可以自定义gid：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># groupadd -g 511 grptest2</span></div><div class="line">[root@localhost luyaj]<span class="comment"># tail -n2 /etc/group</span></div><div class="line">grptest1:x:1003:</div><div class="line">grptest2:x:511:</div></pre></td></tr></table></figure>
<h3 id="删除组的命令groupdel"><a href="#删除组的命令groupdel" class="headerlink" title="删除组的命令groupdel"></a>删除组的命令groupdel</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># groupdel grptest2</span></div><div class="line">[root@localhost luyaj]<span class="comment"># tail -n3 /etc/group</span></div><div class="line">luyaj:x:1000:</div><div class="line">user1:x:1002:</div><div class="line">grptest1:x:1003:</div></pre></td></tr></table></figure>
<p>groupdel命令无特殊选项，但有一种情况不能删除组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># groupdel user1</span></div><div class="line">groupdel：不能移除用户“user1”的主组</div></pre></td></tr></table></figure>
<p>这个例子中，user1组中包含user1账户，只有先删除账户才可以删除该组。</p>
<h3 id="增加用户的命令useradd"><a href="#增加用户的命令useradd" class="headerlink" title="增加用户的命令useradd"></a>增加用户的命令useradd</h3><p>命令格式：<code>useradd [-u UID][-g GID][-d HOME][-M][-s]</code>，各个选项的含义如下：</p>
<ul>
<li>-u：表示自定义UID。</li>
<li>-g：表示使新增用户属于已经存在的某个组，后面可以跟组id，也可以跟组名。</li>
<li>-d：表示自定义用户的家目录。</li>
<li>-M：表示不建立家目录。</li>
<li>-s：表示自定义shell。</li>
</ul>
<p>下面我们新建一个用户test10，示例如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># useradd test10</span></div><div class="line">[root@localhost luyaj]<span class="comment"># tail -n1 /etc/passwd</span></div><div class="line"><span class="built_in">test</span>10:x:1002:1004::/home/<span class="built_in">test</span>10:/bin/bash</div><div class="line">[root@localhost luyaj]<span class="comment"># tail -n1 /etc/group</span></div><div class="line"><span class="built_in">test</span>10:x:1004:</div></pre></td></tr></table></figure></p>
<p>如果useradd不加任何选项，直接跟用户名，那么会创建一个跟用户名同名的组。有的时候需要我们自己去定义：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># useradd -u510 -g 513 -M -s /sbin/nologin user11</span></div><div class="line">useradd：“513”组不存在</div></pre></td></tr></table></figure>
<h3 id="删除账户的命令userdel"><a href="#删除账户的命令userdel" class="headerlink" title="删除账户的命令userdel"></a>删除账户的命令userdel</h3><p>命令格式：<code>userdel [-r] username</code>，其中-r选项的作用是，当删除用户时一并删除该用户的家目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># userdel user1</span></div><div class="line">[root@localhost luyaj]<span class="comment"># tail -n3 /etc/passwd</span></div><div class="line">tcpdump:x:72:72::/:/sbin/nologin</div><div class="line">luyaj:x:1000:1000:luyaJ:/home/luyaj:/bin/bash</div><div class="line"><span class="built_in">test</span>10:x:1002:1004::/home/<span class="built_in">test</span>10:/bin/bash</div><div class="line">[root@localhost luyaj]<span class="comment"># ls -ld /home/user1</span></div><div class="line">drwx------. 3 1001 1002 78 10月 16 23:35 /home/user1</div></pre></td></tr></table></figure>
<p>这里可以看出，未加选项时，只删除了用户，没有家目录还在。</p>
<h2 id="用户密码管理"><a href="#用户密码管理" class="headerlink" title="用户密码管理"></a>用户密码管理</h2><h3 id="命令passwd"><a href="#命令passwd" class="headerlink" title="命令passwd"></a>命令passwd</h3><p>为用户设置密码可以使用命令passwd，命令格式：<code>passwd [username]</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># passwd</span></div><div class="line">更改用户 root 的密码 。</div><div class="line">新的 密码：</div><div class="line">重新输入新的 密码：</div><div class="line">passwd：所有的身份验证令牌已经成功更新。</div></pre></td></tr></table></figure>
<p>如果你登陆的是root账号，后面可以跟普通用户的名字，意思是修改指定账户的密码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># passwd test10</span></div><div class="line">更改用户 <span class="built_in">test</span>10 的密码 。</div><div class="line">新的 密码：</div><div class="line">无效的密码： 密码未通过字典检查 - 它基于字典单词</div><div class="line">重新输入新的 密码：</div><div class="line">passwd：所有的身份验证令牌已经成功更新。</div></pre></td></tr></table></figure></p>
<p>需要注意的是，只有root才能修改其他账户的密码，普通账户只能修改自己的密码。</p>
<h3 id="命令mkpasswd"><a href="#命令mkpasswd" class="headerlink" title="命令mkpasswd"></a>命令mkpasswd</h3><p>用于生成密码。</p>
<h1 id="linux磁盘管理"><a href="#linux磁盘管理" class="headerlink" title="linux磁盘管理"></a>linux磁盘管理</h1><h2 id="查看磁盘或者目录的容量"><a href="#查看磁盘或者目录的容量" class="headerlink" title="查看磁盘或者目录的容量"></a>查看磁盘或者目录的容量</h2><h3 id="命令df"><a href="#命令df" class="headerlink" title="命令df"></a>命令df</h3><p>命令df用来查看已挂载磁盘的总容量、使用容量、剩余容量，可以不加任何参数，默认以KB为单位显示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ df</div><div class="line">文件系统               1K-块    已用     可用 已用% 挂载点</div><div class="line">/dev/mapper/cl-root 17811456 3454476 14356980   20% /</div><div class="line">devtmpfs              484108       0   484108    0% /dev</div><div class="line">tmpfs                 499968     156   499812    1% /dev/shm</div><div class="line">tmpfs                 499968    7188   492780    2% /run</div><div class="line">tmpfs                 499968       0   499968    0% /sys/fs/cgroup</div><div class="line">/dev/sda1            1038336  176564   861772   18% /boot</div><div class="line">tmpfs                  99996      24    99972    1% /run/user/1000</div><div class="line">/dev/sr0             4276440 4276440        0  100% /run/media/luyaj/CentOS 7 x86_64</div></pre></td></tr></table></figure>
<p>df命令的常用选项有-i、-h、-k和-m：</p>
<ul>
<li><p>-i：表示查看inodes的使用状况：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ df -i</div><div class="line">文件系统              Inode 已用(I) 可用(I) 已用(I)% 挂载点</div><div class="line">/dev/mapper/cl-root 8910848  119944 8790904       2% /</div><div class="line">devtmpfs             121027     391  120636       1% /dev</div><div class="line">tmpfs                124992      10  124982       1% /dev/shm</div><div class="line">tmpfs                124992     546  124446       1% /run</div><div class="line">tmpfs                124992      16  124976       1% /sys/fs/cgroup</div><div class="line">/dev/sda1            524288     330  523958       1% /boot</div><div class="line">tmpfs                124992      30  124962       1% /run/user/1000</div><div class="line">/dev/sr0                  0       0       0        - /run/media/luyaj/CentOS 7 x86_64</div></pre></td></tr></table></figure>
</li>
<li><p>-h：表示使用合适的单位显示，例如G：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ df -h</div><div class="line">文件系统             容量  已用  可用 已用% 挂载点</div><div class="line">/dev/mapper/cl-root   17G  3.3G   14G   20% /</div><div class="line">devtmpfs             473M     0  473M    0% /dev</div><div class="line">tmpfs                489M  156K  489M    1% /dev/shm</div><div class="line">tmpfs                489M  7.1M  482M    2% /run</div><div class="line">tmpfs                489M     0  489M    0% /sys/fs/cgroup</div><div class="line">/dev/sda1           1014M  173M  842M   18% /boot</div><div class="line">tmpfs                 98M   24K   98M    1% /run/user/1000</div><div class="line">/dev/sr0             4.1G  4.1G     0  100% /run/media/luyaj/CentOS 7 x86_64</div></pre></td></tr></table></figure>
</li>
<li><p>-k、-m：分别以”K”和”M”为单位显示：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ df -k</div><div class="line">文件系统               1K-块    已用     可用 已用% 挂载点</div><div class="line">/dev/mapper/cl-root 17811456 3454460 14356996   20% /</div><div class="line">devtmpfs              484108       0   484108    0% /dev</div><div class="line">tmpfs                 499968     156   499812    1% /dev/shm</div><div class="line">tmpfs                 499968    7188   492780    2% /run</div><div class="line">tmpfs                 499968       0   499968    0% /sys/fs/cgroup</div><div class="line">/dev/sda1            1038336  176564   861772   18% /boot</div><div class="line">tmpfs                  99996      24    99972    1% /run/user/1000</div><div class="line">/dev/sr0             4276440 4276440        0  100% /run/media/luyaj/CentOS 7 x86_64</div><div class="line">[luyaj@localhost ~]$ df -m</div><div class="line">文件系统            1M-块  已用  可用 已用% 挂载点</div><div class="line">/dev/mapper/cl-root 17394  3374 14021   20% /</div><div class="line">devtmpfs              473     0   473    0% /dev</div><div class="line">tmpfs                 489     1   489    1% /dev/shm</div><div class="line">tmpfs                 489     8   482    2% /run</div><div class="line">tmpfs                 489     0   489    0% /sys/fs/cgroup</div><div class="line">/dev/sda1            1014   173   842   18% /boot</div><div class="line">tmpfs                  98     1    98    1% /run/user/1000</div><div class="line">/dev/sr0             4177  4177     0  100% /run/media/luyaj/CentOS 7 x86_64</div></pre></td></tr></table></figure>
</li>
</ul>
<p>/dev/shm为内存挂载点，如果你想把文件放到内存里，就可以放到这个目录下。</p>
<h3 id="命令du"><a href="#命令du" class="headerlink" title="命令du"></a>命令du</h3><p>用来查看某个目录或文件所占空间的大小，命令格式：<code>du [-abckmsh][文件或者目录名]</code>。</p>
<ul>
<li>-a：表示全部文件和目录的大小都列出来。如果不指定单位，默认显示单位为”KB”。</li>
<li>-b：表示列出的值以”bytes”为单位输出。</li>
<li>-k：表示以”KB”为单位输出，这和不加选项是一样的。</li>
<li>-m：表示以”MB”为单位输出。</li>
<li>-h：表示系统自动调节单位。</li>
<li>-c：表示最后加总。</li>
<li>-s：表示只列出总和。<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">[luyaj@localhost ~]$ du <span class="built_in">test</span></div><div class="line">0   <span class="built_in">test</span>/<span class="built_in">test</span>2</div><div class="line">0   <span class="built_in">test</span>/<span class="built_in">test</span>3</div><div class="line">0   <span class="built_in">test</span></div><div class="line">[luyaj@localhost ~]$ du <span class="_">-a</span> <span class="built_in">test</span></div><div class="line">0   <span class="built_in">test</span>/<span class="built_in">test</span>2</div><div class="line">0   <span class="built_in">test</span>/<span class="built_in">test</span>3/1.txt</div><div class="line">0   <span class="built_in">test</span>/<span class="built_in">test</span>3</div><div class="line">0   <span class="built_in">test</span></div><div class="line">[luyaj@localhost ~]$ du -b /etc/passwd</div><div class="line">2233    /etc/passwd</div><div class="line">[luyaj@localhost ~]$ du -k /etc/passwd</div><div class="line">4   /etc/passwd</div><div class="line">[luyaj@localhost ~]$ du -m /etc/passwd</div><div class="line">1   /etc/passwd</div><div class="line">[luyaj@localhost ~]$ du -h /etc/passwd</div><div class="line">4.0K    /etc/passwd</div><div class="line">[luyaj@localhost ~]$ du -c <span class="built_in">test</span></div><div class="line">0   <span class="built_in">test</span>/<span class="built_in">test</span>2</div><div class="line">0   <span class="built_in">test</span>/<span class="built_in">test</span>3</div><div class="line">0   <span class="built_in">test</span></div><div class="line">0   总用量</div><div class="line">[luyaj@localhost ~]$ du <span class="_">-s</span> <span class="built_in">test</span></div><div class="line">0   <span class="built_in">test</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="磁盘的分区和格式化"><a href="#磁盘的分区和格式化" class="headerlink" title="磁盘的分区和格式化"></a>磁盘的分区和格式化</h2><p>用文件来表示硬件分区——<code>/dev/sda5</code>解释一下：</p>
<ul>
<li>dev是存放所有硬件设备文件的目录</li>
<li>sd是硬件设备的代号，hd代表IDE设备，sd代表SCSI和sata设备</li>
<li>a是同类型设备的编号，a代表第一个硬盘，b代表第二个硬盘，以此类推</li>
<li>5是分区号：1~4表示主分区或拓展分区，5表示逻辑分区<br>举几个例子：</li>
<li>/dev/sdb3：计算机中第二块SATA硬盘的第三个主分区。</li>
<li>/dev/sda8：计算机中第一块SATA硬盘的第四个逻辑分区。</li>
<li>/dev/hda1：计算机中第四块IDE硬盘的第一个主分区</li>
</ul>
<h3 id="增加虚拟磁盘"><a href="#增加虚拟磁盘" class="headerlink" title="增加虚拟磁盘"></a>增加虚拟磁盘</h3><p>在系统关机的状态下，选择你的虚拟机，右键<strong>设置</strong>，然后<strong>添加</strong>硬盘，创建<strong>新虚拟磁盘</strong>，将虚拟磁盘拆分成多个文件，完成。</p>
<h3 id="命令fdisk"><a href="#命令fdisk" class="headerlink" title="命令fdisk"></a>命令fdisk</h3><p>这里我已经创建好了新的磁盘，所以执行命令<code>fdisk -l</code>会发现新增了一个磁盘”/dev/sdb”。</p>
<p>如果只执行命令<code>fdisk /dev/sda</code>就会进入另一种模式，在这个模式下，可以对磁盘进行分区操作。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">[root@localhost luyaj]<span class="comment"># fdisk /dev/sdb</span></div><div class="line">欢迎使用 fdisk (util-linux 2.23.2)。</div><div class="line"></div><div class="line">更改将停留在内存中，直到您决定将更改写入磁盘。</div><div class="line">使用写入命令前请三思。</div><div class="line"></div><div class="line">Device does not contain a recognized partition table</div><div class="line">使用磁盘标识符 0xad054854 创建新的 DOS 磁盘标签。</div><div class="line"></div><div class="line">命令(输入 m 获取帮助)：m</div><div class="line">命令操作</div><div class="line">   a   toggle a bootable flag</div><div class="line">   b   edit bsd disklabel</div><div class="line">   c   toggle the dos compatibility flag</div><div class="line">   d   delete a partition</div><div class="line">   g   create a new empty GPT partition table</div><div class="line">   G   create an IRIX (SGI) partition table</div><div class="line">   l   list known partition types</div><div class="line">   m   <span class="built_in">print</span> this menu</div><div class="line">   n   add a new partition</div><div class="line">   o   create a new empty DOS partition table</div><div class="line">   p   <span class="built_in">print</span> the partition table</div><div class="line">   q   quit without saving changes</div><div class="line">   s   create a new empty Sun disklabel</div><div class="line">   t   change a partition’s system id</div><div class="line">   u   change display/entry units</div><div class="line">   v   verify the partition table</div><div class="line">   w   write table to disk and <span class="built_in">exit</span></div><div class="line">   x   extra functionality (experts only)</div></pre></td></tr></table></figure>
<p>输入p命令，我们可以看到当前无分区：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">命令(输入 m 获取帮助)：p</div><div class="line"></div><div class="line">磁盘 /dev/sdb：8589 MB, 8589934592 字节，16777216 个扇区</div><div class="line">Units = 扇区 of 1 * 512 = 512 bytes</div><div class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</div><div class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</div><div class="line">磁盘标签类型：dos</div><div class="line">磁盘标识符：0xad054854</div><div class="line"></div><div class="line">   设备 Boot      Start         End      Blocks   Id  System</div></pre></td></tr></table></figure></p>
<p>那么我们开始创建分区：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">命令(输入 m 获取帮助)：n</div><div class="line">Partition <span class="built_in">type</span>:</div><div class="line">   p   primary (0 primary, 0 extended, 4 free)</div><div class="line">   e   extended</div><div class="line">Select (default p): p</div><div class="line">分区号 (1-4，默认 1)：1</div><div class="line">起始 扇区 (2048-16777215，默认为 2048)：2048</div><div class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (2048-16777215，默认为 16777215)：+1000M</div><div class="line">分区 1 已设置为 Linux 类型，大小设为 1000 MiB</div></pre></td></tr></table></figure></p>
<p>使用n命令新建分区，选择p（主分区），分区号，起始扇区都可以默认不填（或者你也可以填），<br>Last扇区填“+1000M”，这样方便又不容易出错。一直创建主分区到4，我们可以看到：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">命令(输入 m 获取帮助)：n</div><div class="line">Partition <span class="built_in">type</span>:</div><div class="line">   p   primary (3 primary, 0 extended, 1 free)</div><div class="line">   e   extended</div><div class="line">Select (default e): </div><div class="line">Using default response e</div><div class="line">已选择分区 4</div><div class="line">起始 扇区 (6146048-16777215，默认为 6146048)：</div><div class="line">将使用默认值 6146048</div><div class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (6146048-16777215，默认为 16777215)：+1000M</div><div class="line">分区 4 已设置为 Extended 类型，大小设为 1000 MiB</div></pre></td></tr></table></figure>
<p>上面就是，创建完第3个分区之后，创建第4个分区时选择拓展分区，输入命令p查看：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">命令(输入 m 获取帮助)：p</div><div class="line"></div><div class="line">磁盘 /dev/sdb：8589 MB, 8589934592 字节，16777216 个扇区</div><div class="line">Units = 扇区 of 1 * 512 = 512 bytes</div><div class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</div><div class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</div><div class="line">磁盘标签类型：dos</div><div class="line">磁盘标识符：0xbfa73b9f</div><div class="line"></div><div class="line">   设备 Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sdb1            2048     2050047     1024000   83  Linux</div><div class="line">/dev/sdb2         2050048     4098047     1024000   83  Linux</div><div class="line">/dev/sdb3         4098048     6146047     1024000   83  Linux</div><div class="line">/dev/sdb4         6146048     8194047     1024000    5  Extended</div></pre></td></tr></table></figure></p>
<p>接下来我们继续创建分区：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">命令(输入 m 获取帮助)：n</div><div class="line">All primary partitions are <span class="keyword">in</span> use</div><div class="line">添加逻辑分区 5</div><div class="line">起始 扇区 (6148096-8194047，默认为 6148096)：</div><div class="line">将使用默认值 6148096</div><div class="line">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (6148096-8194047，默认为 8194047)：</div><div class="line">将使用默认值 8194047</div><div class="line">分区 5 已设置为 Linux 类型，大小设为 999 MiB</div><div class="line"></div><div class="line">命令(输入 m 获取帮助)：p</div><div class="line"></div><div class="line">磁盘 /dev/sdb：8589 MB, 8589934592 字节，16777216 个扇区</div><div class="line">Units = 扇区 of 1 * 512 = 512 bytes</div><div class="line">扇区大小(逻辑/物理)：512 字节 / 512 字节</div><div class="line">I/O 大小(最小/最佳)：512 字节 / 512 字节</div><div class="line">磁盘标签类型：dos</div><div class="line">磁盘标识符：0xbfa73b9f</div><div class="line"></div><div class="line">   设备 Boot      Start         End      Blocks   Id  System</div><div class="line">/dev/sdb1            2048     2050047     1024000   83  Linux</div><div class="line">/dev/sdb2         2050048     4098047     1024000   83  Linux</div><div class="line">/dev/sdb3         4098048     6146047     1024000   83  Linux</div><div class="line">/dev/sdb4         6146048     8194047     1024000    5  Extended</div><div class="line">/dev/sdb5         6148096     8194047     1022976   83  Linux</div></pre></td></tr></table></figure></p>
<p>此时再分区就跟之前的不一样了，只需要直接定义分区大小就可以了。需要注意的是，当创建完前3个主分区后，要把剩余的磁盘空间全部划分给第4个拓展分区，不然剩下的空间就浪费了。因为创建完拓展分区后，再划分新的分区时是在已经划分的拓展分区里来分的。</p>
<p><strong>注意</strong>：“/dev/sdb4”为拓展分区，这个分区是不可以格式化的。“/dev/sdb5”是“/dev/sdb4”的子分区，称为逻辑分区。删除分区使用命令d，在弄好的分区界面直接按“Ctrl+c”键可以直接退出，这样刚做的分区便全部取消。</p>
<h2 id="格式化磁盘分区"><a href="#格式化磁盘分区" class="headerlink" title="格式化磁盘分区"></a>格式化磁盘分区</h2><p>磁盘分区好了，需要对每个分区进行格式化才能使用。所谓格式化，就是安装文件系统，Windows下的文件系统有Fat32和NTFS，CentOS使用的文件系统是ext。</p>
<p>使用man命令可以看出<code>mke2fs</code>,<code>mkfs.ext2</code>,<code>mkfs.ext3</code>,<code>mkfs.etx4</code>这4个命令是一样的。</p>
<p>把新建的分区格式化为ext4文件系统：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]# mkfs.ext4 /dev/sdb1</div><div class="line">mke2fs 1.42.9 (28-Dec-2013)</div><div class="line">文件系统标签=</div><div class="line">OS type: Linux</div><div class="line">块大小=4096 (log=2)</div><div class="line">分块大小=4096 (log=2)</div><div class="line">Stride=0 blocks, Stripe width=0 blocks</div><div class="line">64000 inodes, 256000 blocks</div><div class="line">12800 blocks (5.00%) reserved for the super user</div><div class="line">第一个数据块=0</div><div class="line">Maximum filesystem blocks=262144000</div><div class="line">8 block groups</div><div class="line">32768 blocks per group, 32768 fragments per group</div><div class="line">8000 inodes per group</div><div class="line">Superblock backups stored on blocks: </div><div class="line">    32768, 98304, 163840, 229376</div><div class="line"></div><div class="line">Allocating group tables: 完成                            </div><div class="line">正在写入inode表: 完成                            </div><div class="line">Creating journal (4096 blocks): 完成</div><div class="line">Writing superblocks and filesystem accounting information: 完成</div></pre></td></tr></table></figure></p>
<h2 id="挂载-卸载磁盘"><a href="#挂载-卸载磁盘" class="headerlink" title="挂载/卸载磁盘"></a>挂载/卸载磁盘</h2><p>挂载到’/mnt’空目录上，此后操作’/mnt’目录就是操作’/dev/sda3’分区，例如在里面创建目录，拷贝文件等。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># mount /dev/sdb1 /mnt</span></div></pre></td></tr></table></figure></p>
<p>查看已挂载分区的使用情况：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># df -T</span></div><div class="line">文件系统            类型        1K-块    已用     可用 已用% 挂载点</div><div class="line">/dev/mapper/cl-root xfs      17811456 3454780 14356676   20% /</div><div class="line">devtmpfs            devtmpfs   484108       0   484108    0% /dev</div><div class="line">tmpfs               tmpfs      499968     156   499812    1% /dev/shm</div><div class="line">tmpfs               tmpfs      499968    7192   492776    2% /run</div><div class="line">tmpfs               tmpfs      499968       0   499968    0% /sys/fs/cgroup</div><div class="line">/dev/sda1           xfs       1038336  176564   861772   18% /boot</div><div class="line">tmpfs               tmpfs       99996       8    99988    1% /run/user/1000</div><div class="line">/dev/sr0            iso9660   4276440 4276440        0  100% /run/media/jly/CentOS 7 x86_64</div><div class="line">/dev/sdb1           ext4       991512    2504   921424    1% /mnt</div></pre></td></tr></table></figure></p>
<p>卸载分区：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[root@localhost jly]<span class="comment"># umount /mnt</span></div></pre></td></tr></table></figure></p>
<h1 id="文档的压缩与打包"><a href="#文档的压缩与打包" class="headerlink" title="文档的压缩与打包"></a>文档的压缩与打包</h1><ul>
<li><code>.gz</code>:表示由gzip压缩工具压缩的文件</li>
<li><code>.bz2</code>:表示由bzip2压缩工具压缩的文件</li>
<li><code>.tar</code>:表示由tar打包程序打包的文件（tar并没有压缩功能，只是把一个目录合并成一个文件）</li>
<li><code>.tar.gz</code>:可以理解为先由tar打包，再由gzip压缩</li>
<li><code>.tar.bz2</code>:可以理解为先由tar打包，再由bzip2压缩</li>
</ul>
<h2 id="gzip压缩"><a href="#gzip压缩" class="headerlink" title="gzip压缩"></a>gzip压缩</h2><p>gzip命令格式：<code>gzip [-d#] filename</code>。<code>-d</code>:在解压缩时使用；<code>-#</code>表示压缩等级，1为最差，9为最好，默认为6。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mkdir <span class="built_in">test</span></div><div class="line">[jly@localhost ~]$ touch test.txt</div><div class="line">[jly@localhost ~]$ mv test.txt <span class="built_in">test</span></div><div class="line">[jly@localhost ~]$ <span class="built_in">cd</span> <span class="built_in">test</span></div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line">test.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ gzip test.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line">test.txt.gz</div></pre></td></tr></table></figure>
<p>由上面可以看出，gzip后面直接跟文件名，表示在该目录下压缩该文件，而原文件也会消失。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[jly@localhost <span class="built_in">test</span>]$ gzip <span class="_">-d</span> test.txt.gz</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line">test.txt</div></pre></td></tr></table></figure>
<p>使用<code>gzip -d</code>命令表示解压压缩文件。gzip不支持压缩目录。</p>
<h2 id="bzip2压缩工具"><a href="#bzip2压缩工具" class="headerlink" title="bzip2压缩工具"></a>bzip2压缩工具</h2><p><code>bzip2</code>命令格式：<code>bzip2 [-dz] filename</code>。<code>-z</code>压缩（加不加都可以压缩），<code>-d</code>解压缩。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[jly@localhost <span class="built_in">test</span>]$ bzip2 test.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line">test.txt.bz2</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ bzip2 <span class="_">-d</span> test.txt.bz2</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line">test.txt</div></pre></td></tr></table></figure>
<h2 id="tar压缩工具"><a href="#tar压缩工具" class="headerlink" title="tar压缩工具"></a>tar压缩工具</h2><p><code>tar</code>本身就是一个大包工具，可以把目录打包成一个文件，它把所有的文件整合成一个大文件整体，方便复制或移动。命令格式：<code>tar [-zjxcvfpP] filename tar</code>。下面介绍下常用的参数：</p>
<ul>
<li>-z:表示同时用gzip压缩</li>
<li>-j:表示同时用bzip2压缩</li>
<li>-x:表示解包或解压缩</li>
<li>-t:表示查看tar包里的文件</li>
<li>-c:表示建立一个tar包或者压缩文件包</li>
<li>-v:表示可视化</li>
<li>-f:后面跟文件名（即“-f filename”），表示压缩后的文件名为filename，或者解压文件filename。注意，在有多个参数的情况下，将-f参数写在最后面。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[jly@localhost <span class="built_in">test</span>]$ bzip2 test.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ mkdir <span class="built_in">test</span>111</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ touch <span class="built_in">test</span>111/<span class="built_in">test</span>2.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ <span class="built_in">echo</span> <span class="string">"nihao"</span> &gt; !$</div><div class="line"><span class="built_in">echo</span> <span class="string">"nihao"</span> &gt; <span class="built_in">test</span>111/<span class="built_in">test</span>2.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line"><span class="built_in">test</span>111  test.txt.bz2</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ tar -cvf <span class="built_in">test</span>111.tar <span class="built_in">test</span>111</div><div class="line"><span class="built_in">test</span>111/</div><div class="line"><span class="built_in">test</span>111/<span class="built_in">test</span>2.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line"><span class="built_in">test</span>111  <span class="built_in">test</span>111.tar  test.txt.bz2</div></pre></td></tr></table></figure>
<p>上例中，使用tar命令把test111打包成test111.tar（记住-f参数后紧跟打包后的文件名，然后再跟需要打包的目录或文件）。且使用tar命令打包，原文件也不会消失。</p>
<p>不加-v，表示不可视化。第2行的意思是–将test111和test.txt.bz2一起打包在test.tar中。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[jly@localhost <span class="built_in">test</span>]$ rm <span class="_">-f</span> <span class="built_in">test</span>111.tar</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ tar -cf test.tar <span class="built_in">test</span>111 test.txt.bz2</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line"><span class="built_in">test</span>111  test.tar  test.txt.bz2</div></pre></td></tr></table></figure></p>
<p>注意：不管是打包还是解包，原来的文件都不会删除的，而且会覆盖当前已经存在的文件或者是目录。</p>
<h3 id="打包的同时使用gzip压缩"><a href="#打包的同时使用gzip压缩" class="headerlink" title="打包的同时使用gzip压缩"></a>打包的同时使用gzip压缩</h3><p>tar命令非常好用的功能就是可以在打包时直接压缩，支持gzip压缩和bzip2压缩。</p>
<p>gzip压缩方法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">[jly@localhost <span class="built_in">test</span>]$ tar -czvf <span class="built_in">test</span>111.tar.gz <span class="built_in">test</span>111</div><div class="line"><span class="built_in">test</span>111/</div><div class="line"><span class="built_in">test</span>111/<span class="built_in">test</span>2.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line"><span class="built_in">test</span>111  <span class="built_in">test</span>111.tar.gz  test.tar  test.txt.bz2</div></pre></td></tr></table></figure></p>
<p>使用<code>-zxvf</code>选项解压<code>.tar.gz</code>格式的压缩包：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[jly@localhost <span class="built_in">test</span>]$ rm -rf <span class="built_in">test</span>111</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line"><span class="built_in">test</span>111.tar.gz  test.tar  test.txt.bz2</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ tar -zxvf <span class="built_in">test</span>111.tar.gz</div><div class="line"><span class="built_in">test</span>111/</div><div class="line"><span class="built_in">test</span>111/<span class="built_in">test</span>2.txt</div><div class="line">[jly@localhost <span class="built_in">test</span>]$ ls</div><div class="line"><span class="built_in">test</span>111  <span class="built_in">test</span>111.tar.gz  test.tar  test.txt.bz2</div></pre></td></tr></table></figure></p>
<h3 id="打包的同时使用bzip2压缩"><a href="#打包的同时使用bzip2压缩" class="headerlink" title="打包的同时使用bzip2压缩"></a>打包的同时使用bzip2压缩</h3><p>和gzip压缩有所不同，这里使用<code>-cjvf</code>选项来压缩。使用<code>-jxvf</code>选项来解压<code>.tar.bz2</code>格式的压缩包。</p>
<h2 id="使用zip压缩"><a href="#使用zip压缩" class="headerlink" title="使用zip压缩"></a>使用zip压缩</h2><p>zip后面先跟目录文件名（即要压缩后的自定义压缩包名），然后跟要压缩的文件或者目录。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ touch 1.txt</div><div class="line">[jly@localhost ~]$ zip 1.txt.zip 1.txt</div><div class="line">  adding: 1.txt (stored 0%)</div></pre></td></tr></table></figure></p>
<p>当一个目录下还有二级目录甚至更多级目录时，如果想一并压缩所有文件，必须加上-r选项，如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ zip -r dir1.zip dir1/</div></pre></td></tr></table></figure></p>
<p>解压方法：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[jly@localhost ~]$ unzip 1.txt.zip</div></pre></td></tr></table></figure></p>
<h3 id="安装更新VMware-Tools"><a href="#安装更新VMware-Tools" class="headerlink" title="安装更新VMware Tools"></a>安装更新VMware Tools</h3><ul>
<li>拷贝压缩包到一个地方;</li>
<li>解压：<code>tar zxf vmware-linux-tools.tar.gz</code>;</li>
<li>会解压出一个名为“vmware-tools-distrib”的目录;</li>
<li>进入上一个目录，在超级用户下使用命令<code>./vmware-install.pl</code>开始安装。</li>
</ul>
<h1 id="文本编辑工具Vim"><a href="#文本编辑工具Vim" class="headerlink" title="文本编辑工具Vim"></a>文本编辑工具Vim</h1><p>vim有三种模式：一般模式、编辑模式和命令模式。</p>
<ul>
<li>在<strong>一般模式</strong>下不可以修改某个字符，想要修改字符，就要进入<strong>编辑模式</strong>。从一般模式进入编辑模式，你只需要按i/I/a/A/o/O/r/R中的某一个键即可。当进入编辑模式时，就会显示“插入/INSERT/REPLACE”的其中一个。</li>
<li>如果想从编辑模式回到一般模式，直接按esc键即可。</li>
<li>在一般模式下，输入“：”或者“/”即可进入<strong>命令模式</strong>。在该模式下，可以搜索某个字符或者字符串，也可以实现保存、替换、退出、显示行号等操作。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># vim test.txt文本内容显示如下</span></div><div class="line">qwqeqwqeqwqwrqrwwrw</div><div class="line">dvfvgbg</div><div class="line"><span class="comment"># 在一般模式下，先输入"："，再输入"/qw"，就会匹配出所有符合条件的qw。</span></div><div class="line"><span class="comment"># 或者在一般模式下，先输入"/"，再直接输入qw，同样匹配所有qw。</span></div></pre></td></tr></table></figure>
<p>命令模式的其他功能：</p>
<ul>
<li><code>:w</code> : 保存文本</li>
<li><code>:q</code> : 退出Vim</li>
<li><code>:w!</code> : 强制保存，在root用户下，即使文本只读也可以完全保存</li>
<li><code>:q!</code> : 强制退出，所有改动不生效</li>
<li><code>:wq</code> : 保存并退出</li>
<li><code>:set nu</code> : 显示行号</li>
<li><code>:set nonu</code> : 不显示行号</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;简介：使用虚拟机安装linux以及linux学习。&lt;/p&gt;
    
    </summary>
    
      <category term="工具" scheme="http://yoursite.com/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
      <category term="linux" scheme="http://yoursite.com/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客问题</title>
    <link href="http://yoursite.com/2017/10/10/hexo%E5%8D%9A%E5%AE%A2%E9%97%AE%E9%A2%98/"/>
    <id>http://yoursite.com/2017/10/10/hexo博客问题/</id>
    <published>2017-10-10T06:28:48.000Z</published>
    <updated>2017-10-13T06:21:49.731Z</updated>
    
    <content type="html"><![CDATA[<p>hexo博客中遇见的问题及解决办法。</p>
<a id="more"></a>
<h2 id="解决fs-SyncWriteStream报错问题"><a href="#解决fs-SyncWriteStream报错问题" class="headerlink" title="解决fs.SyncWriteStream报错问题"></a>解决fs.SyncWriteStream报错问题</h2><p>最近，在执行hexo命令时，遇到了这样的报错：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(node:<span class="number">11320</span>) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.</div></pre></td></tr></table></figure>
<p>在网上查阅资料发现，原来是<code>node.js</code>从8.0开始弃用<code>fs.SyncWriteStream</code>这个方法。有人issue了这个问题（<a href="https://github.com/hexojs/hexo/issues/2598" target="_blank" rel="external">fs.SyncWriteStream</a>），原来是需要更新hexo-fs插件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-fs --save</div></pre></td></tr></table></figure>
<p>但是这样我更新之后还是有同样的错误，那么就是用以下方法定位错误在哪里：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo clean --debug</div></pre></td></tr></table></figure>
<p>结果如图：</p>
<p><img src="http://oxligjg1w.bkt.clouddn.com/error-debug.png" alt="hexo--debug"></p>
<p>可以看到我所在报错的位置是<code>hexo-deployer-git</code>，于是找到<code>hexo-deployer-git\node_modules\hexo-fs\lib\fs.js</code>的第718行，将<code>exports.SyncWriteStream = fs.SyncWriteStream;</code>注释掉，即可。</p>
<p>再次使用<code>$ hexo clean --debug</code>，发现问题解决了：</p>
<p><img src="http://oxligjg1w.bkt.clouddn.com/hexo--debug.png" alt=""></p>
<h2 id="解决Template-render-error问题"><a href="#解决Template-render-error问题" class="headerlink" title="解决Template render error问题"></a>解决Template render error问题</h2><p>在执行命令时，又遇到了这样的问题：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">FATAL Something's wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</div><div class="line">Template render error: (unknown path)</div></pre></td></tr></table></figure>
<p>经过查询，我知道了，有两个地方会导致出现这样的问题：①<code>_config.yml</code>配置文件中，你写的格式、缩进等可能会导致出现问题；②在你的<code>page/post</code>可能是你的哪篇文章出现了问题。</p>
<p>帮助文档：<a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">hexo–troubleshooting</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;hexo博客中遇见的问题及解决办法。&lt;/p&gt;
    
    </summary>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>CSS_齐舞</title>
    <link href="http://yoursite.com/2017/09/16/CSS-%E9%BD%90%E8%88%9E/"/>
    <id>http://yoursite.com/2017/09/16/CSS-齐舞/</id>
    <published>2017-09-16T15:07:25.000Z</published>
    <updated>2017-09-24T13:57:21.344Z</updated>
    
    <content type="html"><![CDATA[<p>参考视频：<a href="https://t.75team.com/video" target="_blank" rel="external">齐舞学院</a></p>
<a id="more"></a>
<h1 id="层叠、继承和CSS单位"><a href="#层叠、继承和CSS单位" class="headerlink" title="层叠、继承和CSS单位"></a>层叠、继承和CSS单位</h1><h2 id="选择器的特异度"><a href="#选择器的特异度" class="headerlink" title="选择器的特异度"></a>选择器的特异度</h2><table>
<thead>
<tr>
<th>选择器</th>
<th style="text-align:center">内联</th>
<th style="text-align:center">id个数</th>
<th style="text-align:center">（伪）类个数</th>
<th style="text-align:center">标签个数</th>
<th style="text-align:center">特异度</th>
</tr>
</thead>
<tbody>
<tr>
<td>#nav .list li a:link</td>
<td style="text-align:center">0</td>
<td style="text-align:center">1</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
<td style="text-align:center">0122</td>
</tr>
<tr>
<td>.hd ul.links a</td>
<td style="text-align:center">0</td>
<td style="text-align:center">0</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
<td style="text-align:center">0022</td>
</tr>
</tbody>
</table>
<p>可以理解为特异度 <code>0122</code> &gt; <code>0022</code>，所以第一个的优先级大于第二个的优先级。</p>
<p>再举一个例子：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;article&gt;</div><div class="line">    &lt;h1 class="title"&gt;选择器的特异度&lt;/h1&gt;</div><div class="line">&lt;/article&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    .title&#123; color: blue; &#125;</div><div class="line">    article h1&#123; color:red; &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<p>这里可以理解为<code>.title</code>的特异度是<code>0010</code>，<code>article h1</code>的特异度是<code>0002</code>。所以字体颜色是蓝色。</p>
<h2 id="简单选择器的特异度级别（由低到高）"><a href="#简单选择器的特异度级别（由低到高）" class="headerlink" title="简单选择器的特异度级别（由低到高）"></a>简单选择器的特异度级别（由低到高）</h2><ul>
<li>level 0：*</li>
<li>level 1：标签选择器、伪元素</li>
<li>level 2：类、伪类、属性</li>
<li>level 3：id</li>
<li>level 4：内联</li>
</ul>
<p>伪元素：<code>::before</code>,<code>::after</code>,<code>::first-line</code>,<code>::first-letter</code>。</p>
<p>伪类有：<code>:first-child</code>,<code>:link</code>,<code>:visited</code>,<code>:hover</code>,<code>:active</code>,<code>:focus</code>,<code>:lang</code>,<code>:right</code>,<code>:left</code>,<code>:first</code>。</p>
<h2 id="属性匹配"><a href="#属性匹配" class="headerlink" title="属性匹配"></a>属性匹配</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;button class="btn"&gt;普通按钮&lt;/button&gt;</div><div class="line">&lt;button class="btn btn-primary"&gt;主要按钮&lt;/button&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    .btn&#123; display: inline-block;border: none;background: #e6e6e6;color: #333; &#125;</div><div class="line">    .btn.btn-primary&#123; color: #fff;background: #218de6; &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<p>这里<code>.btn.btn-primary</code>会覆盖掉<code>.btn</code>,颜色和背景颜色为<code>#fff和#218de6;</code>,所以第二个按钮背景颜色为蓝色，字体颜色为白色。</p>
<h2 id="important"><a href="#important" class="headerlink" title="important"></a>important</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;button class="btn"&gt;普通按钮&lt;/button&gt;</div><div class="line">&lt;button class="btn btn-primary"&gt;主要按钮&lt;/button&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    .btn&#123; display: inline-block;border: none;background: #e6e6e6;color: #333 !important; &#125;</div><div class="line">    .btn.btn-primary&#123; color: #fff;background: #218de6; &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<p>给<code>.btn</code>的<code>color</code>属性增加了<code>!important</code>,那么该属性不会被改变，所以第二个按钮的背景颜色为蓝色，字体颜色为#333。</p>
<p>如果想要覆盖掉<code>.btn</code>的<code>color</code>值，那么也给<code>.btn.btn-primary</code>中的<code>color</code>添加<code>!important</code>。</p>
<h2 id="Cascading（继承）"><a href="#Cascading（继承）" class="headerlink" title="Cascading（继承）"></a>Cascading（继承）</h2><p>某些属性会自动继承其父元素的计算值，除非显式指定一个值。</p>
<h2 id="长度单位"><a href="#长度单位" class="headerlink" title="长度单位"></a>长度单位</h2><ul>
<li><p>绝对单位</p>
<ul>
<li>px：像素，对应显示器的一个像素点</li>
<li>in：英寸</li>
<li>英寸cm：厘米</li>
<li>厘米mm：毫米</li>
<li>毫米pt：磅（1pt等于1/72英寸）</li>
<li>英寸pc：1pc等于12pt</li>
</ul>
</li>
<li><p>相对单位</p>
<ul>
<li>em：相对于该元素的一个font-size</li>
<li>rem：相对于html元素的font-size</li>
<li>vh：浏览器窗口高度的1%</li>
<li>vw：浏览器窗口宽度的1%</li>
<li>vmin：vh和vm中的较小值</li>
<li>vmax：vh和vm中的较大值</li>
</ul>
</li>
</ul>
<h2 id="HSL颜色模型"><a href="#HSL颜色模型" class="headerlink" title="HSL颜色模型"></a>HSL颜色模型</h2><p>使用Hue、Saturation、Lightness三个数字来表示颜色。</p>
<ul>
<li>Hue：色相（H）是色彩的基本属性，就是平常所说的颜色名称，如红色、黄色等。取值范围是0-360（0代表红色）。</li>
<li>Saturation：饱和度（S）是指色彩的纯度，越高色彩越纯，低则逐渐变灰。取值范围0-100%。</li>
<li>Lightness：越高颜色越亮。取值范围是0-100%。</li>
<li>例如：hsl(0,50%,50%)、hsla(120,50%,50%,0.5)。</li>
</ul>
<h1 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h1><h2 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h2><p>语法：<code>box-sizing: border-box | content-box | inherit</code>,初始值为<code>content-box</code>。</p>
<h2 id="overflow"><a href="#overflow" class="headerlink" title="overflow"></a>overflow</h2><p>语法：<code>overflow: visible | hidden | scroll | auto</code>,默认值为<code>visible</code>。</p>
<ul>
<li>visible：默认值。内容不会被修剪，会呈现在元素框之外。</li>
<li>hidden：内容会被修剪，并且其余内容是不可见的。</li>
<li>scroll：内容会被修剪，但是浏览器会显示滚动条以便查看其余的内容。</li>
<li>auto：如果内容被修剪，则浏览器会显示滚动条以便查看其余的内容。</li>
</ul>
<h2 id="visibility"><a href="#visibility" class="headerlink" title="visibility"></a>visibility</h2><p>语法：<code>visible | hidden | collapse</code>,默认值为<code>visible</code>。</p>
<p>即使不可见的元素也会占据页面上的空间。请使用 “display” 属性来创建不占据页面空间的不可见元素。</p>
<h2 id="Generated-Content"><a href="#Generated-Content" class="headerlink" title="Generated Content"></a>Generated Content</h2><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&lt;a href="http://example.com"&gt;访问链接&lt;/a&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    a::before&#123;</div><div class="line">        content: '\2693';</div><div class="line">    &#125;</div><div class="line">    a::after&#123;</div><div class="line">        content: '(' attr(href) ')';</div><div class="line">    &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/before.png" alt="::before::after"></p>
<h1 id="排版细节"><a href="#排版细节" class="headerlink" title="排版细节"></a>排版细节</h1><h2 id="vertical-align"><a href="#vertical-align" class="headerlink" title="vertical-align"></a>vertical-align</h2><ul>
<li>定义盒子所处的行盒（line box）的垂直对齐关系</li>
<li>语法：<code>vertical-align: baseline | sub | super | top | text-top | middle | bottom | text-bottom | &lt;percentage&gt; | &lt;length&gt;</code></li>
<li>初始值为<code>baseline</code></li>
<li>百分比相对于元素自身的行高</li>
</ul>
<p><img src="http://otf35fo4u.bkt.clouddn.com/vertical.png" alt="vertical-align"></p>
<h2 id="box-shadow"><a href="#box-shadow" class="headerlink" title="box-shadow"></a>box-shadow</h2><p><code>box-shadow</code>不再是简单的用来制造阴影效果，还可以利用它来制作小图标的一部分。</p>
<h1 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h1><p><code>float</code>,<code>position</code>,<code>inline-block</code>,<code>table</code>,<code>flex</code>,<code>grid</code></p>
<h2 id="水平居中"><a href="#水平居中" class="headerlink" title="水平居中"></a>水平居中</h2><ul>
<li>行级元素：<code>text-align: center;</code></li>
<li>块级元素：<code>margin: auto;</code></li>
</ul>
<h2 id="垂直居中"><a href="#垂直居中" class="headerlink" title="垂直居中"></a>垂直居中</h2><ul>
<li>单行文字：<code>line-height</code></li>
<li>行级盒子：<code>vertical-align: middle;</code></li>
<li>绝对定位：<code>top: 50%;left: 50%;</code></li>
</ul>
<h2 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h2><p>用下面的方式可以做自适应：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">display: table                 <span class="comment">/* &lt;table&gt; */</span></div><div class="line">display: table-cell            <span class="comment">/* &lt;td&gt; */</span></div><div class="line">display: table-row             <span class="comment">/* &lt;tr&gt; */</span></div><div class="line">display: table-column          <span class="comment">/* &lt;col&gt; */</span></div><div class="line">display: table-column-group    <span class="comment">/* &lt;colgroup&gt; */</span></div><div class="line">display: table-footer-group    <span class="comment">/* &lt;tfoot&gt; */</span></div><div class="line">display: table-header-group    <span class="comment">/* &lt;thead&gt; */</span></div></pre></td></tr></table></figure></p>
<p>举例：<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;nav&gt;</div><div class="line">    &lt;a href=""&gt;home&lt;/a&gt;</div><div class="line">    &lt;a href=""&gt;html&lt;/a&gt;</div><div class="line">    &lt;a href=""&gt;css&lt;/a&gt;</div><div class="line">    &lt;a href=""&gt;javascript&lt;/a&gt;</div><div class="line">    &lt;a href=""&gt;http&lt;/a&gt;</div><div class="line">&lt;/nav&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    nav&#123; width: 100%; display: table; border-collapse: collapse;line-height: 3; &#125;</div><div class="line">    nav a&#123; display: table-cell; text-align: center; border: 1px solid #fff; background: #00b3ee;&#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure></p>
<h1 id="高级选择器"><a href="#高级选择器" class="headerlink" title="高级选择器"></a>高级选择器</h1><h2 id="target伪类"><a href="#target伪类" class="headerlink" title=":target伪类"></a>:target伪类</h2><p>可以使用<code>:target</code>伪类做tab选项卡功能。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">&lt;nav&gt;</div><div class="line">    &lt;a href="#p1"&gt;html&lt;/a&gt;</div><div class="line">    &lt;a href="#p2"&gt;css&lt;/a&gt;</div><div class="line">    &lt;a href="#p3"&gt;javascript&lt;/a&gt;</div><div class="line">&lt;/nav&gt;</div><div class="line">&lt;p id="p1"&gt;htmlhtmlhtml&lt;/p&gt;</div><div class="line">&lt;p id="p2"&gt;csscsscss&lt;/p&gt;</div><div class="line">&lt;p id="p3"&gt;javascriptjavascript&lt;/p&gt;</div><div class="line"></div><div class="line">&lt;style&gt;</div><div class="line">    p&#123; display: none; &#125;</div><div class="line">    p:target&#123; display: block; &#125;</div><div class="line">&lt;/style&gt;</div></pre></td></tr></table></figure>
<h2 id="lang伪类"><a href="#lang伪类" class="headerlink" title=":lang伪类"></a>:lang伪类</h2><ul>
<li>元素匹配上指定语言时的状态</li>
<li>浏览器通过lang属性获得语言信息</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;参考视频：&lt;a href=&quot;https://t.75team.com/video&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;齐舞学院&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Web前端" scheme="http://yoursite.com/categories/Web%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="CSS" scheme="http://yoursite.com/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>《写给大家看的设计书》</title>
    <link href="http://yoursite.com/2017/09/13/%E3%80%8A%E5%86%99%E7%BB%99%E5%A4%A7%E5%AE%B6%E7%9C%8B%E7%9A%84%E8%AE%BE%E8%AE%A1%E4%B9%A6%E3%80%8B/"/>
    <id>http://yoursite.com/2017/09/13/《写给大家看的设计书》/</id>
    <published>2017-09-13T01:06:16.000Z</published>
    <updated>2017-09-14T14:52:46.544Z</updated>
    
    <content type="html"><![CDATA[<p>《写给大家看的设计书》由世界著名设计师、技术专家和畅销书作家Robin Williams著。</p>
<a id="more"></a>
<h2 id="四大设计原则"><a href="#四大设计原则" class="headerlink" title="四大设计原则"></a>四大设计原则</h2><ol>
<li><p>亲密性(proximity)</p>
<p><strong>彼此相关的项</strong>应当靠近，归组在一起。有助于组织信息，减少混乱，为读者提供清晰的结构。</p>
</li>
<li><p>对比(contrast)</p>
<p>对比的基本思想：避免页面上的元素太过相似。如果元素（字体、颜色、大小、线宽、形状、空间等）不相同，那就干脆让他们截然不同。</p>
</li>
<li><p>重复(repetition)</p>
<p>让设计中的视觉要素在整个作品中重复出现。可以重复颜色、形状、材质、空间关系、线宽、字体、大小和图片，等等。这样一来，既能增加条理性，还可以加强统一性。</p>
</li>
<li><p>对齐(alignment)</p>
<p>任何东西都不能在页面随意安放。每一项都应当与页面上的某个内容存在某种视觉联系。</p>
<p><strong>根本目的：</strong> 使页面统一而且有条理。</p>
</li>
</ol>
<h2 id="作者说"><a href="#作者说" class="headerlink" title="作者说"></a>作者说</h2><blockquote>
<p>尽量不要使用居中对齐。</p>
<p>勇敢一点，大胆一点。打破常规对齐时不要怯懦。</p>
<p>但是，在打破规则之前必须清楚规则是什么。</p>
<p>绝对不要在页面上随意摆放元素。</p>
<p>找一条明确的对齐线，并坚持以它为基准。</p>
<p>如果两个项不完全相同，就应当使之不同，而且应当是截然不同。</p>
</blockquote>
<h2 id="颜色运用"><a href="#颜色运用" class="headerlink" title="颜色运用"></a>颜色运用</h2><ol>
<li>三原色（红、黄、蓝）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E4%B8%89%E5%8E%9F%E8%89%B2.png" alt="三原色"></p>
<ol>
<li>三间色（橙、绿、紫）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E4%B8%89%E9%97%B4%E8%89%B2.png" alt="三间色"></p>
<ol>
<li>第三色（把色轮中的空白填满得到）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E7%AC%AC%E4%B8%89%E8%89%B2.png" alt="第三色"></p>
<ol>
<li>互补色（色轮上相对的颜色，一种作为主色，另一种用于强调）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E4%BA%92%E8%A1%A5%E8%89%B2.png" alt="互补色"></p>
<ol>
<li>三色组（基色三色组、间色三色组、其他）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E4%B8%89%E8%89%B2%E7%BB%84.png" alt="三色组"></p>
<ol>
<li>分裂互补三色组（从色轮的一边选择颜色，从该互补色两侧得到另外两色）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E5%88%86%E8%A3%82%E4%BA%92%E8%A1%A5%E4%B8%89%E8%89%B2%E7%BB%84.png" alt="分裂互补三色组"></p>
<ol>
<li>类似色（由色轮上彼此相邻的颜色组成）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E7%B1%BB%E4%BC%BC%E8%89%B2.png" alt="类似色"></p>
<ol>
<li>暗色和亮色（纯色就是色调，向色调增加黑色就构成一个暗色，向色调增加白色就构成一个亮色）</li>
</ol>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/%E6%9A%97%E8%89%B2%E5%92%8C%E6%98%8E%E8%89%B2.png" alt="暗色和亮色"></p>
<ol>
<li>暖色和冷色</li>
</ol>
<p>冷色是后退型，趋于做背景色；暖色是趋进型，尽量少用暖色。</p>
<ol>
<li><p>CMYK与RGB，印刷与Web</p>
<ul>
<li><code>CMYK</code>代表Cyan（一种蓝色）、Magenta（一种红/粉红色）、Yellow和一个Key色（通常是黑色）。</li>
<li><code>RGB</code>表示Red（红色）、Green（绿色）和Blue（蓝色）。</li>
<li>需要印刷的项目应当使用<code>CMYK</code>。</li>
<li>需要在屏幕上看的内容则应使用<code>RGB</code>。</li>
</ul>
</li>
</ol>
<h2 id="字体类别"><a href="#字体类别" class="headerlink" title="字体类别"></a>字体类别</h2><p>字体对比有6种明确的不同方式：大小、粗细、结构、形状、方向和颜色。</p>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/fonts.png" alt="6种字体"></p>
<p><a href="https://fonts.google.com/" target="_blank" rel="external">Google Fonts字体网站</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;《写给大家看的设计书》由世界著名设计师、技术专家和畅销书作家Robin Williams著。&lt;/p&gt;
    
    </summary>
    
      <category term="阅读笔记" scheme="http://yoursite.com/categories/%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="书籍" scheme="http://yoursite.com/tags/%E4%B9%A6%E7%B1%8D/"/>
    
  </entry>
  
  <entry>
    <title>JS几道小题</title>
    <link href="http://yoursite.com/2017/09/03/js%E5%87%A0%E9%81%93%E5%B0%8F%E9%A2%98/"/>
    <id>http://yoursite.com/2017/09/03/js几道小题/</id>
    <published>2017-09-03T10:38:05.468Z</published>
    <updated>2017-09-21T09:48:11.128Z</updated>
    
    <content type="html"><![CDATA[<p>厦门实训js几道小题练习。</p>
<a id="more"></a>
<h2 id="2017-7-6日厦门实训js作业"><a href="#2017-7-6日厦门实训js作业" class="headerlink" title="2017.7.6日厦门实训js作业"></a>2017.7.6日厦门实训js作业</h2><h3 id="例题1：定义两个整数变量，交换两个变量的值"><a href="#例题1：定义两个整数变量，交换两个变量的值" class="headerlink" title="例题1：定义两个整数变量，交换两个变量的值"></a>例题1：定义两个整数变量，交换两个变量的值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = prompt(<span class="string">"请输入a的值"</span>);</div><div class="line"><span class="keyword">var</span> b = prompt(<span class="string">"请输入b的值"</span>);</div><div class="line"><span class="keyword">var</span> t;</div><div class="line"></div><div class="line">t = a;   <span class="comment">//t=2</span></div><div class="line">a = b;  <span class="comment">//a=3</span></div><div class="line">b = t;  <span class="comment">//b=2</span></div><div class="line">alert(<span class="string">"交换后a的值："</span> + a + <span class="string">",交换后b的值："</span> + b);</div><div class="line"><span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></div></pre></td></tr></table></figure>
<h3 id="例题２：定义三个整数变量，输出一次最大值"><a href="#例题２：定义三个整数变量，输出一次最大值" class="headerlink" title="例题２：定义三个整数变量，输出一次最大值"></a>例题２：定义三个整数变量，输出一次最大值</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = prompt(<span class="string">"输入第一个数"</span>);</div><div class="line"><span class="keyword">var</span> b = prompt(<span class="string">"输入第二个数"</span>);</div><div class="line"><span class="keyword">var</span> c = prompt(<span class="string">"输入第三个数"</span>);</div><div class="line"><span class="keyword">var</span> max;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(a&gt;=b)&#123;</div><div class="line">	max = a;</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">	max = b;</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span>(max&lt;c)&#123;</div><div class="line">	max = c;</div><div class="line">&#125;</div><div class="line">alert(<span class="string">"最大的值是："</span> + max);</div></pre></td></tr></table></figure>
<h3 id="例题3：输入三个数从小到大的输出"><a href="#例题3：输入三个数从小到大的输出" class="headerlink" title="例题3：输入三个数从小到大的输出"></a>例题3：输入三个数从小到大的输出</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = prompt(<span class="string">"输入第一个数"</span>);</div><div class="line"><span class="keyword">var</span> b = prompt(<span class="string">"输入第二个数"</span>);</div><div class="line"><span class="keyword">var</span> c = prompt(<span class="string">"输入第三个数"</span>);</div><div class="line"><span class="keyword">var</span> min,max,mid;</div><div class="line"></div><div class="line"><span class="keyword">if</span>(a&gt;=b)&#123;</div><div class="line">    <span class="keyword">if</span>(b&gt;=c)&#123;</div><div class="line">        max = a;mid = b;min = c;</div><div class="line">    &#125; <span class="keyword">else</span>&#123;</div><div class="line">        max = a;mid = c;min = b;</div><div class="line">    &#125;</div><div class="line">&#125; <span class="keyword">else</span>&#123;     <span class="comment">//a&lt;b</span></div><div class="line">    <span class="keyword">if</span>(b&gt;=c)&#123;</div><div class="line">        max = b;mid = a;min = c;</div><div class="line">    &#125; <span class="keyword">else</span>&#123;</div><div class="line">        max = b;mid = c;min = a;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span>(max&lt;c)&#123;</div><div class="line">    <span class="keyword">if</span>(a&gt;=b)&#123;</div><div class="line">        max = c;mid = a;min = b;</div><div class="line">    &#125; <span class="keyword">else</span>&#123;</div><div class="line">        max = c;mid = b;min = a;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">alert(<span class="string">"从小到大排序："</span> + min + <span class="string">"&lt;"</span> + mid +  <span class="string">"&lt;"</span> + max);</div></pre></td></tr></table></figure>
<p>额….这个写的不是很好，傻瓜式…以后再说</p>
<h3 id="例题4：定义整数的成绩变量，按区间输出等级"><a href="#例题4：定义整数的成绩变量，按区间输出等级" class="headerlink" title="例题4：定义整数的成绩变量，按区间输出等级:"></a>例题4：定义整数的成绩变量，按区间输出等级:</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> score = prompt(<span class="string">"输入成绩："</span>);</div><div class="line"><span class="keyword">var</span> sco = <span class="built_in">parseInt</span>(score / <span class="number">10</span>);</div><div class="line"><span class="keyword">switch</span>(sco)&#123;</div><div class="line">    <span class="keyword">case</span> <span class="number">0</span> :</div><div class="line">        alert(<span class="string">"不及格！"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">1</span> :</div><div class="line">        alert(<span class="string">"不及格！"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">2</span> :</div><div class="line">        alert(<span class="string">"不及格！"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">3</span> :</div><div class="line">        alert(<span class="string">"不及格！"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">4</span> :</div><div class="line">        alert(<span class="string">"不及格！"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">5</span> :</div><div class="line">        alert(<span class="string">"不及格！"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">6</span>:</div><div class="line">        alert(<span class="string">"D"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">7</span>:</div><div class="line">        alert(<span class="string">"C"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">8</span>:</div><div class="line">        alert(<span class="string">"B"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">9</span>:</div><div class="line">        alert(<span class="string">"A"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">case</span> <span class="number">10</span>:</div><div class="line">        alert(<span class="string">"A"</span>); <span class="keyword">break</span>;</div><div class="line">    <span class="keyword">default</span>:</div><div class="line">        alert(<span class="string">"输入有误！"</span>); <span class="keyword">break</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="例题5：定义一个变量表示年份，判断是否是闰年"><a href="#例题5：定义一个变量表示年份，判断是否是闰年" class="headerlink" title="例题5：定义一个变量表示年份，判断是否是闰年"></a>例题5：定义一个变量表示年份，判断是否是闰年</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;!--闰年的条件是:能被<span class="number">4</span>整除,但是不能被<span class="number">100</span>整除,或者能被四百整除--&gt;</div><div class="line"><span class="keyword">var</span> year = prompt(<span class="string">"输入一个年份："</span>);</div><div class="line"></div><div class="line"><span class="keyword">if</span>((year%<span class="number">4</span>==<span class="number">0</span>) &amp;&amp; (year%<span class="number">100</span>!==<span class="number">0</span>) || (year%<span class="number">400</span>==<span class="number">0</span>)) &#123;</div><div class="line">    alert(year+<span class="string">"年是闰年"</span>);</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    alert(year+<span class="string">"年是平年"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="例题6：输出100以内的质数"><a href="#例题6：输出100以内的质数" class="headerlink" title="例题6：输出100以内的质数"></a>例题6：输出100以内的质数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//2,3,5,7,11,13,17,19,23...</span></div><div class="line"><span class="comment">//只能被1和自己本身除</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> n=<span class="number">2</span>;n&lt;=<span class="number">100</span>;n++)&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> m=<span class="number">2</span>;m&lt;n;m++)&#123;</div><div class="line">        <span class="keyword">if</span>(n%m == <span class="number">0</span>)&#123;</div><div class="line">            <span class="keyword">break</span>;   <span class="comment">//跳出当前循环</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(m&gt;=n)&#123;</div><div class="line">        <span class="built_in">document</span>.write( n + <span class="string">","</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="2017-7-7日厦门实训js作业-–循环语句"><a href="#2017-7-7日厦门实训js作业-–循环语句" class="headerlink" title="2017.7.7日厦门实训js作业 –循环语句"></a>2017.7.7日厦门实训js作业 –循环语句</h2><h3 id="例题1：输出乘法口诀表"><a href="#例题1：输出乘法口诀表" class="headerlink" title="例题1：输出乘法口诀表"></a>例题1：输出乘法口诀表</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">1</span>;j&lt;<span class="number">10</span>;j++)&#123;</div><div class="line">        <span class="keyword">if</span>(j&gt;i)&#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            num = i*j;</div><div class="line">            <span class="built_in">document</span>.write(j + <span class="string">"*"</span> + i + <span class="string">"="</span> + num + <span class="string">"&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">document</span>.write(<span class="string">"&lt;br/&gt;"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="例题2：输出10行10列表格"><a href="#例题2：输出10行10列表格" class="headerlink" title="例题2：输出10行10列表格"></a>例题2：输出10行10列表格</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;button id="btn"&gt;1.点击出现表格&lt;/button&gt;</div><div class="line">&lt;table id="table" cellspacing="0" cellpadding="10" border="1"&gt;&lt;/table&gt;</div><div class="line">   </div><div class="line">window.onload = function() &#123;</div><div class="line">var btn = document.getElementById("btn");</div><div class="line">btn.onclick = out;</div><div class="line">	function out()&#123;</div><div class="line">		var table = document.getElementById("table");</div><div class="line">		for(var j=1;j&lt;=10;j++)&#123;</div><div class="line">			var tr = document.createElement("tr");</div><div class="line">			for(var i=1;i&lt;=10;i++)&#123;</div><div class="line">				var td = document.createElement("td");   //创建元素节点eleNode</div><div class="line">				td.innerHTML = i;</div><div class="line">				tr.appendChild(td);   //将元素节点td添加到tr中</div><div class="line">			&#125;</div><div class="line">		table.appendChild(tr);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong><em>自己在作业的基础上拓展了一下：获取任意行列的表格并输出</em></strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">请输入行数：&lt;input id=<span class="string">"rows"</span> /&gt;<span class="xml"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></div><div class="line">请输入列数：&lt;input id=<span class="string">"cols"</span> /&gt;<span class="xml"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></div><div class="line">&lt;button id=<span class="string">"btn1"</span>&gt;<span class="number">2.</span>点击出现你输入的表格&lt;<span class="regexp">/button&gt;&lt;br&gt;&lt;br/</span>&gt;</div><div class="line"><span class="xml"><span class="tag">&lt;<span class="name">table</span> <span class="attr">id</span>=<span class="string">"table1"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">cellpadding</span>=<span class="string">"10"</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></div><div class="line"></div><div class="line"><span class="keyword">var</span> btn1 = <span class="built_in">document</span>.getElementById(<span class="string">"btn1"</span>);</div><div class="line">btn1.onclick = out1;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">out1</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> table1 = <span class="built_in">document</span>.getElementById(<span class="string">"table1"</span>);</div><div class="line">    <span class="keyword">var</span> rows = <span class="built_in">document</span>.getElementById(<span class="string">"rows"</span>).value;</div><div class="line">    <span class="keyword">var</span> cols = <span class="built_in">document</span>.getElementById(<span class="string">"cols"</span>).value;</div><div class="line"></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">1</span>;j&lt;=cols;j++)&#123;</div><div class="line">        <span class="keyword">var</span> tr1 = <span class="built_in">document</span>.createElement(<span class="string">"tr"</span>);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=rows;i++)&#123;</div><div class="line">            <span class="keyword">var</span> td1 = <span class="built_in">document</span>.createElement(<span class="string">"td"</span>);</div><div class="line">             td1.innerHTML = i;</div><div class="line">            tr1.appendChild(td1);</div><div class="line">        &#125;</div><div class="line">        table1.appendChild(tr1);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="例题3：在上例表格中改变奇数行的背景"><a href="#例题3：在上例表格中改变奇数行的背景" class="headerlink" title="例题3：在上例表格中改变奇数行的背景"></a>例题3：在上例表格中改变奇数行的背景</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">&lt;button id="btn"&gt;点击后奇数行有背景颜色&lt;/button&gt;</div><div class="line">&lt;table id="table" border="1" cellpadding="10px" cellspacing="0"&gt;&lt;/table&gt;</div><div class="line"></div><div class="line">window.onload = function () &#123;</div><div class="line">    var btn = document.getElementById("btn");</div><div class="line">    btn.onclick = out2;</div><div class="line">    function out2() &#123;</div><div class="line">        var table = document.getElementById("table");</div><div class="line">        for (var j = 1; j &lt;= 10; j++) &#123;</div><div class="line">            var tr = document.createElement("tr");</div><div class="line">            if (j%2 != 0) &#123;    //判断是否为奇数行</div><div class="line">                tr.style.backgroundColor = "red";</div><div class="line">            &#125;</div><div class="line">            for (var i = 1; i &lt;= 10; i++) &#123;</div><div class="line">                var td = document.createElement("td");</div><div class="line">                td.innerHTML = i;</div><div class="line">                tr.appendChild(td);</div><div class="line">            &#125;</div><div class="line">            table.appendChild(tr);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="例题4：输出序列1-1-2-3-5-8-13……-N个数"><a href="#例题4：输出序列1-1-2-3-5-8-13……-N个数" class="headerlink" title="例题4：输出序列1,1,2,3,5,8,13…… N个数"></a>例题4：输出序列1,1,2,3,5,8,13…… N个数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a=<span class="number">1</span>;b=<span class="number">1</span>;</div><div class="line"><span class="keyword">if</span>(a=<span class="number">1</span>)&#123;</div><div class="line">    <span class="built_in">document</span>.write(a + <span class="string">" "</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span>(b=<span class="number">1</span>)&#123;</div><div class="line">    <span class="built_in">document</span>.write(b + <span class="string">" "</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> n=<span class="number">0</span>;n&lt;<span class="number">500</span>;n++)&#123;</div><div class="line">    n = a + b; <span class="comment">//1+1=2 ;n=2 n=3 n=5</span></div><div class="line">    a = b;    <span class="comment">//a=1; a=1; a=2; a=3;</span></div><div class="line">    b = n; <span class="comment">//b=1 b=2; b=3; b=5;</span></div><div class="line">    ocument.write(n + <span class="string">" "</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>此段代码不够完善…待完善</p>
<h2 id="2017-7-10日厦门实训js作业"><a href="#2017-7-10日厦门实训js作业" class="headerlink" title="2017.7.10日厦门实训js作业"></a>2017.7.10日厦门实训js作业</h2><h3 id="例题1：动态的显示当前时间"><a href="#例题1：动态的显示当前时间" class="headerlink" title="例题1：动态的显示当前时间"></a>例题1：动态的显示当前时间</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">startTime</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">	<span class="keyword">var</span> year = today.getFullYear();</div><div class="line">	<span class="keyword">var</span> month = today.getMonth() + <span class="number">1</span>;</div><div class="line">	<span class="keyword">var</span> day = today.getDate();</div><div class="line">	<span class="keyword">var</span> h = today.getHours();</div><div class="line">	<span class="keyword">var</span> m = today.getMinutes();</div><div class="line">	<span class="keyword">var</span> s = today.getSeconds();</div><div class="line">	m = checkTime(m);</div><div class="line">	s = checkTime(s);</div><div class="line"></div><div class="line">	<span class="built_in">document</span>.getElementById(<span class="string">"time"</span>).innerHTML =<span class="string">"现在是北京时间："</span> + year + <span class="string">"年"</span> + month + <span class="string">"月"</span> + day + <span class="string">"日"</span> + <span class="string">" "</span> + h + <span class="string">":"</span> + m + <span class="string">":"</span> + s ;</div><div class="line"></div><div class="line">	t = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;startTime()&#125;,<span class="number">500</span>);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkTime</span>(<span class="params">i</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(i&lt;<span class="number">10</span>)&#123;</div><div class="line">        i = <span class="string">"0"</span> + i;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> i;</div><div class="line">&#125;</div><div class="line">	</div><div class="line">&lt;body onload=<span class="string">"startTime()"</span>&gt;</div><div class="line">	<span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"time"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></div><div class="line">&lt;<span class="regexp">/body&gt;</span></div></pre></td></tr></table></figure>
<h3 id="例题2：计算器实现加减乘除（最简单的）"><a href="#例题2：计算器实现加减乘除（最简单的）" class="headerlink" title="例题2：计算器实现加减乘除（最简单的）"></a>例题2：计算器实现加减乘除（最简单的）</h3><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">数字1：&lt;input id="num1"&gt;&lt;br/&gt;&lt;br/&gt;</div><div class="line">数字2：&lt;input id="num2"&gt;&lt;br/&gt;&lt;br/&gt;</div><div class="line">&lt;button onclick="add()"&gt;加法&lt;/button&gt;</div><div class="line">&lt;button onclick="del()"&gt;减法&lt;/button&gt;</div><div class="line">&lt;button onclick="mul()"&gt;乘法&lt;/button&gt;</div><div class="line">&lt;button onclick="division()"&gt;除法&lt;/button&gt;&lt;br/&gt;&lt;br/&gt;</div><div class="line">结果为：&lt;input id="result" value=""&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">	function add() &#123;</div><div class="line">		var num1 = document.getElementById("num1").value;</div><div class="line">		var num2 = document.getElementById("num2").value;</div><div class="line">		var result = parseFloat(num1) + parseFloat(num2);</div><div class="line">		document.getElementById("result").value = result;</div><div class="line">	&#125;</div><div class="line">	function del() &#123;</div><div class="line">		var num1 = document.getElementById("num1").value;</div><div class="line">		var num2 = document.getElementById("num2").value;</div><div class="line">		var result = parseFloat(num1) - parseFloat(num2);</div><div class="line">		document.getElementById("result").value = result;</div><div class="line">	&#125;</div><div class="line">	function mul() &#123;</div><div class="line">		var num1 = document.getElementById("num1").value;</div><div class="line">		var num2 = document.getElementById("num2").value;</div><div class="line">		var result = num1 * num2;</div><div class="line">		document.getElementById("result").value = result;</div><div class="line">	&#125;</div><div class="line">	function division() &#123;</div><div class="line">		var num1 = document.getElementById("num1").value;</div><div class="line">		var num2 = document.getElementById("num2").value;</div><div class="line">		var result = num1 / num2;</div><div class="line">		document.getElementById("result").value = result;</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;厦门实训js几道小题练习。&lt;/p&gt;
    
    </summary>
    
      <category term="Web前端" scheme="http://yoursite.com/categories/Web%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>WechatApp基础</title>
    <link href="http://yoursite.com/2017/08/24/WechatApp%E5%9F%BA%E7%A1%80/"/>
    <id>http://yoursite.com/2017/08/24/WechatApp基础/</id>
    <published>2017-08-24T13:50:30.000Z</published>
    <updated>2017-10-12T02:43:36.241Z</updated>
    
    <content type="html"><![CDATA[<p>小程序开发框架的目标是通过尽可能简单、高效的方式让开发者可以在微信中开发具有原生 APP 体验的服务。框架提供了自己的视图层描述语言 WXML 和 WXSS，以及基于 JavaScript 的逻辑层框架，并在视图层与逻辑层间提供了数据传输和事件系统，可以让开发者可以方便的聚焦于数据与逻辑上。</p>
<a id="more"></a>
<h2 id="从本地相册选择图片或使用相机拍照"><a href="#从本地相册选择图片或使用相机拍照" class="headerlink" title="从本地相册选择图片或使用相机拍照"></a>从本地相册选择图片或使用相机拍照</h2><p><strong>使用到的API是</strong>：<code>wx.chooseImage(OBJECT)</code></p>
<p>html代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;view bindtap=<span class="string">"bindViewTap"</span> class=<span class="string">"userinfo"</span>&gt;</div><div class="line">    &lt;image class=<span class="string">"userinfo-avatar"</span> src=<span class="string">"&#123;&#123;avatarUrl&#125;&#125;"</span> background-size=<span class="string">"cover"</span>&gt;&lt;/image&gt;</div><div class="line">    &lt;text class=<span class="string">"userinfo-nickname"</span>&gt;&#123;&#123;userInfo.nickName&#125;&#125;&lt;/text&gt;</div><div class="line">&lt;/view&gt;</div></pre></td></tr></table></figure></p>
<p>css代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">.userinfo &#123; display: flex; flex-direction: column; align-items: center; &#125;</div><div class="line">.userinfo-avatar &#123; width: 128rpx; height: 128rpx; margin: 20rpx; border-radius: 50%; &#125;</div><div class="line">.userinfo-nickname &#123; color: #aaa; &#125;</div></pre></td></tr></table></figure></p>
<p>点击部分事件处理：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">data: &#123;</div><div class="line">    <span class="attr">userInfo</span>: &#123;&#125;,</div><div class="line">    <span class="attr">avatarUrl</span>: <span class="literal">null</span></div><div class="line">&#125;, </div><div class="line"><span class="attr">bindViewTap</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</div><div class="line">    wx.chooseImage(&#123;</div><div class="line">      <span class="attr">count</span>: <span class="number">1</span>, <span class="comment">// 默认9</span></div><div class="line">      sizeType: [<span class="string">'original'</span>, <span class="string">'compressed'</span>], <span class="comment">// 可以指定是原图还是压缩图，默认二者都有</span></div><div class="line">      sourceType: [<span class="string">'album'</span>, <span class="string">'camera'</span>], <span class="comment">// 可以指定来源是相册还是相机，默认二者都有</span></div><div class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">        <span class="comment">// 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片</span></div><div class="line">        <span class="keyword">var</span> tempFilePaths = res.tempFilePaths</div><div class="line">        that.setData(&#123;<span class="attr">avatarUrl</span>:tempFilePaths[<span class="number">0</span>]&#125;)</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<ul>
<li><code>wx.chooseImage()</code> 中<code>success</code>方法必填，其他的可选。</li>
<li><code>tempFilePaths</code> 是图片的本地文件路径列表</li>
</ul>
<h2 id="文件的上传和下载"><a href="#文件的上传和下载" class="headerlink" title="文件的上传和下载"></a>文件的上传和下载</h2><p><strong>使用到的API是</strong>：<code>wx.uploadFile(OBJECT)</code>(将本地资源上传到开发者服务器);<code>wx.downloadFile(OBJECT)</code>(下载文件资源到本地)。</p>
<h2 id="音乐的播放和控制"><a href="#音乐的播放和控制" class="headerlink" title="音乐的播放和控制"></a>音乐的播放和控制</h2><h3 id="使用后台播放器播放音乐：wx-playBackgroundAudio-OBJECT"><a href="#使用后台播放器播放音乐：wx-playBackgroundAudio-OBJECT" class="headerlink" title="使用后台播放器播放音乐：wx.playBackgroundAudio(OBJECT)"></a>使用后台播放器播放音乐：<code>wx.playBackgroundAudio(OBJECT)</code></h3><p>在<code>onReady</code>中使用:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">onReady:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    wx.playBackgroundAudio(&#123;</div><div class="line">      <span class="attr">dataUrl</span>: <span class="string">'http://ws.stream.qqmusic.qq.com/M500001VfvsJ21xFqb.mp3?guid=ffffffff82def4af4b12b3cd9337d5e7&amp;uin=346897220&amp;vkey=6292F51E1E384E06DCBDC9AB7C49FD713D632D313AC4858BACB8DDD29067D3C601481D36E62053BF8DFEAF74C0A5CCFADD6471160CAF3E6A&amp;fromtag=46'</span>,</div><div class="line">      <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</div><div class="line">        <span class="comment">//success</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">fail</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">//fail</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">complete</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">//complete</span></div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<h3 id="暂停播放音乐：wx-pauseBackgroundAudio"><a href="#暂停播放音乐：wx-pauseBackgroundAudio" class="headerlink" title="暂停播放音乐：wx.pauseBackgroundAudio()"></a>暂停播放音乐：<code>wx.pauseBackgroundAudio()</code></h3><p>添加点击事件，点击后暂停音乐：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">bindViewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    wx.pauseBackgroundAudio(&#123;</div><div class="line">      <span class="comment">//暂停音乐</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="获取后台音乐播放状态：wx-getBackgroundAudioPlayerState-OBJECT"><a href="#获取后台音乐播放状态：wx-getBackgroundAudioPlayerState-OBJECT" class="headerlink" title="获取后台音乐播放状态：wx.getBackgroundAudioPlayerState(OBJECT)"></a>获取后台音乐播放状态：<code>wx.getBackgroundAudioPlayerState(OBJECT)</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">bindViewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    wx.pauseBackgroundAudio(&#123;</div><div class="line">      <span class="comment">//暂停音乐</span></div><div class="line">    &#125;)</div><div class="line">    wx.getBackgroundAudioPlayerState(&#123;</div><div class="line">      <span class="attr">success</span>:<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(res)</div><div class="line">      &#125;,</div><div class="line">      <span class="attr">fail</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">//fail</span></div><div class="line">      &#125;,</div><div class="line">      <span class="attr">complete</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="comment">//complete</span></div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p>在控制台打印出的效果如图：<br><img src="http://ot4r4qnml.bkt.clouddn.com/music.png" alt="音乐播放"></p>
<h3 id="监听音乐播放：wx-onBackgroundAudioPlay-CALLBACK"><a href="#监听音乐播放：wx-onBackgroundAudioPlay-CALLBACK" class="headerlink" title="监听音乐播放：wx.onBackgroundAudioPlay(CALLBACK)"></a>监听音乐播放：<code>wx.onBackgroundAudioPlay(CALLBACK)</code></h3><p>在<code>onLoad</code>中使用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wx.onBackgroundAudioPlay(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="comment">//用在：播放器写真旋转，当使用该API时，写真开始旋转</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h2 id="数据缓存"><a href="#数据缓存" class="headerlink" title="数据缓存"></a>数据缓存</h2><p>本地数据存储的大小限制为10MB</p>
<h3 id="本地存储：wx-setStorage-OBJECT"><a href="#本地存储：wx-setStorage-OBJECT" class="headerlink" title="本地存储：wx.setStorage(OBJECT)"></a>本地存储：<code>wx.setStorage(OBJECT)</code></h3><p>将数据存储在本地缓存中指定的<code>key</code>中，会覆盖掉原来该<code>key</code>对应的内容，这是一个<strong>异步</strong>接口。</p>
<p>在<code>onLoad</code>中使用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">onLoad: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'onLoad'</span>)</div><div class="line">    wx.setStorage(&#123;</div><div class="line">      <span class="attr">key</span>: <span class="string">'testKey'</span>,</div><div class="line">      <span class="attr">data</span>: <span class="string">'testValue'</span></div><div class="line">    &#125;)</div><div class="line">  &#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/storage.png" alt="存储"></p>
<h3 id="异步移除：wx-removeStorage-OBJECT"><a href="#异步移除：wx-removeStorage-OBJECT" class="headerlink" title="异步移除：wx.removeStorage(OBJECT)"></a>异步移除：<code>wx.removeStorage(OBJECT)</code></h3><p>从本地缓存中异步移除指定<code>key</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">bindViewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    wx.removeStorage(&#123; <span class="comment">//移除</span></div><div class="line">      key: <span class="string">'testKey'</span>,</div><div class="line">      <span class="attr">data</span>: <span class="string">'testValue'</span></div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="拓展知识：同步和异步"><a href="#拓展知识：同步和异步" class="headerlink" title="拓展知识：同步和异步"></a>拓展知识：同步和异步</h3><ul>
<li>进程同步：就是在发出一个功能调用时，在没有得到结果之前，该调用就不返回。也就是必须一件一件事做,等前一件做完了才能做下一件事。</li>
<li>进程异步：当一个异步过程调用发出后，调用者不能立刻得到结果。实际处理这个调用的部件在完成后，通过状态、通知和回调来通知调用者。</li>
<li>同步是阻塞模式，异步是非阻塞模式。</li>
<li>举个例子：普通B/S模式（同步）; AJAX技术（异步）</li>
<li>同步：提交请求-&gt;等待服务器处理-&gt;处理完毕返回。这个期间客户端浏览器不能干任何事</li>
<li>异步: 请求通过事件触发-&gt;服务器处理（这是浏览器仍然可以作其他事情）-&gt;处理完毕</li>
</ul>
<h2 id="获取当前位置-地图"><a href="#获取当前位置-地图" class="headerlink" title="获取当前位置(地图)"></a>获取当前位置(地图)</h2><h3 id="获取当前的地理位置：wx-getLocation-OBJECT"><a href="#获取当前的地理位置：wx-getLocation-OBJECT" class="headerlink" title="获取当前的地理位置：wx.getLocation(OBJECT)"></a>获取当前的地理位置：<code>wx.getLocation(OBJECT)</code></h3><p>在onLoad中使用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wx.getLocation(&#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'wgs84'</span>, <span class="comment">//默认为wgs84返回gps坐标，gcj02返回可用于wx.openLocation的坐标</span></div><div class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(res) <span class="comment">//可以在控制台看到返回的信息</span></div><div class="line">    &#125;)</div></pre></td></tr></table></figure></p>
<h3 id="使用微信内置地图查看位置：wx-openLocation-OBJECT"><a href="#使用微信内置地图查看位置：wx-openLocation-OBJECT" class="headerlink" title="使用微信内置地图查看位置：wx.openLocation(OBJECT)"></a>使用微信内置地图查看位置：<code>wx.openLocation(OBJECT)</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">wx.getLocation(&#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'gcj02'</span>,</div><div class="line">    <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">      <span class="keyword">var</span> latitude = res.latitude</div><div class="line">      <span class="keyword">var</span> longitude = res.longitude</div><div class="line">      wx.openLocation(&#123;</div><div class="line">        <span class="attr">latitude</span>: latitude,</div><div class="line">        <span class="attr">longitude</span>: longitude,</div><div class="line">        <span class="attr">scale</span>: <span class="number">28</span></div><div class="line">      &#125;)</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/map.png" alt="openLocation"></p>
<h3 id="打开地图选择位置"><a href="#打开地图选择位置" class="headerlink" title="打开地图选择位置"></a>打开地图选择位置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">wx.getLocation(&#123;</div><div class="line">    <span class="attr">type</span>: <span class="string">'gcj02'</span>,</div><div class="line">    <span class="attr">success</span>: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> latitude = res.latitude</div><div class="line">        <span class="keyword">var</span> longitude = res.longitude</div><div class="line">        wx.chooseLocation(&#123;</div><div class="line">            <span class="attr">latitude</span>: latitude,</div><div class="line">            <span class="attr">longitude</span>: longitude,</div><div class="line">            <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(res) <span class="comment">//输出当前位置信息：经纬度等</span></div><div class="line">            &#125;</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/chooseLocation.png" alt="chooseLocation"></p>
<h2 id="设备"><a href="#设备" class="headerlink" title="设备"></a>设备</h2><h3 id="获取网络状态：wx-getNetworkType-OBJECT"><a href="#获取网络状态：wx-getNetworkType-OBJECT" class="headerlink" title="获取网络状态：wx.getNetworkType(OBJECT)"></a>获取网络状态：<code>wx.getNetworkType(OBJECT)</code></h3><p>在<code>onLunch</code>中使用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">wx.getNetworkType(&#123;</div><div class="line">    <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</div><div class="line">      <span class="comment">// 返回网络类型, 有效值：</span></div><div class="line">      <span class="comment">// wifi/2g/3g/4g/unknown(Android下不常见的网络类型)/none(无网络)</span></div><div class="line">      <span class="keyword">var</span> networkType = res.networkType</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="获取系统消息：wx-getSystemInfo-OBJECT"><a href="#获取系统消息：wx-getSystemInfo-OBJECT" class="headerlink" title="获取系统消息：wx.getSystemInfo(OBJECT)"></a>获取系统消息：<code>wx.getSystemInfo(OBJECT)</code></h3><p>success回调参数：手机品牌、手机型号、设备像素比、屏幕宽度、屏幕高度等</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">wx.getSystemInfo(&#123;</div><div class="line">    <span class="attr">success</span>: <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(res)</div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h3 id="拨打电话：wx-makePhoneCall-OBJECT"><a href="#拨打电话：wx-makePhoneCall-OBJECT" class="headerlink" title="拨打电话：wx.makePhoneCall(OBJECT)"></a>拨打电话：<code>wx.makePhoneCall(OBJECT)</code></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">wx.makePhoneCall(&#123;</div><div class="line">  <span class="attr">phoneNumber</span>: <span class="string">'1340000'</span> <span class="comment">//仅为示例，并非真实的电话号码</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h2><p>在<code>.wxml</code>中使用<code>animation</code><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">view</span>  <span class="attr">bindtap</span>=<span class="string">"bindViewTap"</span> <span class="attr">class</span>=<span class="string">"userinfo"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">image</span> <span class="attr">animation</span>=<span class="string">"&#123;&#123;animationData&#125;&#125;"</span> <span class="attr">class</span>=<span class="string">"userinfo-avatar"</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;userInfo.avatarUrl&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">"userinfo-nickname"</span>&gt;</span>&#123;&#123;userInfo.nickName&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div></pre></td></tr></table></figure></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Page(&#123;</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">userInfo</span>: &#123;&#125;,</div><div class="line">    <span class="attr">animationData</span>: []</div><div class="line">  &#125;,</div><div class="line">  <span class="comment">//事件处理函数</span></div><div class="line">  bindViewTap: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> animation = wx.createAnimation(&#123;</div><div class="line">      <span class="attr">transformOrigin</span>: <span class="string">'50% 50% 0'</span>,</div><div class="line">      <span class="attr">duration</span>: <span class="number">3000</span>,</div><div class="line">      <span class="attr">timingFunction</span>: <span class="string">"ease"</span>,</div><div class="line">      <span class="attr">delay</span>: <span class="number">0</span></div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    animation.rotate(<span class="number">-180</span>).scale(<span class="number">2</span>).translate(<span class="number">50</span>).step()</div><div class="line"></div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">      <span class="attr">animationData</span>: animation.export()</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行效果如图：</p>
<p><img src="http://ot4r4qnml.bkt.clouddn.com/chapterList.png" alt="文章列表图"></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;小程序开发框架的目标是通过尽可能简单、高效的方式让开发者可以在微信中开发具有原生 APP 体验的服务。框架提供了自己的视图层描述语言 WXML 和 WXSS，以及基于 JavaScript 的逻辑层框架，并在视图层与逻辑层间提供了数据传输和事件系统，可以让开发者可以方便的聚焦于数据与逻辑上。&lt;/p&gt;
    
    </summary>
    
    
      <category term="WechatApp" scheme="http://yoursite.com/tags/WechatApp/"/>
    
  </entry>
  
  <entry>
    <title>Flex布局</title>
    <link href="http://yoursite.com/2017/08/17/Flex%E5%B8%83%E5%B1%80/"/>
    <id>http://yoursite.com/2017/08/17/Flex布局/</id>
    <published>2017-08-17T09:15:15.000Z</published>
    <updated>2017-09-17T13:23:07.709Z</updated>
    
    <content type="html"><![CDATA[<p>Flex是Flexible Box的缩写，意为“弹性布局”，用来为盒状模型提供最大的灵活性。</p>
<a id="more"></a>
<h2 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h2><p><img src="http://otf35fo4u.bkt.clouddn.com/flex.png" alt="容器图"></p>
<h3 id="flex-direction"><a href="#flex-direction" class="headerlink" title="flex-direction"></a>flex-direction</h3><p>该属性决定主轴的方向，即项目排列方向。</p>
<p>语法：<code>flex-direction: row | row-reverse | column | column-reverse</code></p>
<p><code>row</code>为默认值，主轴为水平方向，起点在左端。</p>
<h3 id="flex-wrap"><a href="#flex-wrap" class="headerlink" title="flex-wrap"></a>flex-wrap</h3><p>默认情况下，项目都排在一条线（又称”轴线”）上。<code>flex-wrap</code>属性定义，如果一条轴线排不下，如何换行。</p>
<p>语法：<code>flex-wrap: nowrap | wrap | wrap-reverse</code></p>
<p><code>nowrap</code>为默认值，不换行；<code>wrap</code>换行，第一行在上方；<code>wrap-reverse</code>换行，第一行在下面。</p>
<h3 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h3><p><code>flex-flow</code>属性是<code>flex-direction</code>属性和<code>flex-wrap</code>属性的简写形式，默认值为<code>row nowrap</code>。</p>
<h3 id="justify-content"><a href="#justify-content" class="headerlink" title="justify-content"></a>justify-content</h3><p>该属性定义了项目在主轴上的对齐方式。</p>
<p>语法：<code>justify-content: flex-start | flex-end | center | space-between | space-around</code></p>
<p><img src="http://otf35fo4u.bkt.clouddn.com/justify-content.png" alt="主轴对其方式"></p>
<h3 id="align-items"><a href="#align-items" class="headerlink" title="align-items"></a>align-items</h3><p>该属性定义项目在交叉轴上如何对齐。</p>
<p>语法：<code>align-items: flex-start | flex-end | center | baseline | stretch</code></p>
<p><img src="http://otf35fo4u.bkt.clouddn.com/align-items.png" alt="交叉轴对齐方式"></p>
<p><code>baseline</code>项目的第一行文字的基线对齐;<code>stretch</code>为默认值，如果项目未设置高度或设为auto，将占满整个容器的高度。</p>
<h3 id="align-content"><a href="#align-content" class="headerlink" title="align-content"></a>align-content</h3><p><code>align-content</code>属性定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。</p>
<p>语法：<code>align-content: flex-start | flex-end | center | space-between | space-around | stretch</code></p>
<p><img src="http://otf35fo4u.bkt.clouddn.com/align-content.png" alt="对齐"></p>
<h2 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h2><h3 id="flex-grow"><a href="#flex-grow" class="headerlink" title="flex-grow"></a>flex-grow</h3><p><code>flex-grow</code>属性定义项目的放大比例，默认为0，即如果存在剩余空间，也不放大</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">.item&#123; flex-grow: <span class="tag">&lt;<span class="name">number</span>&gt;</span>; /*default 0*/ &#125;</div></pre></td></tr></table></figure>
<h3 id="flex-shrink"><a href="#flex-shrink" class="headerlink" title="flex-shrink"></a>flex-shrink</h3><p><code>flex-shrink</code>属性定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。(负值对该属性无效)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">.item&#123; flex-shrink: <span class="tag">&lt;<span class="name">number</span>&gt;</span>; /*default 1*/ &#125;</div></pre></td></tr></table></figure>
<h3 id="flex-basis"><a href="#flex-basis" class="headerlink" title="flex-basis"></a>flex-basis</h3><p><code>flex-basis</code>属性定义了在分配多余空间之前，项目占据的主轴空间（main size）。浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为<code>auto</code>，即项目的本来大小。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">.item&#123; flex-basis: <span class="tag">&lt;<span class="name">length</span>&gt;</span>; /*default auto*/ &#125;</div></pre></td></tr></table></figure>
<h3 id="flex"><a href="#flex" class="headerlink" title="flex"></a>flex</h3><p><code>flex</code>属性是<code>flex-grow</code>, <code>flex-shrink</code>和<code>flex-basis</code>的简写，默认值为<code>0 1 auto</code>。后两个属性可选。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">.item&#123; flex: none | [&lt;'flex-grow'&gt;] &lt;'&lt;flex-shrink&gt;'&gt; || &lt;'flex-basis'&gt; &#125;</div></pre></td></tr></table></figure>
<p>该属性有两个快捷值：<code>auto (1 1 auto)</code>和<code>none (0 0 auto)</code>。建议优先使用这个属性，而不是单独写三个分离的属性，因为浏览器会推算相关。</p>
<p><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="external">阮一峰 Flex布局</a><br><a href="http://www.ruanyifeng.com/blog/2015/07/flex-examples.html" target="_blank" rel="external">Flex布局 实例篇</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Flex是Flexible Box的缩写，意为“弹性布局”，用来为盒状模型提供最大的灵活性。&lt;/p&gt;
    
    </summary>
    
      <category term="Web前端" scheme="http://yoursite.com/categories/Web%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="CSS" scheme="http://yoursite.com/tags/CSS/"/>
    
  </entry>
  
</feed>
